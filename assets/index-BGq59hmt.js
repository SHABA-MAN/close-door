(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function xb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Id={exports:{}},ml={};var x_;function Nb(){if(x_)return ml;x_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var N_;function Db(){return N_||(N_=1,Id.exports=Nb()),Id.exports}var S=Db(),xd={exports:{}},Et={};var D_;function Ob(){if(D_)return Et;D_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,J={};function ct(O,Y,it){this.props=O,this.context=Y,this.refs=J,this.updater=it||W}ct.prototype.isReactComponent={},ct.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ct.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function yt(){}yt.prototype=ct.prototype;function dt(O,Y,it){this.props=O,this.context=Y,this.refs=J,this.updater=it||W}var Pt=dt.prototype=new yt;Pt.constructor=dt,et(Pt,ct.prototype),Pt.isPureReactComponent=!0;var Ft=Array.isArray;function Z(){}var w={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,Y,it){var rt=it.ref;return{$$typeof:s,type:O,key:Y,ref:rt!==void 0?rt:null,props:it}}function M(O,Y){return C(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return Y[it]})}var I=/\/+/g;function ee(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Z,Z):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,it,rt,_t){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(At){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case s:case t:kt=!0;break;case b:return kt=O._init,H(kt(O._payload),Y,it,rt,_t)}}if(kt)return _t=_t(O),kt=rt===""?"."+ee(O,0):rt,Ft(_t)?(it="",kt!=null&&(it=kt.replace(I,"$&/")+"/"),H(_t,Y,it,"",function(nr){return nr})):_t!=null&&(N(_t)&&(_t=M(_t,it+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(I,"$&/")+"/")+kt)),Y.push(_t)),1;kt=0;var xe=rt===""?".":rt+":";if(Ft(O))for(var ae=0;ae<O.length;ae++)rt=O[ae],At=xe+ee(rt,ae),kt+=H(rt,Y,it,At,_t);else if(ae=G(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(rt=O.next()).done;)rt=rt.value,At=xe+ee(rt,ae++),kt+=H(rt,Y,it,At,_t);else if(At==="object"){if(typeof O.then=="function")return H(ne(O),Y,it,rt,_t);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return kt}function nt(O,Y,it){if(O==null)return O;var rt=[],_t=0;return H(O,rt,"","",function(At){return Y.call(it,At,_t++)}),rt}function ht(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:nt,forEach:function(O,Y,it){nt(O,function(){Y.apply(this,arguments)},it)},count:function(O){var Y=0;return nt(O,function(){Y++}),Y},toArray:function(O){return nt(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=R,Et.Children=Gt,Et.Component=ct,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=dt,Et.StrictMode=a,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,Y,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=et({},O.props),_t=O.key;if(Y!=null)for(At in Y.key!==void 0&&(_t=""+Y.key),Y)!A.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(rt[At]=Y[At]);var At=arguments.length-2;if(At===1)rt.children=it;else if(1<At){for(var kt=Array(At),xe=0;xe<At;xe++)kt[xe]=arguments[xe+2];rt.children=kt}return C(O.type,_t,rt)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,Y,it){var rt,_t={},At=null;if(Y!=null)for(rt in Y.key!==void 0&&(At=""+Y.key),Y)A.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=Y[rt]);var kt=arguments.length-2;if(kt===1)_t.children=it;else if(1<kt){for(var xe=Array(kt),ae=0;ae<kt;ae++)xe[ae]=arguments[ae+2];_t.children=xe}if(O&&O.defaultProps)for(rt in kt=O.defaultProps,kt)_t[rt]===void 0&&(_t[rt]=kt[rt]);return C(O,At,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:p,render:O}},Et.isValidElement=N,Et.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ht}},Et.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},Et.startTransition=function(O){var Y=w.T,it={};w.T=it;try{var rt=O(),_t=w.S;_t!==null&&_t(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Z,Lt)}catch(At){Lt(At)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),w.T=Y}},Et.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Et.use=function(O){return w.H.use(O)},Et.useActionState=function(O,Y,it){return w.H.useActionState(O,Y,it)},Et.useCallback=function(O,Y){return w.H.useCallback(O,Y)},Et.useContext=function(O){return w.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,Y){return w.H.useDeferredValue(O,Y)},Et.useEffect=function(O,Y){return w.H.useEffect(O,Y)},Et.useEffectEvent=function(O){return w.H.useEffectEvent(O)},Et.useId=function(){return w.H.useId()},Et.useImperativeHandle=function(O,Y,it){return w.H.useImperativeHandle(O,Y,it)},Et.useInsertionEffect=function(O,Y){return w.H.useInsertionEffect(O,Y)},Et.useLayoutEffect=function(O,Y){return w.H.useLayoutEffect(O,Y)},Et.useMemo=function(O,Y){return w.H.useMemo(O,Y)},Et.useOptimistic=function(O,Y){return w.H.useOptimistic(O,Y)},Et.useReducer=function(O,Y,it){return w.H.useReducer(O,Y,it)},Et.useRef=function(O){return w.H.useRef(O)},Et.useState=function(O){return w.H.useState(O)},Et.useSyncExternalStore=function(O,Y,it){return w.H.useSyncExternalStore(O,Y,it)},Et.useTransition=function(){return w.H.useTransition()},Et.version="19.2.0",Et}var O_;function Tm(){return O_||(O_=1,xd.exports=Ob()),xd.exports}var Dt=Tm();const bv=xb(Dt);var Nd={exports:{}},pl={},Dd={exports:{}},Od={};var M_;function Mb(){return M_||(M_=1,(function(s){function t(H,nt){var ht=H.length;H.push(nt);t:for(;0<ht;){var Lt=ht-1>>>1,Gt=H[Lt];if(0<l(Gt,nt))H[Lt]=nt,H[ht]=Gt,ht=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var nt=H[0],ht=H.pop();if(ht!==nt){H[0]=ht;t:for(var Lt=0,Gt=H.length,O=Gt>>>1;Lt<O;){var Y=2*(Lt+1)-1,it=H[Y],rt=Y+1,_t=H[rt];if(0>l(it,ht))rt<Gt&&0>l(_t,it)?(H[Lt]=_t,H[rt]=ht,Lt=rt):(H[Lt]=it,H[Y]=ht,Lt=Y);else if(rt<Gt&&0>l(_t,ht))H[Lt]=_t,H[rt]=ht,Lt=rt;else break t}}return nt}function l(H,nt){var ht=H.sortIndex-nt.sortIndex;return ht!==0?ht:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,R=null,V=3,G=!1,W=!1,et=!1,J=!1,ct=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Pt(H){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=H)a(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function Ft(H){if(et=!1,Pt(H),!W)if(i(y)!==null)W=!0,Z||(Z=!0,U());else{var nt=i(_);nt!==null&&ne(Ft,nt.startTime-H)}}var Z=!1,w=-1,A=5,C=-1;function M(){return J?!0:!(s.unstable_now()-C<A)}function N(){if(J=!1,Z){var H=s.unstable_now();C=H;var nt=!0;try{t:{W=!1,et&&(et=!1,yt(w),w=-1),G=!0;var ht=V;try{e:{for(Pt(H),R=i(y);R!==null&&!(R.expirationTime>H&&M());){var Lt=R.callback;if(typeof Lt=="function"){R.callback=null,V=R.priorityLevel;var Gt=Lt(R.expirationTime<=H);if(H=s.unstable_now(),typeof Gt=="function"){R.callback=Gt,Pt(H),nt=!0;break e}R===i(y)&&a(y),Pt(H)}else a(y);R=i(y)}if(R!==null)nt=!0;else{var O=i(_);O!==null&&ne(Ft,O.startTime-H),nt=!1}}break t}finally{R=null,V=ht,G=!1}nt=void 0}}finally{nt?U():Z=!1}}}var U;if(typeof dt=="function")U=function(){dt(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ee=I.port2;I.port1.onmessage=N,U=function(){ee.postMessage(null)}}else U=function(){ct(N,0)};function ne(H,nt){w=ct(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(H){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var ht=V;V=nt;try{return H()}finally{V=ht}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=V;V=H;try{return nt()}finally{V=ht}},s.unstable_scheduleCallback=function(H,nt,ht){var Lt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Lt+ht:Lt):ht=Lt,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,H={id:b++,callback:nt,priorityLevel:H,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>Lt?(H.sortIndex=ht,t(_,H),i(y)===null&&H===i(_)&&(et?(yt(w),w=-1):et=!0,ne(Ft,ht-Lt))):(H.sortIndex=Gt,t(y,H),W||G||(W=!0,Z||(Z=!0,U()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var nt=V;return function(){var ht=V;V=nt;try{return H.apply(this,arguments)}finally{V=ht}}}})(Od)),Od}var V_;function Vb(){return V_||(V_=1,Dd.exports=Mb()),Dd.exports}var Md={exports:{}},Ye={};var k_;function kb(){if(k_)return Ye;k_=1;var s=Tm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:y,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},Ye.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,R=p(b,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:V,fetchPriority:G}):b==="script"&&a.d.X(y,{crossOrigin:R,integrity:V,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,R=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ye.requestFormReset=function(y){a.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var U_;function Ub(){if(U_)return Md.exports;U_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=kb(),Md.exports}var L_;function Lb(){if(L_)return pl;L_=1;var s=Vb(),t=Tm(),i=Ub();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),Ft=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ct:return"Profiler";case J:return"StrictMode";case Ft:return"Suspense";case Z:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case dt:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var ne=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Lt=[],Gt=-1;function O(e){return{current:e}}function Y(e){0>Gt||(e.current=Lt[Gt],Lt[Gt]=null,Gt--)}function it(e,n){Gt++,Lt[Gt]=e.current,e.current=n}var rt=O(null),_t=O(null),At=O(null),kt=O(null);function xe(e,n){switch(it(At,n),it(_t,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),it(rt,e)}function ae(){Y(rt),Y(_t),Y(At)}function nr(e){e.memoizedState!==null&&it(kt,e);var n=rt.current,r=Wy(n,e.type);n!==r&&(it(_t,e),it(rt,r))}function Yr(e){_t.current===e&&(Y(rt),Y(_t)),kt.current===e&&(Y(kt),cl._currentValue=ht)}var Xr,$r;function Jn(e){if(Xr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",$r=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+$r}var uo=!1;function ir(e,n){if(!e||uo)return"";uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){z=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),j=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var F=`
`+x[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{uo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Jn(r):""}function co(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return ir(e.type,!1);case 11:return ir(e.type.render,!1);case 1:return ir(e.type,!0);case 31:return Jn("Activity");default:return""}}function ho(e){try{var n="",r=null;do n+=co(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,rs=s.unstable_cancelCallback,xh=s.unstable_shouldYield,$l=s.unstable_requestPaint,We=s.unstable_now,sr=s.unstable_getCurrentPriorityLevel,fo=s.unstable_ImmediatePriority,mo=s.unstable_UserBlockingPriority,as=s.unstable_NormalPriority,Nh=s.unstable_LowPriority,Zl=s.unstable_IdlePriority,Jl=s.log,Wl=s.unstable_setDisableYieldValue,Ln=null,je=null;function Tn(e){if(typeof Jl=="function"&&Wl(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ln,e)}catch{}}var de=Math.clz32?Math.clz32:eu,tu=Math.log,Zr=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/Zr|0)|0}var Wn=256,rr=262144,ve=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):r||(r=E&~e,r!==0&&(h=ti(r))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):r||(r=o&~e,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ni(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,j=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-de(r),K=1<<F;E[F]=0,x[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}r&=~K}o!==0&&or(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function or(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function po(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-de(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function go(e,n){var r=n&-n;return r=(r&42)!==0?1:lr(r),(r&(e.suspendedLanes|n))!==0?0:r}function lr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function jn(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var zn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+zn,Ve="__reactProps$"+zn,ii="__reactContainer$"+zn,Jr="__reactEvents$"+zn,Mh="__reactListeners$"+zn,su="__reactHandles$"+zn,ru="__reactResources$"+zn,si="__reactMarker$"+zn;function Wr(e){delete e[Ee],delete e[Ve],delete e[Jr],delete e[Mh],delete e[su]}function ri(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ii]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=a_(e);e!==null;){if(r=e[Ee])return r;e=a_(e)}return n}e=r,r=e.parentNode}return null}function bn(e){if(e=e[Ee]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[si]=!0}var yo=new Set,_o={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(_o[e]=n,e=0;e<n.length;e++)yo.add(n[e])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function au(e){return _e.call(To,e)?!0:_e.call(Eo,e)?!1:vo.test(e)?To[e]=!0:(Eo[e]=!0,!1)}function ta(e,n,r){if(au(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function be(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function os(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=os(e)?"checked":"value";e._valueTracker=bo(e,n,""+e[n])}}function ur(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=os(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cr=/[\n"\\]/g;function nn(e){return e.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?So(e,g,ke(n)):r!=null?So(e,g,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function ou(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function So(e,n,r){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ls(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function us(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ne(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Qt(e)}function sn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||uu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function wo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Ao(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ao(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Ro=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,ci=null;function hr(e){var n=bn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ur(o)}break t;case"textarea":lu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ls(e,!!r.multiple,n,!1)}}}var sa=!1;function fs(e,n,r){if(sa)return e(n,r);sa=!0;try{var o=e(n);return o}finally{if(sa=!1,(hs!==null||ci!==null)&&(ic(),hs&&(n=hs,e=ci,ci=hs=null,hr(n),e)))for(n=0;n<e.length;n++)hr(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(An)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{fr=!1}var hi=null,Co=null,dr=null;function Io(){if(dr)return dr;var e,n=Co,r=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return dr=h.slice(e,1<o?1-o:void 0)}function mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Hn(){return!1}function ze(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:Hn,this.isPropagationStopped=Hn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ze(Di),ds=R({},Di,{view:0,detail:0}),xo=ze(ds),ms,ra,di,aa=R({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ms=e.screenX-di.screenX,ra=e.screenY-di.screenY):ra=ms=0,di=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),No=ze(aa),pr=R({},aa,{dataTransfer:0}),hu=ze(pr),fu=R({},ds,{relatedTarget:0}),gr=ze(fu),Do=R({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),du=ze(Do),oa=R({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=ze(oa),pu=R({},Di,{data:0}),mi=ze(pu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function ps(){return vu}var tn=R({},ds,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=ze(tn),Tu=R({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=ze(Tu),u=R({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),m=ze(u),v=R({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),L=R({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),tt=R({},Di,{newState:0,oldState:0}),bt=ze(tt),me=[9,13,27,32],Bt=An&&"CompositionEvent"in window,oe=null;An&&"documentMode"in document&&(oe=document.documentMode);var wn=An&&"TextEvent"in window&&!oe,pi=An&&(!Bt||oe&&8<oe&&11>=oe),Fn=" ",Gn=!1;function yr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function WT(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Gn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Gn?null:e;default:return null}}function t1(e,n){if(ua)return e==="compositionend"||!Bt&&yr(e,n)?(e=Io(),dr=Co=hi=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var e1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!e1[e.type]:n==="textarea"}function cp(e,n,r,o){hs?ci?ci.push(o):ci=[o]:hs=o,n=cc(n,"onChange"),0<n.length&&(r=new fi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Oo=null,Mo=null;function n1(e){Qy(e,0)}function bu(e){var n=fn(e);if(ur(n))return e}function hp(e,n){if(e==="change")return n}var fp=!1;if(An){var Vh;if(An){var kh="oninput"in document;if(!kh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),kh=typeof dp.oninput=="function"}Vh=kh}else Vh=!1;fp=Vh&&(!document.documentMode||9<document.documentMode)}function mp(){Oo&&(Oo.detachEvent("onpropertychange",pp),Mo=Oo=null)}function pp(e){if(e.propertyName==="value"&&bu(Mo)){var n=[];cp(n,Mo,e,Sn(e)),fs(n1,n)}}function i1(e,n,r){e==="focusin"?(mp(),Oo=n,Mo=r,Oo.attachEvent("onpropertychange",pp)):e==="focusout"&&mp()}function s1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Mo)}function r1(e,n){if(e==="click")return bu(n)}function a1(e,n){if(e==="input"||e==="change")return bu(n)}function o1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:o1;function Vo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_e.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,n){var r=gp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=gp(r)}}function _p(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_p(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ui(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var l1=An&&"documentMode"in document&&11>=document.documentMode,ca=null,Lh=null,ko=null,Ph=!1;function Ep(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ph||ca==null||ca!==ui(o)||(o=ca,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&Vo(ko,o)||(ko=o,o=cc(Lh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ca)))}function _r(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ha={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},jh={},Tp={};An&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function vr(e){if(jh[e])return jh[e];if(!ha[e])return e;var n=ha[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Tp)return jh[e]=n[r];return e}var bp=vr("animationend"),Sp=vr("animationiteration"),Ap=vr("animationstart"),u1=vr("transitionrun"),c1=vr("transitionstart"),h1=vr("transitioncancel"),wp=vr("transitionend"),Rp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Qn(e,n){Rp.set(e,n),oi(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],fa=0,Bh=0;function Au(){for(var e=fa,n=Bh=fa=0;n<e;){var r=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Cp(r,h,f)}}function wu(e,n,r,o){Rn[fa++]=e,Rn[fa++]=n,Rn[fa++]=r,Rn[fa++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,r,o){return wu(e,n,r,o),Ru(e)}function Er(e,n){return wu(e,null,null,n),Ru(e)}function Cp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Ru(e){if(50<il)throw il=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function f1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,o){return new f1(e,n,r,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ip(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=yb(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=pn(31,r,n,h),e.elementType=C,e.lanes=f,e;case et:return Tr(r.children,h,f,n);case J:g=8,h|=24;break;case ct:return e=pn(12,r,n,h|2),e.elementType=ct,e.lanes=f,e;case Ft:return e=pn(13,r,n,h),e.elementType=Ft,e.lanes=f,e;case Z:return e=pn(19,r,n,h),e.elementType=Z,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case yt:g=9;break t;case Pt:g=11;break t;case w:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Tr(e,n,r,o){return e=pn(7,e,o,n),e.lanes=r,e}function Fh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function xp(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Np=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var r=Np.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ho(n)},Np.set(e,n),n)}return{value:e,source:n,stack:ho(n)}}var ma=[],pa=0,Iu=null,Uo=0,In=[],xn=0,gs=null,gi=1,yi="";function Vi(e,n){ma[pa++]=Uo,ma[pa++]=Iu,Iu=e,Uo=n}function Dp(e,n,r){In[xn++]=gi,In[xn++]=yi,In[xn++]=gs,gs=e;var o=gi;e=yi;var h=32-de(o)-1;o&=~(1<<h),r+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,gi=1<<32-de(n)+h|r<<h|o,yi=f+e}else gi=1<<f|r<<h|o,yi=e}function Qh(e){e.return!==null&&(Vi(e,1),Dp(e,1,0))}function Kh(e){for(;e===Iu;)Iu=ma[--pa],ma[pa]=null,Uo=ma[--pa],ma[pa]=null;for(;e===gs;)gs=In[--xn],In[xn]=null,yi=In[--xn],In[xn]=null,gi=In[--xn],In[xn]=null}function Op(e,n){In[xn++]=gi,In[xn++]=yi,In[xn++]=gs,gi=n.id,yi=n.overflow,gs=e}var Be=null,ie=null,Vt=!1,ys=null,Nn=!1,Yh=Error(a(519));function _s(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Cn(n,e)),Yh}function Mp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ve]=o,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<rl.length;r++)Ct(rl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),us(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||$y(n.textContent,r)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||_s(e,!0)}function Vp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Be=Be.return}}function ga(e){if(e!==Be)return!1;if(!Vt)return Vp(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||dd(e.type,e.memoizedProps)),r=!r),r&&ie&&_s(e),Vp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=r_(e)}else n===27?(n=ie,Os(e.type)?(e=_d,_d=null,ie=e):ie=n):ie=Be?On(e.stateNode.nextSibling):null;return!0}function br(){ie=Be=null,Vt=!1}function Xh(){var e=ys;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ys=null),e}function Lo(e){ys===null?ys=[e]:ys.push(e)}var $h=O(null),Sr=null,ki=null;function vs(e,n,r){it($h,n._currentValue),n._currentValue=r}function Ui(e){e._currentValue=$h.current,Y($h)}function Zh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Jh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Zh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Zh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Jh(n,e,r,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ar(e){Sr=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return kp(Sr,e)}function Nu(e,n){return Sr===null&&Ar(e),kp(e,n)}function kp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return r}var d1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},m1=s.unstable_scheduleCallback,p1=s.unstable_NormalPriority,Se={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new d1,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&m1(p1,function(){e.controller.abort()})}var jo=null,tf=0,_a=0,va=null;function g1(e,n){if(jo===null){var r=jo=[];tf=0,_a=sd(),va={status:"pending",value:void 0,then:function(o){r.push(o)}}}return tf++,n.then(Up,Up),n}function Up(){if(--tf===0&&jo!==null){va!==null&&(va.status="fulfilled");var e=jo;jo=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function y1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Lp=H.S;H.S=function(e,n){Ey=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&g1(e,n),Lp!==null&&Lp(e,n)};var wr=O(null);function ef(){var e=wr.current;return e!==null?e:Wt.pooledCache}function Du(e,n){n===null?it(wr,wr.current):it(wr,n.pool)}function Pp(){var e=ef();return e===null?null:{parent:Se._currentValue,pool:e}}var Ea=Error(a(460)),nf=Error(a(474)),Ou=Error(a(542)),Mu={then:function(){}};function jp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e}throw Cr=n,Ea}}function Rr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Cr=r,Ea):r}}var Cr=null;function Bp(){if(Cr===null)throw Error(a(459));var e=Cr;return Cr=null,e}function qp(e){if(e===Ea||e===Ou)throw Error(a(483))}var Ta=null,zo=0;function Vu(e){var n=zo;return zo+=1,Ta===null&&(Ta=[]),zp(Ta,e,n)}function Bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hp(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function r(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Mi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Q){return D===null||D.tag!==6?(D=Fh(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function x(k,D,P,Q){var ut=P.type;return ut===et?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&Rr(ut)===D.type)?(D=h(D,P.props),Bo(D,P),D.return=k,D):(D=Cu(P.type,P.key,P.props,null,k.mode,Q),Bo(D,P),D.return=k,D)}function j(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Gh(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,ut){return D===null||D.tag!==7?(D=Tr(P,k.mode,Q,ut),D.return=k,D):(D=h(D,P),D.return=k,D)}function K(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Cu(D.type,D.key,D.props,null,k.mode,P),Bo(P,D),P.return=k,P;case W:return D=Gh(D,k.mode,P),D.return=k,D;case A:return D=Rr(D),K(k,D,P)}if(ne(D)||U(D))return D=Tr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return K(k,Vu(D),P);if(D.$$typeof===dt)return K(k,Nu(k,D),P);ku(k,D)}return null}function z(k,D,P,Q){var ut=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ut?x(k,D,P,Q):null;case W:return P.key===ut?j(k,D,P,Q):null;case A:return P=Rr(P),z(k,D,P,Q)}if(ne(P)||U(P))return ut!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return z(k,D,Vu(P),Q);if(P.$$typeof===dt)return z(k,D,Nu(k,P),Q);ku(k,P)}return null}function q(k,D,P,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(D,k,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return k=k.get(Q.key===null?P:Q.key)||null,x(D,k,Q,ut);case W:return k=k.get(Q.key===null?P:Q.key)||null,j(D,k,Q,ut);case A:return Q=Rr(Q),q(k,D,P,Q,ut)}if(ne(Q)||U(Q))return k=k.get(P)||null,F(D,k,Q,ut,null);if(typeof Q.then=="function")return q(k,D,P,Vu(Q),ut);if(Q.$$typeof===dt)return q(k,D,P,Nu(D,Q),ut);ku(D,Q)}return null}function at(k,D,P,Q){for(var ut=null,jt=null,ot=D,wt=D=0,xt=null;ot!==null&&wt<P.length;wt++){ot.index>wt?(xt=ot,ot=null):xt=ot.sibling;var zt=z(k,ot,P[wt],Q);if(zt===null){ot===null&&(ot=xt);break}e&&ot&&zt.alternate===null&&n(k,ot),D=f(zt,D,wt),jt===null?ut=zt:jt.sibling=zt,jt=zt,ot=xt}if(wt===P.length)return r(k,ot),Vt&&Vi(k,wt),ut;if(ot===null){for(;wt<P.length;wt++)ot=K(k,P[wt],Q),ot!==null&&(D=f(ot,D,wt),jt===null?ut=ot:jt.sibling=ot,jt=ot);return Vt&&Vi(k,wt),ut}for(ot=o(ot);wt<P.length;wt++)xt=q(ot,k,wt,P[wt],Q),xt!==null&&(e&&xt.alternate!==null&&ot.delete(xt.key===null?wt:xt.key),D=f(xt,D,wt),jt===null?ut=xt:jt.sibling=xt,jt=xt);return e&&ot.forEach(function(Ls){return n(k,Ls)}),Vt&&Vi(k,wt),ut}function mt(k,D,P,Q){if(P==null)throw Error(a(151));for(var ut=null,jt=null,ot=D,wt=D=0,xt=null,zt=P.next();ot!==null&&!zt.done;wt++,zt=P.next()){ot.index>wt?(xt=ot,ot=null):xt=ot.sibling;var Ls=z(k,ot,zt.value,Q);if(Ls===null){ot===null&&(ot=xt);break}e&&ot&&Ls.alternate===null&&n(k,ot),D=f(Ls,D,wt),jt===null?ut=Ls:jt.sibling=Ls,jt=Ls,ot=xt}if(zt.done)return r(k,ot),Vt&&Vi(k,wt),ut;if(ot===null){for(;!zt.done;wt++,zt=P.next())zt=K(k,zt.value,Q),zt!==null&&(D=f(zt,D,wt),jt===null?ut=zt:jt.sibling=zt,jt=zt);return Vt&&Vi(k,wt),ut}for(ot=o(ot);!zt.done;wt++,zt=P.next())zt=q(ot,k,wt,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?wt:zt.key),D=f(zt,D,wt),jt===null?ut=zt:jt.sibling=zt,jt=zt);return e&&ot.forEach(function(Ib){return n(k,Ib)}),Vt&&Vi(k,wt),ut}function Jt(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ut=P.key;D!==null;){if(D.key===ut){if(ut=P.type,ut===et){if(D.tag===7){r(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&Rr(ut)===D.type){r(k,D.sibling),Q=h(D,P.props),Bo(Q,P),Q.return=k,k=Q;break t}r(k,D);break}else n(k,D);D=D.sibling}P.type===et?(Q=Tr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Cu(P.type,P.key,P.props,null,k.mode,Q),Bo(Q,P),Q.return=k,k=Q)}return g(k);case W:t:{for(ut=P.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break t}else{r(k,D);break}else n(k,D);D=D.sibling}Q=Gh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case A:return P=Rr(P),Jt(k,D,P,Q)}if(ne(P))return at(k,D,P,Q);if(U(P)){if(ut=U(P),typeof ut!="function")throw Error(a(150));return P=ut.call(P),mt(k,D,P,Q)}if(typeof P.then=="function")return Jt(k,D,Vu(P),Q);if(P.$$typeof===dt)return Jt(k,D,Nu(k,P),Q);ku(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(r(k,D),Q=Fh(P,k.mode,Q),Q.return=k,k=Q),g(k)):r(k,D)}return function(k,D,P,Q){try{zo=0;var ut=Jt(k,D,P,Q);return Ta=null,ut}catch(ot){if(ot===Ea||ot===Ou)throw ot;var jt=pn(29,ot,null,k.mode);return jt.lanes=Q,jt.return=k,jt}finally{}}}var Ir=Hp(!0),Fp=Hp(!1),Es=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Cp(e,null,r),n}return wu(e,o,n,r),Ru(e)}function qo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,po(e,r)}}function af(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var of=!1;function Ho(){if(of){var e=va;if(e!==null)throw e}}function Fo(e,n,r,o){of=!1;var h=e.updateQueue;Es=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,g===null?f=j:g.next=j,g=x;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=x))}if(f!==null){var K=h.baseState;g=0,F=j=x=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(It&z)===z:(o&z)===z){z!==0&&z===_a&&(of=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;z=n;var Jt=r;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){K=at.call(Jt,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,z=typeof at=="function"?at.call(Jt,K,z):at,z==null)break t;K=R({},K,z);break t;case 2:Es=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=q,x=K):F=F.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(x=K),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Cs|=g,e.lanes=g,e.memoizedState=K}}function Gp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Qp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Gp(r[e],n)}var ba=O(null),Uu=O(0);function Kp(e,n){e=Gi,it(Uu,e),it(ba,n),Gi=e|n.baseLanes}function lf(){it(Uu,Gi),it(ba,ba.current)}function uf(){Gi=Uu.current,Y(ba),Y(Uu)}var gn=O(null),Dn=null;function Ss(e){var n=e.alternate;it(pe,pe.current&1),it(gn,e),Dn===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(Dn=e)}function cf(e){it(pe,pe.current),it(gn,e),Dn===null&&(Dn=e)}function Yp(e){e.tag===22?(it(pe,pe.current),it(gn,e),Dn===null&&(Dn=e)):As()}function As(){it(pe,pe.current),it(gn,gn.current)}function yn(e){Y(gn),Dn===e&&(Dn=null),Y(pe)}var pe=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gd(r)||yd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,St=null,$t=null,Ae=null,Pu=!1,Sa=!1,xr=!1,ju=0,Go=0,Aa=null,_1=0;function he(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function ff(e,n,r,o,h,f){return Li=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Dg:Cf,xr=!1,f=r(o,h),xr=!1,Sa&&(f=$p(n,r,o,h)),Xp(e),f}function Xp(e){H.H=Yo;var n=$t!==null&&$t.next!==null;if(Li=0,Ae=$t=St=null,Pu=!1,Go=0,Aa=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&xu(e)&&(we=!0))}function $p(e,n,r,o){St=e;var h=0;do{if(Sa&&(Aa=null),Go=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Og,f=n(r,o)}while(Sa);return f}function v1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(St.flags|=1024),n}function df(){var e=ju!==0;return ju=0,e}function mf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function pf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}Li=0,Ae=$t=St=null,Sa=!1,Go=ju=0,Aa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if($t===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,$t=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Go;return Go+=1,Aa===null&&(Aa=[]),e=zp(Aa,e,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Dg:Cf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===dt)return qe(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=zu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function Pi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=ge();return yf(n,$t,e)}function yf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,x=null,j=n,F=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(It&K)===K:(Li&K)===K){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===_a&&(F=!0);else if((Li&z)===z){j=j.next,z===_a&&(F=!0);continue}else K={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=K,g=f):x=x.next=K,St.lanes|=z,Cs|=z;K=j.action,xr&&r(f,K),f=j.hasEagerState?j.eagerState:r(f,K)}else z={lane:K,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,g=f):x=x.next=z,St.lanes|=K,Cs|=K;j=j.next}while(j!==null&&j!==n);if(x===null?g=f:x.next=E,!mn(f,e.memoizedState)&&(we=!0,F&&(r=va,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Zp(e,n,r){var o=St,h=ge(),f=Vt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!mn(($t||h).memoizedState,r);if(g&&(h.memoizedState=r,we=!0),h=h.queue,Tf(tg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},Wp.bind(null,o,h,r,n),null),Wt===null)throw Error(a(349));f||(Li&127)!==0||Jp(o,n,r)}return r}function Jp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=zu(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Wp(e,n,r,o){n.value=r,n.getSnapshot=o,eg(n)&&ng(e)}function tg(e,n,r){return r(function(){eg(n)&&ng(e)})}function eg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function ng(e){var n=Er(e,2);n!==null&&un(n,e,2)}function vf(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),xr){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function ig(e,n,r,o){return e.baseState=r,yf(e,$t,typeof o=="function"?o:Pi)}function E1(e,n,r,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,sg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function sg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),x=H.S;x!==null&&x(g,E),rg(e,n,E)}catch(j){Ef(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),rg(e,n,f)}catch(j){Ef(e,n,j)}}function rg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){ag(e,n,o)},function(o){return Ef(e,n,o)}):ag(e,n,r)}function ag(e,n,r){n.status="fulfilled",n.value=r,og(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,sg(e,r)))}function Ef(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,og(n),n=n.next;while(n!==o)}e.action=null}function og(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function lg(e,n){return n}function ug(e,n){if(Vt){var r=Wt.formState;if(r!==null){t:{var o=St;if(Vt){if(ie){e:{for(var h=ie,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=On(h.nextSibling),o=h.data==="F!";break t}}_s(o)}o=!1}o&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},r.queue=o,r=Ig.bind(null,St,o),o.dispatch=r,o=vf(!1),f=Rf.bind(null,St,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=E1.bind(null,St,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function cg(e){var n=ge();return hg(n,$t,e)}function hg(e,n,r){if(n=yf(e,n,lg)[0],e=qu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(g){throw g===Ea?Ou:g}else o=n;n=ge();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(St.flags|=2048,wa(9,{destroy:void 0},T1.bind(null,h,r),null)),[o,f,e]}function T1(e,n){e.action=n}function fg(e){var n=ge(),r=$t;if(r!==null)return hg(n,r,e);ge(),n=n.memoizedState,r=ge();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function wa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=zu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function dg(){return ge().memoizedState}function Hu(e,n,r,o){var h=en();St.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Fu(e,n,r,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&hf(o,$t.memoizedState.deps)?h.memoizedState=wa(n,f,r,o):(St.flags|=e,h.memoizedState=wa(1|n,f,r,o))}function mg(e,n){Hu(8390656,8,e,n)}function Tf(e,n){Fu(2048,8,e,n)}function b1(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=zu(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function pg(e){var n=ge().memoizedState;return b1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(e,n){return Fu(4,2,e,n)}function yg(e,n){return Fu(4,4,e,n)}function _g(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,r){r=r!=null?r.concat([e]):null,Fu(4,4,_g.bind(null,n,e),r)}function bf(){}function Eg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Tg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),xr){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o}function Sf(e,n,r){return r===void 0||(Li&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=by(),St.lanes|=e,Cs|=e,r)}function bg(e,n,r,o){return mn(r,n)?r:ba.current!==null?(e=Sf(e,r,o),mn(e,n)||(we=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(It&261930)===0?(we=!0,e.memoizedState=r):(e=by(),St.lanes|=e,Cs|=e,n)}function Sg(e,n,r,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Rf(e,!1,n,r);try{var x=h(),j=H.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var F=y1(x,o);Ko(e,n,F,En(e))}else Ko(e,n,o,En(e))}catch(K){Ko(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function S1(){}function Af(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Ag(e).queue;Sg(e,h,n,ht,r===null?S1:function(){return wg(e),r(o)})}function Ag(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wg(e){var n=Ag(e);n.next===null&&(n=e.alternate.memoizedState),Ko(e,n.next.queue,{},En())}function wf(){return qe(cl)}function Rg(){return ge().memoizedState}function Cg(){return ge().memoizedState}function A1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=Ts(r);var o=bs(n,e,r);o!==null&&(un(o,n,r),qo(o,n,r)),n={cache:Wh()},e.payload=n;return}n=n.return}}function w1(e,n,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(e)?xg(n,r):(r=qh(e,n,r,o),r!==null&&(un(r,e,o),Ng(r,n,o)))}function Ig(e,n,r){var o=En();Ko(e,n,r,o)}function Ko(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))xg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return wu(e,n,h,0),Wt===null&&Au(),!1}catch{}finally{}if(r=qh(e,n,h,o),r!==null)return un(r,e,o),Ng(r,n,o),!0}return!1}function Rf(e,n,r,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=qh(e,r,o,2),n!==null&&un(n,e,2)}function Gu(e){var n=e.alternate;return e===St||n!==null&&n===St}function xg(e,n){Sa=Pu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ng(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,po(e,r)}}var Yo={readContext:qe,use:Bu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Yo.useEffectEvent=he;var Dg={readContext:qe,use:Bu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:mg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Hu(4194308,4,_g.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var o=e();if(xr){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=en();if(r!==void 0){var h=r(n);if(xr){Tn(!0);try{r(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=w1.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,r=Ig.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:bf,useDeferredValue:function(e,n){var r=en();return Sf(r,e,n)},useTransition:function(){var e=vf(!1);return e=Sg.bind(null,St,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=St,h=en();if(Vt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(It&127)!==0||Jp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,mg(tg.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},Wp.bind(null,o,f,r,n),null),r},useId:function(){var e=en(),n=Wt.identifierPrefix;if(Vt){var r=yi,o=gi;r=(o&~(1<<32-de(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=_1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:ug,useActionState:ug,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Rf.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return en().memoizedState=A1.bind(null,St)},useEffectEvent:function(e){var n=en(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Cf={readContext:qe,use:Bu,useCallback:Eg,useContext:qe,useEffect:Tf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:qu,useRef:dg,useState:function(){return qu(Pi)},useDebugValue:bf,useDeferredValue:function(e,n){var r=ge();return bg(r,$t.memoizedState,e,n)},useTransition:function(){var e=qu(Pi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:wf,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var r=ge();return ig(r,$t,e,n)},useMemoCache:gf,useCacheRefresh:Cg};Cf.useEffectEvent=pg;var Og={readContext:qe,use:Bu,useCallback:Eg,useContext:qe,useEffect:Tf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:_f,useRef:dg,useState:function(){return _f(Pi)},useDebugValue:bf,useDeferredValue:function(e,n){var r=ge();return $t===null?Sf(r,e,n):bg(r,$t.memoizedState,e,n)},useTransition:function(){var e=_f(Pi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:wf,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var r=ge();return $t!==null?ig(r,$t,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Cg};Og.useEffectEvent=pg;function If(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:R({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=En(),h=Ts(o);h.payload=n,r!=null&&(h.callback=r),n=bs(e,h,o),n!==null&&(un(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=En(),h=Ts(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=bs(e,h,o),n!==null&&(un(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),o=Ts(r);o.tag=2,n!=null&&(o.callback=n),n=bs(e,o,r),n!==null&&(un(n,e,r),qo(n,e,r))}};function Mg(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vo(r,o)||!Vo(h,f):!0}function Vg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function Nr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=R({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function kg(e){Su(e)}function Ug(e){console.error(e)}function Lg(e){Su(e)}function Qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Pg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,r){return r=Ts(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(e,n)},r}function jg(e){return e=Ts(e),e.tag=3,e}function zg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Pg(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Pg(n,r,o),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function R1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ya(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?sc():r.alternate===null&&fe===0&&(fe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Mu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return r.flags|=65536,o===Mu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ed(e,o,h)),!1}throw Error(a(435,r.tag))}return ed(e,o,h),sc(),!1}if(Vt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),Lo(Cn(e,r)))):(o!==Yh&&(n=Error(a(423),{cause:o}),Lo(Cn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,r),h=Nf(e.stateNode,o,h),af(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=Cn(f,r),nl===null?nl=[f]:nl.push(f),fe!==4&&(fe=2),n===null)return!0;o=Cn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Nf(r.stateNode,o,e),af(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=jg(h),zg(h,e,r,o),af(r,h),!1}r=r.return}while(r!==null);return!1}var Df=Error(a(461)),we=!1;function He(e,n,r,o){n.child=e===null?Fp(n,null,r,o):Ir(n,e.child,r,o)}function Bg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ar(n),o=ff(e,n,r,g,f,h),E=df(),e!==null&&!we?(mf(e,n,h),ji(e,n,h)):(Vt&&E&&Qh(n),n.flags|=1,He(e,n,o,h),n.child)}function qg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Hg(e,n,f,o,h)):(e=Cu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Vo,r(g,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Hg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Vo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,jf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Of(e,n,r,o,h)}function Fg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Gg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Kp(n,f):lf(),Yp(n);else return o=n.lanes=536870912,Gg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Du(n,f.cachePool),Kp(n,f),As(),n.memoizedState=null):(e!==null&&Du(n,null),lf(),As());return He(e,n,h,r),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gg(e,n,r,o,h){var f=ef();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Du(n,null),lf(),Yp(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qg(e,n,r){return Ir(n,e.child,null,r),e=Ku(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function C1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Xo(null,e);if(cf(n),(e=ie)?(e=s_(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=xp(e),r.return=n,n.child=r,Be=n,ie=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Qg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||ya(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(o=Wt,o!==null&&(g=go(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Er(e,g),un(o,e,g),Df;sc(),n=Qg(e,n,r)}else e=f.treeContext,ie=On(g.nextSibling),Be=n,Vt=!0,ys=null,Nn=!1,e!==null&&Op(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Of(e,n,r,o,h){return Ar(n),r=ff(e,n,r,o,void 0,h),o=df(),e!==null&&!we?(mf(e,n,h),ji(e,n,h)):(Vt&&o&&Qh(n),n.flags|=1,He(e,n,r,h),n.child)}function Kg(e,n,r,o,h,f){return Ar(n),n.updateQueue=null,r=$p(n,o,r,h),Xp(e),o=df(),e!==null&&!we?(mf(e,n,f),ji(e,n,f)):(Vt&&o&&Qh(n),n.flags|=1,He(e,n,r,f),n.child)}function Yg(e,n,r,o,h){if(Ar(n),n.stateNode===null){var f=da,g=r.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?qe(g):da,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(If(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&xf.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,x=Nr(r,E);f.props=x;var j=f.context,F=r.contextType;g=da,typeof F=="object"&&F!==null&&(g=qe(F));var K=r.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Vg(n,f,o,g),Es=!1;var z=n.memoizedState;f.state=z,Fo(n,o,f,h),Ho(),j=n.memoizedState,E||z!==j||Es?(typeof K=="function"&&(If(n,r,K,o),j=n.memoizedState),(x=Es||Mg(n,r,x,o,z,j,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,F=Nr(r,g),f.props=F,K=n.pendingProps,z=f.context,j=r.contextType,x=da,typeof j=="object"&&j!==null&&(x=qe(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==x)&&Vg(n,f,o,x),Es=!1,z=n.memoizedState,f.state=z,Fo(n,o,f,h),Ho();var q=n.memoizedState;g!==K||z!==q||Es||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof E=="function"&&(If(n,r,E,o),q=n.memoizedState),(F=Es||Mg(n,r,F,o,z,q,x)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=x,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ir(n,e.child,null,h),n.child=Ir(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Xg(e,n,r,o){return br(),n.flags|=256,He(e,n,r,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:Pp()}}function kf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=vn),e}function $g(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Ss(n):As(),(e=ie)?(e=s_(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=xp(e),r.return=n,n.child=r,Be=n,ie=null)):e=null,e===null)throw _s(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(As(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=Tr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Vf(r),o.childLanes=kf(e,g,r),n.memoizedState=Mf,Xo(null,o)):(Ss(n),Uf(n,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=Lf(e,n,r)):n.memoizedState!==null?(As(),n.child=e.child,n.flags|=128,n=null):(As(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=Tr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ir(n,e.child,null,r),o=n.child,o.memoizedState=Vf(r),o.childLanes=kf(e,g,r),n.memoizedState=Mf,n=Xo(null,o));else if(Ss(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=Lf(e,n,r)}else if(we||ya(e,n,r,!1),g=(r&e.childLanes)!==0,we||g){if(g=Wt,g!==null&&(o=go(g,r),o!==0&&o!==x.retryLane))throw x.retryLane=o,Er(e,o),un(g,e,o),Df;gd(E)||sc(),n=Lf(e,n,r)}else gd(E)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ie=On(E.nextSibling),Be=n,Vt=!0,ys=null,Nn=!1,e!==null&&Op(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(As(),E=o.fallback,h=n.mode,x=e.child,j=x.sibling,o=Mi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=Mi(j,E):(E=Tr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Xo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Vf(r):(h=E.cachePool,h!==null?(x=Se._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Pp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,g,r),n.memoizedState=Mf,Xo(e.child,o)):(Ss(n),r=e.child,e=r.sibling,r=Mi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Uf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Lf(e,n,r){return Ir(n,e.child,null,r),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,r)}function Pf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Jg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(pe,g),He(e,n,o,r),o=Vt?Uo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,r,n);else if(e.tag===19)Zg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Lu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Pf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Pf(n,!0,r,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Cs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ya(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Mi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Mi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function I1(e,n,r){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),vs(n,Se,e.memoizedState.cache),br();break;case 27:case 5:nr(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ss(n),n.flags|=128,null):(r&n.child.childLanes)!==0?$g(e,n,r):(Ss(n),e=ji(e,n,r),e!==null?e.sibling:null);Ss(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ya(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Jg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(pe,pe.current),o)break;return null;case 22:return n.lanes=0,Fg(e,n,r,n.pendingProps);case 24:vs(n,Se,e.memoizedState.cache)}return ji(e,n,r)}function Wg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!jf(e,r)&&(n.flags&128)===0)return we=!1,I1(e,n,r);we=(e.flags&131072)!==0}else we=!1,Vt&&(n.flags&1048576)!==0&&Dp(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rr(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=Nr(e,o),n.tag=1,n=Yg(null,n,e,o,r)):(n.tag=0,n=Of(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Pt){n.tag=11,n=Bg(null,n,e,o,r);break t}else if(h===w){n.tag=14,n=qg(null,n,e,o,r);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Nr(o,n.pendingProps),Yg(e,n,o,h,r);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Fo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,vs(n,Se,o),o!==f.cache&&Jh(n,[Se],r,!0),Ho(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(e,n,o,r);break t}else if(o!==h){h=Cn(Error(a(424)),n),Lo(h),n=Xg(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=On(e.firstChild),Be=n,Vt=!0,ys=null,Nn=!0,r=Fp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(br(),o===h){n=ji(e,n,r);break t}He(e,n,o,r)}n=n.child}return n;case 26:return Yu(e,n),e===null?(r=c_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,o=hc(At.current).createElement(r),o[Ee]=n,o[Ve]=e,Fe(o,r,e),Te(o),n.stateNode=o):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return nr(n),e===null&&Vt&&(o=n.stateNode=o_(n.type,n.pendingProps,At.current),Be=n,Nn=!0,h=ie,Os(n.type)?(_d=h,ie=On(o.firstChild)):ie=h),He(e,n,n.pendingProps.children,r),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=ie)&&(o=sb(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,Be=n,ie=On(o.firstChild),Nn=!1,h=!0):h=!1),h||_s(n)),nr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,v1,null,null,r),cl._currentValue=h),Yu(e,n),He(e,n,o,r),n.child;case 6:return e===null&&Vt&&((e=r=ie)&&(r=rb(r,n.pendingProps,Nn),r!==null?(n.stateNode=r,Be=n,ie=null,e=!0):e=!1),e||_s(n)),null;case 13:return $g(e,n,r);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ir(n,null,o,r):He(e,n,o,r),n.child;case 11:return Bg(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,vs(n,n.type,o.value),He(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ar(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,r),n.child;case 14:return qg(e,n,n.type,n.pendingProps,r);case 15:return Hg(e,n,n.type,n.pendingProps,r);case 19:return Jg(e,n,r);case 31:return C1(e,n,r);case 22:return Fg(e,n,r,n.pendingProps);case 24:return Ar(n),o=qe(Se),e===null?(h=ef(),h===null&&(h=Wt,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},sf(n),vs(n,Se,h)):((e.lanes&r)!==0&&(rf(e,n),Fo(n,null,null,r),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,Se,o)):(o=f.cache,vs(n,Se,o),o!==h.cache&&Jh(n,[Se],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function zi(e){e.flags|=4}function zf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Cr=Mu,nf}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Ry())e.flags|=8192;else throw Cr=Mu,nf}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,xa|=n)}function $o(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function x1(e,n,r){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Se),ae(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ga(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(se(n),ty(n,f)):(se(n),zf(n,h,null,o,r))):f?f!==e.memoizedState?(zi(n),se(n),ty(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),se(n),zf(n,h,e,o,r)),null;case 27:if(Yr(n),r=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=rt.current,ga(n)?Mp(n):(e=o_(h,o,r),n.stateNode=e,zi(n))}return se(n),null;case 5:if(Yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=rt.current,ga(n))Mp(n);else{var g=hc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return se(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=At.current,ga(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||$y(e.nodeValue,r)),e||_s(n,!0)}else e=hc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return se(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ga(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else r=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),se(n),null);case 4:return ae(),e===null&&ld(n.stateNode.containerInfo),se(n),null;case 10:return Ui(n.type),se(n),null;case 19:if(Y(pe),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)$o(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,$o(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ip(r,e),r=r.sibling;return it(pe,pe.current&1|2),Vt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>ec&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return se(n),null}else 2*We()-o.renderingStartTime>ec&&r!==536870912&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,r=pe.current,it(pe,h?r&1|2:r&1),Vt&&Vi(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return yn(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(wr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(Se),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function N1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Se),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(pe),null;case 4:return ae(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),uf(),e!==null&&Y(wr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Se),null;case 25:return null;default:return null}}function ey(e,n){switch(Kh(n),n.tag){case 3:Ui(Se),ae();break;case 26:case 27:case 5:Yr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Y(pe);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),uf(),e!==null&&Y(wr);break;case 24:Ui(Se)}}function Zo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Yt(n,n.return,E)}}function ws(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var x=r,j=E;try{j()}catch(F){Yt(h,x,F)}}}o=o.next}while(o!==f)}}catch(F){Yt(n,n.return,F)}}function ny(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Qp(n,r)}catch(o){Yt(e,e.return,o)}}}function iy(e,n,r){r.props=Nr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Jo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Yt(e,n,h)}}function _i(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function sy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function Bf(e,n,r){try{var o=e.stateNode;J1(o,e.type,r,n),o[Ve]=n}catch(h){Yt(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Os(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,r),e=e.sibling;e!==null;)Hf(e,n,r),e=e.sibling}function Zu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Os(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Zu(e,n,r),e=e.sibling;e!==null;)Zu(e,n,r),e=e.sibling}function ay(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,r),n[Ee]=e,n[Ve]=r}catch(f){Yt(e,e.return,f)}}var Bi=!1,Re=!1,Ff=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function D1(e,n){if(e=e.containerInfo,hd=_c,e=vp(e),Uh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,x=-1,j=0,F=0,K=e,z=null;e:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(x=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===e)break e;if(z===r&&++j===h&&(E=g),z===f&&++F===o&&(x=g),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}r=E===-1||x===-1?null:{start:E,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(fd={focusedElem:e,selectionRange:r},_c=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=Nr(r.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Yt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)pd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function ly(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(e,r),o&4&&Zo(5,r);break;case 1:if(Hi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(r,r.return,g)}else{var h=Nr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(r,r.return,g)}}o&64&&ny(r),o&512&&Jo(r,r.return);break;case 3:if(Hi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Qp(e,n)}catch(g){Yt(r,r.return,g)}}break;case 27:n===null&&o&4&&ay(r);case 26:case 5:Hi(e,r),n===null&&o&4&&sy(r),o&512&&Jo(r,r.return);break;case 12:Hi(e,r);break;case 31:Hi(e,r),o&4&&hy(e,r);break;case 13:Hi(e,r),o&4&&fy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=z1.bind(null,r),ab(e,r))));break;case 22:if(o=r.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Bi;var f=Re;Bi=o,(Re=n)&&!f?Fi(e,r,(r.subtreeFlags&8772)!==0):Hi(e,r),Bi=h,Re=f}break;case 30:break;default:Hi(e,r)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,rn=!1;function qi(e,n,r){for(r=r.child;r!==null;)cy(e,n,r),r=r.sibling}function cy(e,n,r){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Re||_i(r,n),qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||_i(r,n);var o=le,h=rn;Os(r.type)&&(le=r.stateNode,rn=!1),qi(e,n,r),ol(r.stateNode),le=o,rn=h;break;case 5:Re||_i(r,n);case 6:if(o=le,h=rn,le=null,qi(e,n,r),le=o,rn=h,le!==null)if(rn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{le.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:le!==null&&(rn?(e=le,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),La(e)):n_(le,r.stateNode));break;case 4:o=le,h=rn,le=r.stateNode.containerInfo,rn=!0,qi(e,n,r),le=o,rn=h;break;case 0:case 11:case 14:case 15:ws(2,r,n),Re||ws(4,r,n),qi(e,n,r);break;case 1:Re||(_i(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&iy(r,n,o)),qi(e,n,r);break;case 21:qi(e,n,r);break;case 22:Re=(o=Re)||r.memoizedState!==null,qi(e,n,r),Re=o;break;default:qi(e,n,r)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(r){Yt(n,n.return,r)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(r){Yt(n,n.return,r)}}function O1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new oy),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var r=O1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=B1.bind(null,e,o);o.then(h,h)}})}function an(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){le=E.stateNode,rn=!1;break t}break;case 5:le=E.stateNode,rn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(le===null)throw Error(a(160));cy(f,g,h),le=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var Kn=null;function dy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(ws(3,e,e.return),Zo(3,e),ws(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Re||r===null||_i(r,r.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Kn;if(an(n,e),on(e),o&512&&(Re||r===null||_i(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,r),f[Ee]=e,Te(f),o=f;break t;case"link":var g=d_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=d_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?m_(h,e.type,e.stateNode):f_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,r.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Re||r===null||_i(r,r.return)),r!==null&&o&4&&Bf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Re||r===null||_i(r,r.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(mc=null,h=Kn,Kn=fc(n.containerInfo),an(n,e),Kn=h,on(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(at){Yt(e,e.return,at)}Ff&&(Ff=!1,my(e));break;case 4:o=Kn,Kn=fc(e.stateNode.containerInfo),an(n,e),on(e),Kn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(tc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,j=Bi,F=Re;if(Bi=j||h,Re=F||x,an(n,e),Re=F,Bi=j,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||x||Bi||Re||Dr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var K=x.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Yt(x,x.return,at)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(at){Yt(x,x.return,at)}}}else if(n.tag===18){if(r===null){x=n;try{var q=x.stateNode;h?i_(q,!0):i_(x.stateNode,!1)}catch(at){Yt(x,x.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Ju(e,r))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ry(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=qf(e);Zu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(sn(g,""),r.flags&=-33);var E=qf(e);Zu(e,E,g);break;case 3:case 4:var x=r.stateNode.containerInfo,j=qf(e);Hf(e,j,x);break;default:throw Error(a(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(e,n.alternate,n),n=n.sibling}function Dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),Dr(n);break;case 1:_i(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&iy(n,n.return,r),Dr(n);break;case 27:ol(n.stateNode);case 26:case 5:_i(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}e=e.sibling}}function Fi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,r),Zo(4,f);break;case 1:if(Fi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Gp(x[h],E)}catch(j){Yt(o,o.return,j)}}r&&g&64&&ny(f),Jo(f,f.return);break;case 27:ay(f);case 26:case 5:Fi(h,f,r),r&&o===null&&g&4&&sy(f),Jo(f,f.return);break;case 12:Fi(h,f,r);break;case 31:Fi(h,f,r),r&&g&4&&hy(h,f);break;case 13:Fi(h,f,r),r&&g&4&&fy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,r),Jo(f,f.return);break;case 30:break;default:Fi(h,f,r)}n=n.sibling}}function Gf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Po(r))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function Yn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,r,o),n=n.sibling}function py(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,r,o),h&2048&&Zo(9,n);break;case 1:Yn(e,n,r,o);break;case 3:Yn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Yn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Yt(n,n.return,x)}}else Yn(e,n,r,o);break;case 31:Yn(e,n,r,o);break;case 13:Yn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,r,o):Wo(e,n):f._visibility&2?Yn(e,n,r,o):(f._visibility|=2,Ra(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:Yn(e,n,r,o),h&2048&&Qf(n.alternate,n);break;default:Yn(e,n,r,o)}}function Ra(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,x=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ra(f,g,E,x,h),Zo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ra(f,g,E,x,h):Wo(f,g):(F._visibility|=2,Ra(f,g,E,x,h)),h&&j&2048&&Gf(g.alternate,g);break;case 24:Ra(f,g,E,x,h),h&&j&2048&&Qf(g.alternate,g);break;default:Ra(f,g,E,x,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Wo(r,o),h&2048&&Gf(o.alternate,o);break;case 24:Wo(r,o),h&2048&&Qf(o.alternate,o);break;default:Wo(r,o)}n=n.sibling}}var tl=8192;function Ca(e,n,r){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)gy(e,n,r),e=e.sibling}function gy(e,n,r){switch(e.tag){case 26:Ca(e,n,r),e.flags&tl&&e.memoizedState!==null&&_b(r,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ca(e,n,r);break;case 3:case 4:var o=Kn;Kn=fc(e.stateNode.containerInfo),Ca(e,n,r),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Ca(e,n,r),tl=o):Ca(e,n,r));break;default:Ca(e,n,r)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,vy(o,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&ws(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):el(e);break;default:el(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,vy(o,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ws(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function vy(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:ws(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(uy(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var M1={getCacheForType:function(e){var n=qe(Se),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Se).controller.signal}},V1=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Rt=null,It=0,Kt=0,_n=null,Rs=!1,Ia=!1,Kf=!1,Gi=0,fe=0,Cs=0,Or=0,Yf=0,vn=0,xa=0,nl=null,ln=null,Xf=!1,tc=0,Ey=0,ec=1/0,nc=null,Is=null,De=0,xs=null,Na=null,Qi=0,$f=0,Zf=null,Ty=null,il=0,Jf=null;function En(){return(qt&2)!==0&&It!==0?It&-It:H.T!==null?sd():iu()}function by(){if(vn===0)if((It&536870912)===0||Vt){var e=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function un(e,n,r){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Ns(e,It,vn,!1)),ar(e,r),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Or|=r),fe===4&&Ns(e,It,vn,!1)),vi(e))}function Sy(e,n,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?L1(e,n):td(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Ns(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!k1(r)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=nl;var x=E.current.memoizedState.isDehydrated;if(x&&(Da(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Kf&&!x){E.errorRecoveryDisabledLanes|=f,Or|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Ns(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(o,n,vn,!Rs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-We(),10<h)){if(Ns(o,n,vn,!Rs),ei(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=t_(Ay.bind(null,o,r,ln,nc,Xf,n,vn,Or,xa,Rs,f,"Throttled",-0,0),h);break t}Ay(o,r,ln,nc,Xf,n,vn,Or,xa,Rs,f,null,-0,0)}}break}while(!0);vi(e)}function Ay(e,n,r,o,h,f,g,E,x,j,F,K,z,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},gy(n,f,K);var at=(f&62914560)===f?tc-We():(f&4194048)===f?Ey-We():0;if(at=vb(K,at),at!==null){Qi=f,e.cancelPendingCommit=at(Oy.bind(null,e,n,f,r,o,h,g,E,x,F,K,null,z,q)),Ns(e,f,g,!j);return}}Oy(e,n,f,r,o,h,g,E,x)}function k1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,r,o){n&=~Yf,n&=~Or,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&or(e,r,n)}function ic(){return(qt&6)===0?(sl(0),!1):!0}function Wf(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,ki=Sr=null,pf(e),Ta=null,zo=0,e=Rt;for(;e!==null;)ey(e.alternate,e),e=e.return;Rt=null}}function Da(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,eb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qi=0,Wf(),Wt=e,Rt=r=Mi(e.current,null),It=n,Kt=0,_n=null,Rs=!1,Ia=Pn(e,n),Kf=!1,xa=vn=Yf=Or=Cs=fe=0,ln=nl=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,Au(),r}function wy(e,n){St=null,H.H=Yo,n===Ea||n===Ou?(n=Bp(),Kt=3):n===nf?(n=Bp(),Kt=4):Kt=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Rt===null&&(fe=1,Qu(e,Cn(n,e.current)))}function Ry(){var e=gn.current;return e===null?!0:(It&4194048)===It?Dn===null:(It&62914560)===It||(It&536870912)!==0?e===Dn:!1}function Cy(){var e=H.H;return H.H=Yo,e===null?Yo:e}function Iy(){var e=H.A;return H.A=M1,e}function sc(){fe=4,Rs||(It&4194048)!==It&&gn.current!==null||(Ia=!0),(Cs&134217727)===0&&(Or&134217727)===0||Wt===null||Ns(Wt,It,vn,!1)}function td(e,n,r){var o=qt;qt|=2;var h=Cy(),f=Iy();(Wt!==e||It!==n)&&(nc=null,Da(e,n)),n=!1;var g=fe;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,x=_n;switch(Kt){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var j=Kt;if(Kt=0,_n=null,Oa(e,E,x,j),r&&Ia){g=0;break t}break;default:j=Kt,Kt=0,_n=null,Oa(e,E,x,j)}}U1(),g=fe;break}catch(F){wy(e,F)}while(!0);return n&&e.shellSuspendCounter++,ki=Sr=null,qt=o,H.H=h,H.A=f,Rt===null&&(Wt=null,It=0,Au()),g}function U1(){for(;Rt!==null;)xy(Rt)}function L1(e,n){var r=qt;qt|=2;var o=Cy(),h=Iy();Wt!==e||It!==n?(nc=null,ec=We()+500,Da(e,n)):Ia=Pn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=_n;e:switch(Kt){case 1:Kt=0,_n=null,Oa(e,n,f,1);break;case 2:case 9:if(jp(f)){Kt=0,_n=null,Ny(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),vi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:jp(f)?(Kt=0,_n=null,Ny(n)):(Kt=0,_n=null,Oa(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?p_(g):E.stateNode.complete){Kt=0,_n=null;var x=E.sibling;if(x!==null)Rt=x;else{var j=E.return;j!==null?(Rt=j,rc(j)):Rt=null}break e}}Kt=0,_n=null,Oa(e,n,f,5);break;case 6:Kt=0,_n=null,Oa(e,n,f,6);break;case 8:Wf(),fe=6;break t;default:throw Error(a(462))}}P1();break}catch(F){wy(e,F)}while(!0);return ki=Sr=null,H.H=o,H.A=h,qt=r,Rt!==null?0:(Wt=null,It=0,Au(),fe)}function P1(){for(;Rt!==null&&!xh();)xy(Rt)}function xy(e){var n=Wg(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?rc(e):Rt=n}function Ny(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Kg(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Kg(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:pf(n);default:ey(r,n),n=Rt=Ip(n,Gi),n=Wg(r,n,Gi)}e.memoizedProps=e.pendingProps,n===null?rc(e):Rt=n}function Oa(e,n,r,o){ki=Sr=null,pf(n),Ta=null,zo=0;var h=n.return;try{if(R1(e,h,n,r,It)){fe=1,Qu(e,Cn(r,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;fe=1,Qu(e,Cn(r,e.current)),Rt=null;return}n.flags&32768?(Vt||o===1?e=!0:Ia||(It&536870912)!==0?e=!1:(Rs=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,Rs);return}e=n.return;var r=x1(n.alternate,n,Gi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);fe===0&&(fe=5)}function Dy(e,n){do{var r=N1(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);fe=6,Rt=null}function Oy(e,n,r,o,h,f,g,E,x){e.cancelPendingCommit=null;do ac();while(De!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,r,f,g,E,x),e===Wt&&(Rt=Wt=null,It=0),Na=n,xs=e,Qi=r,$f=f,Zf=h,Ty=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,q1(as,function(){return Ly(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,g=qt,qt|=4;try{D1(e,n,r)}finally{qt=g,nt.p=h,H.T=o}}De=1,My(),Vy(),ky()}}function My(){if(De===1){De=0;var e=xs,n=Na,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{dy(n,e);var f=fd,g=vp(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(x!==null&&Uh(E)){var j=x.start,F=x.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),at=E.textContent.length,mt=Math.min(x.start,at),Jt=x.end===void 0?mt:Math.min(x.end,at);!q.extend&&mt>Jt&&(g=Jt,Jt=mt,mt=g);var k=yp(E,mt),D=yp(E,Jt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=K.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),mt>Jt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}_c=!!hd,fd=hd=null}finally{qt=h,nt.p=o,H.T=r}}e.current=n,De=2}}function Vy(){if(De===2){De=0;var e=xs,n=Na,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{ly(e,n.alternate,n)}finally{qt=h,nt.p=o,H.T=r}}De=3}}function ky(){if(De===4||De===3){De=0,$l();var e=xs,n=Na,r=Qi,o=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Na=xs=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),xi(r),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=h}}(Qi&3)!==0&&ac(),vi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Jf?il++:(il=0,Jf=e):il=0,sl(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function ac(){return My(),Vy(),ky(),Ly()}function Ly(){if(De!==5)return!1;var e=xs,n=$f;$f=0;var r=xi(Qi),o=H.T,h=nt.p;try{nt.p=32>r?32:r,H.T=null,r=Zf,Zf=null;var f=xs,g=Qi;if(De=0,Na=xs=null,Qi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,_y(f.current),py(f,f.current,g,r),qt=E,sl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{nt.p=h,H.T=o,Uy(e,n)}}function Py(e,n,r){n=Cn(r,n),n=Nf(e.stateNode,n,2),e=bs(e,n,2),e!==null&&(ar(e,2),vi(e))}function Yt(e,n,r){if(e.tag===3)Py(e,e,r);else for(;n!==null;){if(n.tag===3){Py(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Is===null||!Is.has(o))){e=Cn(r,e),r=jg(2),o=bs(n,r,2),o!==null&&(zg(r,o,n,e),ar(o,2),vi(o));break}}n=n.return}}function ed(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new V1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Kf=!0,h.add(r),e=j1.bind(null,e,n,r),n.then(e,e))}function j1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(It&r)===r&&(fe===4||fe===3&&(It&62914560)===It&&300>We()-tc?(qt&2)===0&&Da(e,0):Yf|=r,xa===It&&(xa=0)),vi(e)}function jy(e,n){n===0&&(n=nu()),e=Er(e,n),e!==null&&(ar(e,n),vi(e))}function z1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),jy(e,r)}function B1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),jy(e,r)}function q1(e,n){return Ne(e,n)}var oc=null,Ma=null,nd=!1,lc=!1,id=!1,Ds=0;function vi(e){e!==Ma&&e.next===null&&(Ma===null?oc=Ma=e:Ma=Ma.next=e),lc=!0,nd||(nd=!0,F1())}function sl(e,n){if(!id&&lc){id=!0;do for(var r=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Hy(o,f))}else f=It,f=ei(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(r=!0,Hy(o,f));o=o.next}while(r);id=!1}}function H1(){zy()}function zy(){lc=nd=!1;var e=0;Ds!==0&&tb()&&(e=Ds);for(var n=We(),r=null,o=oc;o!==null;){var h=o.next,f=By(o,n);f===0?(o.next=null,r===null?oc=h:r.next=h,h===null&&(Ma=r)):(r=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}De!==0&&De!==5||sl(e),Ds!==0&&(Ds=0)}function By(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,x=h[g];x===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Dh(E,n)):x<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=It,r=ei(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rs(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Pn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&rs(o),xi(r)){case 2:case 8:r=mo;break;case 32:r=as;break;case 268435456:r=Zl;break;default:r=as}return o=qy.bind(null,e),r=Ne(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&rs(o),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ac()&&e.callbackNode!==r)return null;var o=It;return o=ei(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Sy(e,o,n),By(e,We()),e.callbackNode!=null&&e.callbackNode===r?qy.bind(null,e):null)}function Hy(e,n){if(ac())return null;Sy(e,n,!0)}function F1(){nb(function(){(qt&6)!==0?Ne(fo,H1):zy()})}function sd(){if(Ds===0){var e=_a;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ds=e}return Ds}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Gy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function G1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Fy((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Fy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ds!==0){var x=g?Gy(h,g):new FormData(h);Af(r,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?Gy(h,g):new FormData(h),Af(r,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var rd=0;rd<zh.length;rd++){var ad=zh[rd],Q1=ad.toLowerCase(),K1=ad[0].toUpperCase()+ad.slice(1);Qn(Q1,"on"+K1)}Qn(bp,"onAnimationEnd"),Qn(Sp,"onAnimationIteration"),Qn(Ap,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(u1,"onTransitionRun"),Qn(c1,"onTransitionStart"),Qn(h1,"onTransitionCancel"),Qn(wp,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Qy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=x}else for(g=0;g<o.length;g++){if(E=o[g],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=x}}}}function Ct(e,n){var r=n[Jr];r===void 0&&(r=n[Jr]=new Set);var o=e+"__bubble";r.has(o)||(Ky(n,e,2,!1),r.add(o))}function od(e,n,r){var o=0;n&&(o|=4),Ky(r,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[uc]){e[uc]=!0,yo.forEach(function(r){r!=="selectionchange"&&(Y1.has(r)||od(r,!1,e),od(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,od("selectionchange",!1,n))}}function Ky(e,n,r,o){switch(b_(n)){case 2:var h=bb;break;case 8:h=Sb;break;default:h=Sd}r=h.bind(null,n,r,e),h=void 0,!fr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ud(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){o=f=g;continue t}E=E.parentNode}}o=o.return}fs(function(){var j=f,F=Sn(r),K=[];t:{var z=Rp.get(e);if(z!==void 0){var q=fi,at=e;switch(e){case"keypress":if(mr(r)===0)break t;case"keydown":case"keyup":q=Eu;break;case"focusin":at="focus",q=gr;break;case"focusout":at="blur",q=gr;break;case"beforeblur":case"afterblur":q=gr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case bp:case Sp:case Ap:q=du;break;case wp:q=T;break;case"scroll":case"scrollend":q=xo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=bt}var mt=(n&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),k=mt?z!==null?z+"Capture":null:z;mt=[];for(var D=j,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=qn(D,k),Q!=null&&mt.push(al(D,Q,P))),Jt)break;D=D.return}0<mt.length&&(z=new q(z,at,null,r,F),K.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==Ro&&(at=r.relatedTarget||r.fromElement)&&(ri(at)||at[ii]))break t;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(at=r.relatedTarget||r.toElement,q=j,at=at?ri(at):null,at!==null&&(Jt=c(at),mt=at.tag,at!==Jt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(q=null,at=j),q!==at)){if(mt=No,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Oi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),Jt=q==null?z:fn(q),P=at==null?z:fn(at),z=new mt(Q,D+"leave",q,r,F),z.target=Jt,z.relatedTarget=P,Q=null,ri(F)===j&&(mt=new mt(k,D+"enter",at,r,F),mt.target=P,mt.relatedTarget=Jt,Q=mt),Jt=Q,q&&at)e:{for(mt=X1,k=q,D=at,P=0,Q=k;Q;Q=mt(Q))P++;Q=0;for(var ut=D;ut;ut=mt(ut))Q++;for(;0<P-Q;)k=mt(k),P--;for(;0<Q-P;)D=mt(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){mt=k;break e}k=mt(k),D=mt(D)}mt=null}else mt=null;q!==null&&Yy(K,z,q,mt,!1),at!==null&&Jt!==null&&Yy(K,Jt,at,mt,!0)}}t:{if(z=j?fn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var jt=hp;else if(up(z))if(fp)jt=a1;else{jt=s1;var ot=i1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&na(j.elementType)&&(jt=hp):jt=r1;if(jt&&(jt=jt(e,j))){cp(K,jt,r,F);break t}ot&&ot(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&So(z,"number",z.value)}switch(ot=j?fn(j):window,e){case"focusin":(up(ot)||ot.contentEditable==="true")&&(ca=ot,Lh=j,ko=null);break;case"focusout":ko=Lh=ca=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Ep(K,r,F);break;case"selectionchange":if(l1)break;case"keydown":case"keyup":Ep(K,r,F)}var wt;if(Bt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ua?yr(e,r)&&(xt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(xt="onCompositionStart");xt&&(pi&&r.locale!=="ko"&&(ua||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ua&&(wt=Io()):(hi=F,Co="value"in hi?hi.value:hi.textContent,ua=!0)),ot=cc(j,xt),0<ot.length&&(xt=new mi(xt,e,null,r,F),K.push({event:xt,listeners:ot}),wt?xt.data=wt:(wt=la(r),wt!==null&&(xt.data=wt)))),(wt=wn?WT(e,r):t1(e,r))&&(xt=cc(j,"onBeforeInput"),0<xt.length&&(ot=new mi("onBeforeInput","beforeinput",null,r,F),K.push({event:ot,listeners:xt}),ot.data=wt)),G1(K,e,j,r,F)}Qy(K,n)})}function al(e,n,r){return{instance:e,listener:n,currentTarget:r}}function cc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&o.unshift(al(e,h,f)),h=qn(e,n),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function X1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=qn(r,f),j!=null&&g.unshift(al(r,j,x))):h||(j=qn(r,f),j!=null&&g.push(al(r,j,x)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var $1=/\r\n?/g,Z1=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace($1,`
`).replace(Z1,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function Zt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,o);break;case"style":wo(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=cu.get(r)||r,ta(e,r,o))}}function cd(e,n,r,o,h,f){switch(r){case"style":wo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ta(e,r,o)}}}function Fe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,r,null)}}h&&Zt(e,n,"srcSet",r.srcSet,r,null),o&&Zt(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,x=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":x=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Zt(e,n,o,F,r,null)}}ou(e,f,E,x,j,g,h,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?ls(e,!!o,n,!1):r!=null&&ls(e,!!o,r,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,r,null)}us(e,o,h,f);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(o=r[x],o!=null))switch(x){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,x,o,r,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)Ct(rl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,j,o,r,null)}return;default:if(na(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&cd(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Zt(e,n,E,o,r,null))}function J1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,j=null,F=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=K;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,K)}}for(var z in o){var q=o[z];if(K=r[z],o.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Zt(e,n,z,q,o,K)}}ea(e,g,E,x,j,F,f,h);return;case"select":q=g=E=z=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=r[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&Zt(e,n,h,f,o,x)}n=E,r=g,o=q,z!=null?ls(e,!!r,z,!1):!!o!=!!r&&(n!=null?ls(e,!!r,n,!0):ls(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}lu(e,z,q);return;case"option":for(var at in r)if(z=r[at],r.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Zt(e,n,at,null,o,z)}for(x in o)if(z=o[x],q=r[x],o.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null))switch(x){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Zt(e,n,x,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)z=r[mt],r.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Zt(e,n,mt,null,o,z);for(j in o)if(z=o[j],q=r[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Zt(e,n,j,z,o,q)}return;default:if(na(n)){for(var Jt in r)z=r[Jt],r.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&cd(e,n,Jt,void 0,o,z);for(F in o)z=o[F],q=r[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||cd(e,n,F,z,o,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&Zt(e,n,k,null,o,z);for(K in o)z=o[K],q=r[K],!o.hasOwnProperty(K)||z===q||z==null&&q==null||Zt(e,n,K,z,o,q)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Zy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var x=r[o],j=x.startTime;if(j>E)break;var F=x.transferSize,K=x.initiatorType;F&&Zy(K)&&(x=x.responseEnd,g+=F*(x<E?1:(E-j)/(x-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function tb(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(ib)}:t_;function ib(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function n_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ol(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ol(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&ol(e.ownerDocument.body);r=h}while(r);La(n)}function i_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pd(r),Wr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function sb(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function rb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ab(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function o_(e,n,r){switch(n=hc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wr(e)}var Mn=new Map,l_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=nt.d;nt.d={f:ob,r:lb,D:ub,C:cb,L:hb,m:fb,X:mb,S:db,M:pb};function ob(){var e=Ki.f(),n=ic();return e||n}function lb(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?wg(n):Ki.r(e)}var Va=typeof document>"u"?null:document;function u_(e,n,r){var o=Va;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),l_.has(h)||(l_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function ub(e){Ki.D(e),u_("dns-prefetch",e,null)}function cb(e,n){Ki.C(e,n),u_("preconnect",e,n)}function hb(e,n,r){Ki.L(e,n,r);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=Ua(e)}Mn.has(f)||(e=R({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ll(f))||n==="script"&&o.querySelector(ul(f))||(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function fb(e,n){Ki.m(e,n);var r=Va;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Mn.has(f)&&(e=R({rel:"modulepreload",href:e},n),Mn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ul(f)))return}o=r.createElement("link"),Fe(o,"link",e),Te(o),r.head.appendChild(o)}}}function db(e,n,r){Ki.S(e,n,r);var o=Va;if(o&&e){var h=ai(o).hoistableStyles,f=ka(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ll(f)))E.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Mn.get(f))&&vd(e,r);var x=g=o.createElement("link");Te(x),Fe(x,"link",e),x._p=new Promise(function(j,F){x.onload=j,x.onerror=F}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function mb(e,n){Ki.X(e,n);var r=Va;if(r&&e){var o=ai(r).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=r.querySelector(ul(h)),f||(e=R({src:e,async:!0},n),(n=Mn.get(h))&&Ed(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function pb(e,n){Ki.M(e,n);var r=Va;if(r&&e){var o=ai(r).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=r.querySelector(ul(h)),f||(e=R({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&Ed(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function c_(e,n,r,o){var h=(h=At.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ka(r.href),r=ai(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ka(r.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ll(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(e,r),f||gb(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(r),r=ai(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+nn(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function gb(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",r),Te(n),e.head.appendChild(n))}function Ua(e){return'[src="'+nn(e)+'"]'}function ul(e){return"script[async]"+e}function f_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=R({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Fe(o,"style",h),dc(o,r.precedence,e),n.instance=o;case"stylesheet":h=ka(r.href);var f=e.querySelector(ll(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=h_(r),(h=Mn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Fe(f,"link",o),n.state.loading|=4,dc(f,r.precedence,e),n.instance=f;case"script":return f=Ua(r.src),(h=e.querySelector(ul(f)))?(n.instance=h,Te(h),h):(o=r,(h=Mn.get(f))&&(o=R({},r),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,r.precedence,e));return n.instance}function dc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function d_(e,n,r){if(mc===null){var o=new Map,h=mc=new Map;h.set(r,o)}else h=mc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[si]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function m_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function yb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _b(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ka(o.href),f=n.querySelector(ll(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Te(f);return}f=n.ownerDocument||n,o=h_(o),(h=Mn.get(h))&&vd(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Fe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=pc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Td=0;function vb(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*W1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(Eb,e),gc=null,pc.call(e))}function Eb(e,n){if(!(n.state.loading&4)){var r=gc.get(e);if(r)var o=r.get(null);else{r=new Map,gc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Tb(e,n,r,o,h,f,g,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function g_(e,n,r,o,h,f,g,E,x,j,F,K){return e=new Tb(e,n,r,g,x,j,F,K,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},sf(f),e}function y_(e){return e?(e=da,e):da}function __(e,n,r,o,h,f){h=y_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ts(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=bs(e,o,n),r!==null&&(un(r,e,n),qo(r,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function bd(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=Er(e,67108864);n!==null&&un(n,e,67108864),bd(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=En();n=lr(n);var r=Er(e,n);r!==null&&un(r,e,n),bd(e,n)}}var _c=!0;function bb(e,n,r,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,Sd(e,n,r,o)}finally{nt.p=f,H.T=h}}function Sb(e,n,r,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,Sd(e,n,r,o)}finally{nt.p=f,H.T=h}}function Sd(e,n,r,o){if(_c){var h=Ad(o);if(h===null)ud(e,n,o,vc,r),S_(e,o);else if(wb(h,e,n,r,o))o.stopPropagation();else if(S_(e,o),n&4&&-1<Ab.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-de(g);E.entanglements[1]|=x,g&=~x}vi(f),(qt&6)===0&&(ec=We()+500,sl(0))}}break;case 31:case 13:E=Er(f,2),E!==null&&un(E,f,2),ic(),bd(f,2)}if(f=Ad(o),f===null&&ud(e,n,o,vc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,r)}}function Ad(e){return e=Sn(e),wd(e)}var vc=null;function wd(e){if(vc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case fo:return 2;case mo:return 8;case as:case Nh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Rd=!1,Ms=null,Vs=null,ks=null,hl=new Map,fl=new Map,Us=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function wb(e,n,r,o,h){switch(n){case"focusin":return Ms=dl(Ms,e,n,r,o,h),!0;case"dragenter":return Vs=dl(Vs,e,n,r,o,h),!0;case"mouseover":return ks=dl(ks,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,e,n,r,o,h)),!0}return!1}function A_(e){var n=ri(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,jn(e.priority,function(){T_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,jn(e.priority,function(){T_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ad(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ro=o,r.target.dispatchEvent(o),Ro=null}else return n=bn(r),n!==null&&E_(n),e.blockedOn=r,!1;n.shift()}return!0}function w_(e,n,r){Ec(e)&&r.delete(n)}function Rb(){Rd=!1,Ms!==null&&Ec(Ms)&&(Ms=null),Vs!==null&&Ec(Vs)&&(Vs=null),ks!==null&&Ec(ks)&&(ks=null),hl.forEach(w_),fl.forEach(w_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Rb)))}var bc=null;function R_(e){bc!==e&&(bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||r)===null)continue;break}var f=bn(r);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function La(e){function n(x){return Tc(x,e)}Ms!==null&&Tc(Ms,e),Vs!==null&&Tc(Vs,e),ks!==null&&Tc(ks,e),hl.forEach(n),fl.forEach(n);for(var r=0;r<Us.length;r++){var o=Us[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Us.length&&(r=Us[0],r.blockedOn===null);)A_(r),r.blockedOn===null&&Us.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ve]||null;if(typeof f=="function")g||R_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),R_(r)}}}function C_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Sc.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=En();__(r,o,e,n,null,null)},Sc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),ic(),n[ii]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Us.length&&n!==0&&n<Us[r].priority;r++);Us.splice(r,0,e),r===0&&A_(e)}};var I_=t.version;if(I_!=="19.2.0")throw Error(a(527,I_,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Cb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Ln=Ac.inject(Cb),je=Ac}catch{}}return pl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=kg,f=Ug,g=Lg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=g_(e,1,!1,null,null,r,o,null,h,f,g,C_),e[ii]=n.current,ld(e),new Cd(n)},pl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=kg,g=Ug,E=Lg,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),n=g_(e,1,!0,n,r??null,o,h,x,f,g,E,C_),n.context=y_(null),r=n.current,o=En(),o=lr(o),h=Ts(o),h.callback=null,bs(r,h,o),r=o,n.current.lanes=r,ar(n,r),vi(n),e[ii]=n.current,ld(e),new Sc(n)},pl.version="19.2.0",pl}var P_;function Pb(){if(P_)return Nd.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Nd.exports=Lb(),Nd.exports}var jb=Pb();const zb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),j_=s=>{const t=Bb(s);return t.charAt(0).toUpperCase()+t.slice(1)},Sv=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),qb=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Hb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Fb=Dt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Dt.createElement("svg",{ref:y,...Hb,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:Sv("lucide",l),...!c&&!qb(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>Dt.createElement(_,b)),...Array.isArray(c)?c:[c]]));const te=(s,t)=>{const i=Dt.forwardRef(({className:a,...l},c)=>Dt.createElement(Fb,{ref:c,iconNode:t,className:Sv(`lucide-${zb(j_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=j_(s),i};const Gb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Qb=te("activity",Gb);const Kb=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],z_=te("app-window",Kb);const Yb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Av=te("circle-check-big",Yb);const Xb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],$b=te("download",Xb);const Zb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wv=te("file-text",Zb);const Jb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Xd=te("globe",Jb);const Wb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],tS=te("info",Wb);const eS=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],nS=te("key",eS);const iS=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],B_=te("layout-grid",iS);const sS=[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],Rv=te("link-2-off",sS);const rS=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],q_=te("link",rS);const aS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qc=te("loader-circle",aS);const oS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lS=te("log-out",oS);const uS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cS=te("mail",uS);const hS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$d=te("plus",hS);const fS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],H_=te("search",fS);const dS=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],mS=te("server",dS);const pS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F_=te("settings",pS);const gS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Cv=te("shield",gS);const yS=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],_S=te("sliders-vertical",yS);const vS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ES=te("square-check-big",vS);const TS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],bS=te("square",TS);const SS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],G_=te("trash-2",SS);const AS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wS=te("triangle-alert",AS);const RS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],CS=te("user",RS);const IS=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Q_=te("wifi",IS);const xS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],NS=te("zap",xS),DS=()=>{};var K_={};const Iv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},OS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,b=c>>2,R=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(V=64)),a.push(i[b],i[R],i[V],i[G])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Iv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):OS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const R=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||R==null)throw new MS;const V=c<<2|p>>4;if(a.push(V),_!==64){const G=p<<4&240|_>>2;if(a.push(G),R!==64){const W=_<<6&192|R;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class MS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VS=function(s){const t=Iv(s);return xv.encodeByteArray(t,!0)},Hc=function(s){return VS(s).replace(/\./g,"")},Nv=function(s){try{return xv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const US=()=>kS().__FIREBASE_DEFAULTS__,LS=()=>{if(typeof process>"u"||typeof K_>"u")return;const s=K_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},PS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Nv(s[1]);return t&&JSON.parse(t)},fh=()=>{try{return DS()||US()||LS()||PS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Dv=s=>fh()?.emulatorHosts?.[s],jS=s=>{const t=Dv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Ov=()=>fh()?.config,Mv=s=>fh()?.[`_${s}`];class zS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function no(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vv(s){return(await fetch(s,{credentials:"include"})).ok}function BS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const bl={};function qS(){const s={prod:[],emulator:[]};for(const t of Object.keys(bl))bl[t]?s.emulator.push(t):s.prod.push(t);return s}function HS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Y_=!1;function kv(s,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||bl[s]===t||bl[s]||Y_)return;bl[s]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=qS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Y_=!0,d()},V}function b(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function R(){const V=HS(a),G=i("text"),W=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),J=document.getElementById(et)||document.createElement("a"),ct=i("preprendIcon"),yt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const dt=V.element;p(dt),b(J,et);const Pt=_();y(yt,ct),dt.append(yt,W,J,Pt),document.body.appendChild(dt)}c?(W.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function GS(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function YS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XS(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $S(){return!GS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZS(){try{return typeof indexedDB=="object"}catch{return!1}}function JS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const WS="FirebaseError";class ns extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=WS,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?tA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ns(l,p,a)}}function tA(s,t){return s.replace(eA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const eA=/\{\$([^}]+)}/g;function nA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Pr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(X_(c)&&X_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function X_(s){return s!==null&&typeof s=="object"}function zl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function gl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function yl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function iA(s,t){const i=new sA(s,t);return i.subscribe.bind(i)}class sA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");rA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Vd),l.error===void 0&&(l.error=Vd),l.complete===void 0&&(l.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Vd(){}function hn(s){return s&&s._delegate?s._delegate:s}class jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Mr="[DEFAULT]";class aA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new zS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lA(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oA(s){return s===Mr?void 0:s}function lA(s){return s.instantiationMode==="EAGER"}class uA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new aA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const cA={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},hA=Nt.INFO,fA={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},dA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=fA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bm{constructor(t){this.name=t,this._logLevel=hA,this._logHandler=dA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const mA=(s,t)=>t.some(i=>s instanceof i);let $_,Z_;function pA(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gA(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,Zd=new WeakMap,Lv=new WeakMap,kd=new WeakMap,Sm=new WeakMap;function yA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Gs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Uv.set(i,s)}).catch(()=>{}),Sm.set(t,s),t}function _A(s){if(Zd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Zd.set(s,t)}let Jd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Zd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Lv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function vA(s){Jd=s(Jd)}function EA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Ud(this),t,...i);return Lv.set(a,t.sort?t.sort():[t]),Gs(a)}:gA().includes(s)?function(...t){return s.apply(Ud(this),t),Gs(Uv.get(this))}:function(...t){return Gs(s.apply(Ud(this),t))}}function TA(s){return typeof s=="function"?EA(s):(s instanceof IDBTransaction&&_A(s),mA(s,pA())?new Proxy(s,Jd):s)}function Gs(s){if(s instanceof IDBRequest)return yA(s);if(kd.has(s))return kd.get(s);const t=TA(s);return t!==s&&(kd.set(s,t),Sm.set(t,s)),t}const Ud=s=>Sm.get(s);function bA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Gs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Gs(d.result),y.oldVersion,y.newVersion,Gs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const SA=["get","getKey","getAll","getAllKeys","count"],AA=["put","add","delete","clear"],Ld=new Map;function J_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=AA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||SA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Ld.set(t,c),c}vA(s=>({...s,get:(t,i,a)=>J_(t,i)||s.get(t,i,a),has:(t,i)=>!!J_(t,i)||s.has(t,i)}));class wA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function RA(s){return s.getComponent()?.type==="VERSION"}const Wd="@firebase/app",W_="0.14.6";const Ji=new bm("@firebase/app"),CA="@firebase/app-compat",IA="@firebase/analytics-compat",xA="@firebase/analytics",NA="@firebase/app-check-compat",DA="@firebase/app-check",OA="@firebase/auth",MA="@firebase/auth-compat",VA="@firebase/database",kA="@firebase/data-connect",UA="@firebase/database-compat",LA="@firebase/functions",PA="@firebase/functions-compat",jA="@firebase/installations",zA="@firebase/installations-compat",BA="@firebase/messaging",qA="@firebase/messaging-compat",HA="@firebase/performance",FA="@firebase/performance-compat",GA="@firebase/remote-config",QA="@firebase/remote-config-compat",KA="@firebase/storage",YA="@firebase/storage-compat",XA="@firebase/firestore",$A="@firebase/ai",ZA="@firebase/firestore-compat",JA="firebase",WA="12.6.0";const tm="[DEFAULT]",tw={[Wd]:"fire-core",[CA]:"fire-core-compat",[xA]:"fire-analytics",[IA]:"fire-analytics-compat",[DA]:"fire-app-check",[NA]:"fire-app-check-compat",[OA]:"fire-auth",[MA]:"fire-auth-compat",[VA]:"fire-rtdb",[kA]:"fire-data-connect",[UA]:"fire-rtdb-compat",[LA]:"fire-fn",[PA]:"fire-fn-compat",[jA]:"fire-iid",[zA]:"fire-iid-compat",[BA]:"fire-fcm",[qA]:"fire-fcm-compat",[HA]:"fire-perf",[FA]:"fire-perf-compat",[GA]:"fire-rc",[QA]:"fire-rc-compat",[KA]:"fire-gcs",[YA]:"fire-gcs-compat",[XA]:"fire-fst",[ZA]:"fire-fst-compat",[$A]:"fire-vertex","fire-js":"fire-js",[JA]:"fire-js-all"};const Fc=new Map,ew=new Map,em=new Map;function t0(s,t){try{s.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xa(s){const t=s.name;if(em.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;em.set(t,s);for(const i of Fc.values())t0(i,s);for(const i of ew.values())t0(i,s);return!0}function Am(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Vn(s){return s==null?!1:s.settings!==void 0}const nw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new jl("app","Firebase",nw);class iw{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const io=WA;function Pv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:tm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Qs.create("bad-app-name",{appName:String(l)});if(i||(i=Ov()),!i)throw Qs.create("no-options");const c=Fc.get(l);if(c){if(Pr(i,c.options)&&Pr(a,c.config))return c;throw Qs.create("duplicate-app",{appName:l})}const d=new uA(l);for(const y of em.values())d.addComponent(y);const p=new iw(i,a,d);return Fc.set(l,p),p}function jv(s=tm){const t=Fc.get(s);if(!t&&s===tm&&Ov())return Pv();if(!t)throw Qs.create("no-app",{appName:s});return t}function Ks(s,t,i){let a=tw[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Xa(new jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const sw="firebase-heartbeat-database",rw=1,Il="firebase-heartbeat-store";let Pd=null;function zv(){return Pd||(Pd=bA(sw,rw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(s=>{throw Qs.create("idb-open",{originalErrorMessage:s.message})})),Pd}async function aw(s){try{const i=(await zv()).transaction(Il),a=await i.objectStore(Il).get(Bv(s));return await i.done,a}catch(t){if(t instanceof ns)Ji.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function e0(s,t){try{const a=(await zv()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,Bv(s)),await a.done}catch(i){if(i instanceof ns)Ji.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function Bv(s){return`${s.name}!${s.options.appId}`}const ow=1024,lw=30;class uw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>lw){const l=fw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n0(),{heartbeatsToSend:i,unsentEntries:a}=cw(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function n0(){return new Date().toISOString().substring(0,10)}function cw(s,t=ow){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),i0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),i0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class hw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZS()?JS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await aw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function i0(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function fw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function dw(s){Xa(new jr("platform-logger",t=>new wA(t),"PRIVATE")),Xa(new jr("heartbeat",t=>new uw(t),"PRIVATE")),Ks(Wd,W_,s),Ks(Wd,W_,"esm2020"),Ks("fire-js","")}dw("");var mw="firebase",pw="12.6.0";Ks(mw,pw,"app");function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gw=qv,Hv=new jl("auth","Firebase",qv());const Gc=new bm("@firebase/auth");function yw(s,...t){Gc.logLevel<=Nt.WARN&&Gc.warn(`Auth (${io}): ${s}`,...t)}function Oc(s,...t){Gc.logLevel<=Nt.ERROR&&Gc.error(`Auth (${io}): ${s}`,...t)}function Zn(s,...t){throw wm(s,...t)}function Ti(s,...t){return wm(s,...t)}function Fv(s,t,i){const a={...gw(),[t]:i};return new jl("auth","Firebase",a).create(t,{appName:s.name})}function $i(s){return Fv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Hv.create(s,...t)}function pt(s,t,...i){if(!s)throw wm(t,...i)}function Yi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Oc(t),new Error(t)}function Wi(s,t){s||Yi(t)}function nm(){return typeof self<"u"&&self.location?.href||""}function _w(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function vw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_w()||KS()||"connection"in navigator)?navigator.onLine:!0}function Ew(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Bl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=FS()||YS()}get(){return vw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Gv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sw=new Bl(3e4,6e4);function is(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ss(s,t,i,a,l={}){return Qv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=zl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return QS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&no(s.emulatorConfig.host)&&(_.credentials="include"),Gv.fetch()(await Kv(s,s.config.apiHost,i,p),_)})}async function Qv(s,t,i){s._canInitEmulator=!1;const a={...Tw,...t};try{const l=new ww(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw wc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw wc(s,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fv(s,b,_);Zn(s,b)}}catch(l){if(l instanceof ns)throw l;Zn(s,"network-request-failed",{message:String(l)})}}async function ql(s,t,i,a,l={}){const c=await ss(s,t,i,a,l);return"mfaPendingCredential"in c&&Zn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Kv(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Rm(s.config,l):`${s.config.apiScheme}://${l}`;return bw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Aw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ww{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),Sw.get())})}}function wc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ti(s,t,a);return l.customData._tokenResponse=i,l}function r0(s){return s!==void 0&&s.enterprise!==void 0}class Rw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Aw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Cw(s,t){return ss(s,"GET","/v2/recaptchaConfig",is(s,t))}async function Iw(s,t){return ss(s,"POST","/v1/accounts:delete",t)}async function Qc(s,t){return ss(s,"POST","/v1/accounts:lookup",t)}function Sl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xw(s,t=!1){const i=hn(s),a=await i.getIdToken(t),l=Cm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Sl(jd(l.auth_time)),issuedAtTime:Sl(jd(l.iat)),expirationTime:Sl(jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(s){return Number(s)*1e3}function Cm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Nv(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function a0(s){const t=Cm(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function xl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ns&&Nw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Nw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Dw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class im{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(s){const t=s.auth,i=await s.getIdToken(),a=await xl(s,Qc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Yv(l.providerUserInfo):[],d=Mw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function Ow(s){const t=hn(s);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Mw(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Yv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Vw(s,t){const i=await Qv(s,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Kv(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&no(s.emulatorConfig.host)&&(y.credentials="include"),Gv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kw(s,t){return ss(s,"POST","/v2/accounts:revokeToken",is(s,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):a0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=a0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Vw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ha;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Ps(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Dw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await xl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return xw(this,t)}reload(){return Ow(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject($i(this.auth));const t=await this.getIdToken();return await xl(this,Iw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:R,emailVerified:V,isAnonymous:G,providerData:W,stsTokenManager:et}=i;pt(R&&et,t,"internal-error");const J=Ha.fromJSON(this.name,et);pt(typeof R=="string",t,"internal-error"),Ps(a,t.name),Ps(l,t.name),pt(typeof V=="boolean",t,"internal-error"),pt(typeof G=="boolean",t,"internal-error"),Ps(c,t.name),Ps(d,t.name),Ps(p,t.name),Ps(y,t.name),Ps(_,t.name),Ps(b,t.name);const ct=new Xn({uid:R,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:b});return W&&Array.isArray(W)&&(ct.providerData=W.map(yt=>({...yt}))),y&&(ct._redirectEventId=y),ct}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Yv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ha;p.updateFromIdToken(a);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const o0=new Map;function Xi(s){Wi(s instanceof Function,"Expected a class definition");let t=o0.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,o0.set(s,t),t)}class Xv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Xv.type="NONE";const l0=Xv;function Mc(s,t,i){return`firebase:${s}:${t}:${i}`}class Fa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Fa(Xi(l0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Xi(l0);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let R;if(typeof b=="string"){const V=await Qc(t,{idToken:b}).catch(()=>{});if(!V)break;R=await Xn._fromGetAccountInfoResponse(t,V,b)}else R=Xn._fromJSON(t,b);_!==c&&(p=R),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Fa(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Fa(c,t,a))}}function u0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($v(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eE(t))return"Blackberry";if(nE(t))return"Webos";if(Zv(t))return"Safari";if((t.includes("chrome/")||Jv(t))&&!t.includes("edge/"))return"Chrome";if(tE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function $v(s=Je()){return/firefox\//i.test(s)}function Zv(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Jv(s=Je()){return/crios\//i.test(s)}function Wv(s=Je()){return/iemobile/i.test(s)}function tE(s=Je()){return/android/i.test(s)}function eE(s=Je()){return/blackberry/i.test(s)}function nE(s=Je()){return/webos/i.test(s)}function Im(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Uw(s=Je()){return Im(s)&&!!window.navigator?.standalone}function Lw(){return XS()&&document.documentMode===10}function iE(s=Je()){return Im(s)||tE(s)||nE(s)||eE(s)||/windows phone/i.test(s)||Wv(s)}function sE(s,t=[]){let i;switch(s){case"Browser":i=u0(Je());break;case"Worker":i=`${u0(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}class Pw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function jw(s,t={}){return ss(s,"GET","/v2/passwordPolicy",is(s,t))}const zw=6;class Bw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??zw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class qw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new Pw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ew()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject($i(this));const i=t?hn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jw(this),i=new Bw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await kw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&yw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function er(s){return hn(s)}class c0{constructor(t){this.auth=t,this.observer=null,this.addObserver=iA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hw(s){dh=s}function rE(s){return dh.loadJS(s)}function Fw(){return dh.recaptchaEnterpriseScript}function Gw(){return dh.gapiScript}function Qw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Kw{constructor(){this.enterprise=new Yw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Yw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Xw="recaptcha-enterprise",aE="NO_RECAPTCHA";class $w{constructor(t){this.type=Xw,this.auth=er(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Cw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Rw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;r0(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(aE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Kw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&r0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Fw();y.length!==0&&(y+=p),rE(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function h0(s,t,i,a=!1,l=!1){const c=new $w(s);let d;if(l)d=aE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Yc(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await h0(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await h0(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Zw(s,t){const i=Am(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Pr(c,t??{}))return l;Zn(l,"already-initialized")}return i.initialize({options:t})}function Jw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function Ww(s,t,i){const a=er(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=oE(t),{host:d,port:p}=t2(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Pr(_,a.config.emulator)&&Pr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,no(d)?(Vv(`${c}//${d}${y}`),kv("Auth",!0)):e2()}function oE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function t2(s){const t=oE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:f0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:f0(d)}}}function f0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function e2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class xm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function n2(s,t){return ss(s,"POST","/v1/accounts:signUp",t)}async function i2(s,t){return ql(s,"POST","/v1/accounts:signInWithPassword",is(s,t))}async function s2(s,t){return ss(s,"POST","/v1/accounts:sendOobCode",is(s,t))}async function r2(s,t){return s2(s,t)}async function a2(s,t){return ql(s,"POST","/v1/accounts:signInWithEmailLink",is(s,t))}async function o2(s,t){return ql(s,"POST","/v1/accounts:signInWithEmailLink",is(s,t))}class Nl extends xm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Nl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Nl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yc(t,i,"signInWithPassword",i2);case"emailLink":return a2(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yc(t,a,"signUpPassword",n2);case"emailLink":return o2(t,{idToken:i,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ga(s,t){return ql(s,"POST","/v1/accounts:signInWithIdp",is(s,t))}const l2="http://localhost";class zr extends xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new zr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:l2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zl(i)}return t}}function u2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c2(s){const t=gl(yl(s)).link,i=t?gl(yl(t)).deep_link_id:null,a=gl(yl(s)).deep_link_id;return(a?gl(yl(a)).link:null)||a||i||t||s}class Nm{constructor(t){const i=gl(yl(t)),a=i.apiKey??null,l=i.oobCode??null,c=u2(i.mode??null);pt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=c2(t);try{return new Nm(i)}catch{return null}}}class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(t,i){return Nl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Nm.parseLink(i);return pt(a,"argument-error"),Nl._fromEmailAndCode(t,a.code,a.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class lE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hl extends lE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class zs extends Hl{constructor(){super("facebook.com")}static credential(t){return zr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class Bs extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return zr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Hl{constructor(){super("github.com")}static credential(t){return zr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Hl{constructor(){super("twitter.com")}static credential(t,i){return zr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";async function h2(s,t){return ql(s,"POST","/v1/accounts:signUp",is(s,t))}class Br{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=d0(a);return new Br({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=d0(a);return new Br({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function d0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Xc extends ns{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Xc(t,i,a,l)}}function uE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,t,a):c})}async function f2(s,t,i=!1){const a=await xl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Br._forOperation(s,"link",a)}async function d2(s,t,i=!1){const{auth:a}=s;if(Vn(a.app))return Promise.reject($i(a));const l="reauthenticate";try{const c=await xl(s,uE(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=Cm(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(s.uid===p,a,"user-mismatch"),Br._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zn(a,"user-mismatch"),c}}async function cE(s,t,i=!1){if(Vn(s.app))return Promise.reject($i(s));const a="signIn",l=await uE(s,a,t),c=await Br._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function m2(s,t){return cE(er(s),t)}async function hE(s){const t=er(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function p2(s,t,i){const a=er(s);await Yc(a,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",r2)}async function g2(s,t,i){if(Vn(s.app))return Promise.reject($i(s));const a=er(s),d=await Yc(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h2).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&hE(s),y}),p=await Br._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function y2(s,t,i){return Vn(s.app)?Promise.reject($i(s)):m2(hn(s),so.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&hE(s),a})}function _2(s,t,i,a){return hn(s).onIdTokenChanged(t,i,a)}function v2(s,t,i){return hn(s).beforeAuthStateChanged(t,i)}function E2(s,t,i,a){return hn(s).onAuthStateChanged(t,i,a)}function T2(s){return hn(s).signOut()}const $c="__sak";class fE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const b2=1e3,S2=10;class dE extends fE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Lw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,S2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},b2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}dE.type="LOCAL";const A2=dE;class mE extends fE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}mE.type="SESSION";const pE=mE;function w2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new mh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await w2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];function Dm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class R2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Dm("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(R){const V=R;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bi(){return window}function C2(s){bi().location.href=s}function gE(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function I2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x2(){return navigator?.serviceWorker?.controller||null}function N2(){return gE()?self:null}const yE="firebaseLocalStorageDb",D2=1,Zc="firebaseLocalStorage",_E="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(s,t){return s.transaction([Zc],t?"readwrite":"readonly").objectStore(Zc)}function O2(){const s=indexedDB.deleteDatabase(yE);return new Fl(s).toPromise()}function sm(){const s=indexedDB.open(yE,D2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Zc,{keyPath:_E})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Zc)?t(a):(a.close(),await O2(),t(await sm()))})})}async function m0(s,t,i){const a=ph(s,!0).put({[_E]:t,value:i});return new Fl(a).toPromise()}async function M2(s,t){const i=ph(s,!1).get(t),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function p0(s,t){const i=ph(s,!0).delete(t);return new Fl(i).toPromise()}const V2=800,k2=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>k2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(N2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await I2(),!this.activeServiceWorker)return;this.sender=new R2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||x2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sm();return await m0(t,$c,"1"),await p0(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>m0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>M2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>p0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ph(l,!1).getAll();return new Fl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const U2=vE;new Bl(3e4,6e4);function L2(s,t){return t?Xi(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Om extends xm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function P2(s){return cE(s.auth,new Om(s),s.bypassAuthState)}function j2(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),d2(i,new Om(s),s.bypassAuthState)}async function z2(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),f2(i,new Om(s),s.bypassAuthState)}class EE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return P2;case"linkViaPopup":case"linkViaRedirect":return z2;case"reauthViaPopup":case"reauthViaRedirect":return j2;default:Zn(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const B2=new Bl(2e3,1e4);class qa extends EE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,B2.get())};t()}}qa.currentPopupAction=null;const q2="pendingRedirect",Vc=new Map;class H2 extends EE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await F2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F2(s,t){const i=K2(t),a=Q2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function G2(s,t){Vc.set(s._key(),t)}function Q2(s){return Xi(s._redirectPersistence)}function K2(s){return Mc(q2,s.config.apiKey,s.name)}async function Y2(s,t,i=!1){if(Vn(s.app))return Promise.reject($i(s));const a=er(s),l=L2(a,t),d=await new H2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const X2=600*1e3;class $2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Z2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!TE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=X2&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(t))}saveEventToCache(t){this.cachedEventUids.add(g0(t)),this.lastProcessedEventTime=Date.now()}}function g0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function TE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Z2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(s);default:return!1}}async function J2(s,t={}){return ss(s,"GET","/v1/projects",t)}const W2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tR=/^https?/;async function eR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await J2(s);for(const i of t)try{if(nR(i))return}catch{}Zn(s,"unauthorized-domain")}function nR(s){const t=nm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!tR.test(i))return!1;if(W2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const iR=new Bl(3e4,6e4);function y0(){const s=bi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function sR(s){return new Promise((t,i)=>{function a(){y0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{y0(),i(Ti(s,"network-request-failed"))},timeout:iR.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)a();else{const l=Qw("iframefcb");return bi()[l]=()=>{gapi.load?a():i(Ti(s,"network-request-failed"))},rE(`${Gw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function rR(s){return kc=kc||sR(s),kc}const aR=new Bl(5e3,15e3),oR="__/auth/iframe",lR="emulator/auth/iframe",uR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hR(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Rm(t,lR):`https://${s.config.authDomain}/${oR}`,a={apiKey:t.apiKey,appName:s.name,v:io},l=cR.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zl(a).slice(1)}`}async function fR(s){const t=await rR(s),i=bi().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:hR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(s,"network-request-failed"),p=bi().setTimeout(()=>{c(d)},aR.get());function y(){bi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,pR=600,gR="_blank",yR="http://localhost";class _0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(s,t,i,a=mR,l=pR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...dR,width:a.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(p=Jv(_)?gR:i),$v(_)&&(t=t||yR,y.scrollbars="yes");const b=Object.entries(y).reduce((V,[G,W])=>`${V}${G}=${W},`,"");if(Uw(_)&&p!=="_self")return vR(t||"",p),new _0(null);const R=window.open(t||"",p,b);pt(R,s,"popup-blocked");try{R.focus()}catch{}return new _0(R)}function vR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const ER="__/auth/handler",TR="emulator/auth/handler",bR=encodeURIComponent("fac");async function v0(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:io,eventId:l};if(t instanceof lE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",nA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,R]of Object.entries({}))d[b]=R}if(t instanceof Hl){const b=t.getScopes().filter(R=>R!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await s._getAppCheckToken(),_=y?`#${bR}=${encodeURIComponent(y)}`:"";return`${SR(s)}?${zl(p).slice(1)}${_}`}function SR({config:s}){return s.emulator?Rm(s,TR):`https://${s.authDomain}/${ER}`}const zd="webStorageSupport";class AR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=Y2,this._overrideRedirectResult=G2}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await v0(t,i,a,nm(),l);return _R(t,c,Dm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await v0(t,i,a,nm(),l);return C2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await fR(t),a=new $2(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return iE()||Zv()||Im()}}const wR=AR;var E0="@firebase/auth",T0="1.11.1";class RR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IR(s){Xa(new jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(s)},_=new qw(a,l,c,y);return Jw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new jr("auth-internal",t=>{const i=er(t.getProvider("auth").getImmediate());return(a=>new RR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(E0,T0,CR(s)),Ks(E0,T0,"esm2020")}const xR=300,NR=Mv("authIdTokenMaxAge")||xR;let b0=null;const DR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>NR)return;const l=i?.token;b0!==l&&(b0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function OR(s=jv()){const t=Am(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Zw(s,{popupRedirectResolver:wR,persistence:[U2,A2,pE]}),a=Mv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=DR(c.toString());v2(i,d,()=>d(i.currentUser)),_2(i,p=>d(p))}}const l=Dv("auth");return l&&Ww(i,`http://${l}`),i}function MR(){return document.getElementsByTagName("head")?.[0]??document}Hw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ti("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",MR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IR("Browser");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ys,bE;(function(){var s;function t(w,A){function C(){}C.prototype=A.prototype,w.F=A.prototype,w.prototype=new C,w.prototype.constructor=w,w.D=function(M,N,U){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return A.prototype[N].apply(M,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)M[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=w.g[0],C=w.g[1],N=w.g[2];let U=w.g[3],I;I=A+(U^C&(N^U))+M[0]+3614090360&4294967295,A=C+(I<<7&4294967295|I>>>25),I=U+(N^A&(C^N))+M[1]+3905402710&4294967295,U=A+(I<<12&4294967295|I>>>20),I=N+(C^U&(A^C))+M[2]+606105819&4294967295,N=U+(I<<17&4294967295|I>>>15),I=C+(A^N&(U^A))+M[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(U^C&(N^U))+M[4]+4118548399&4294967295,A=C+(I<<7&4294967295|I>>>25),I=U+(N^A&(C^N))+M[5]+1200080426&4294967295,U=A+(I<<12&4294967295|I>>>20),I=N+(C^U&(A^C))+M[6]+2821735955&4294967295,N=U+(I<<17&4294967295|I>>>15),I=C+(A^N&(U^A))+M[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(U^C&(N^U))+M[8]+1770035416&4294967295,A=C+(I<<7&4294967295|I>>>25),I=U+(N^A&(C^N))+M[9]+2336552879&4294967295,U=A+(I<<12&4294967295|I>>>20),I=N+(C^U&(A^C))+M[10]+4294925233&4294967295,N=U+(I<<17&4294967295|I>>>15),I=C+(A^N&(U^A))+M[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(U^C&(N^U))+M[12]+1804603682&4294967295,A=C+(I<<7&4294967295|I>>>25),I=U+(N^A&(C^N))+M[13]+4254626195&4294967295,U=A+(I<<12&4294967295|I>>>20),I=N+(C^U&(A^C))+M[14]+2792965006&4294967295,N=U+(I<<17&4294967295|I>>>15),I=C+(A^N&(U^A))+M[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(N^U&(C^N))+M[1]+4129170786&4294967295,A=C+(I<<5&4294967295|I>>>27),I=U+(C^N&(A^C))+M[6]+3225465664&4294967295,U=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(U^A))+M[11]+643717713&4294967295,N=U+(I<<14&4294967295|I>>>18),I=C+(U^A&(N^U))+M[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(N^U&(C^N))+M[5]+3593408605&4294967295,A=C+(I<<5&4294967295|I>>>27),I=U+(C^N&(A^C))+M[10]+38016083&4294967295,U=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(U^A))+M[15]+3634488961&4294967295,N=U+(I<<14&4294967295|I>>>18),I=C+(U^A&(N^U))+M[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(N^U&(C^N))+M[9]+568446438&4294967295,A=C+(I<<5&4294967295|I>>>27),I=U+(C^N&(A^C))+M[14]+3275163606&4294967295,U=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(U^A))+M[3]+4107603335&4294967295,N=U+(I<<14&4294967295|I>>>18),I=C+(U^A&(N^U))+M[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(N^U&(C^N))+M[13]+2850285829&4294967295,A=C+(I<<5&4294967295|I>>>27),I=U+(C^N&(A^C))+M[2]+4243563512&4294967295,U=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(U^A))+M[7]+1735328473&4294967295,N=U+(I<<14&4294967295|I>>>18),I=C+(U^A&(N^U))+M[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(C^N^U)+M[5]+4294588738&4294967295,A=C+(I<<4&4294967295|I>>>28),I=U+(A^C^N)+M[8]+2272392833&4294967295,U=A+(I<<11&4294967295|I>>>21),I=N+(U^A^C)+M[11]+1839030562&4294967295,N=U+(I<<16&4294967295|I>>>16),I=C+(N^U^A)+M[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(C^N^U)+M[1]+2763975236&4294967295,A=C+(I<<4&4294967295|I>>>28),I=U+(A^C^N)+M[4]+1272893353&4294967295,U=A+(I<<11&4294967295|I>>>21),I=N+(U^A^C)+M[7]+4139469664&4294967295,N=U+(I<<16&4294967295|I>>>16),I=C+(N^U^A)+M[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(C^N^U)+M[13]+681279174&4294967295,A=C+(I<<4&4294967295|I>>>28),I=U+(A^C^N)+M[0]+3936430074&4294967295,U=A+(I<<11&4294967295|I>>>21),I=N+(U^A^C)+M[3]+3572445317&4294967295,N=U+(I<<16&4294967295|I>>>16),I=C+(N^U^A)+M[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(C^N^U)+M[9]+3654602809&4294967295,A=C+(I<<4&4294967295|I>>>28),I=U+(A^C^N)+M[12]+3873151461&4294967295,U=A+(I<<11&4294967295|I>>>21),I=N+(U^A^C)+M[15]+530742520&4294967295,N=U+(I<<16&4294967295|I>>>16),I=C+(N^U^A)+M[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(N^(C|~U))+M[0]+4096336452&4294967295,A=C+(I<<6&4294967295|I>>>26),I=U+(C^(A|~N))+M[7]+1126891415&4294967295,U=A+(I<<10&4294967295|I>>>22),I=N+(A^(U|~C))+M[14]+2878612391&4294967295,N=U+(I<<15&4294967295|I>>>17),I=C+(U^(N|~A))+M[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=A+(N^(C|~U))+M[12]+1700485571&4294967295,A=C+(I<<6&4294967295|I>>>26),I=U+(C^(A|~N))+M[3]+2399980690&4294967295,U=A+(I<<10&4294967295|I>>>22),I=N+(A^(U|~C))+M[10]+4293915773&4294967295,N=U+(I<<15&4294967295|I>>>17),I=C+(U^(N|~A))+M[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=A+(N^(C|~U))+M[8]+1873313359&4294967295,A=C+(I<<6&4294967295|I>>>26),I=U+(C^(A|~N))+M[15]+4264355552&4294967295,U=A+(I<<10&4294967295|I>>>22),I=N+(A^(U|~C))+M[6]+2734768916&4294967295,N=U+(I<<15&4294967295|I>>>17),I=C+(U^(N|~A))+M[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=A+(N^(C|~U))+M[4]+4149444226&4294967295,A=C+(I<<6&4294967295|I>>>26),I=U+(C^(A|~N))+M[11]+3174756917&4294967295,U=A+(I<<10&4294967295|I>>>22),I=N+(A^(U|~C))+M[2]+718787259&4294967295,N=U+(I<<15&4294967295|I>>>17),I=C+(U^(N|~A))+M[9]+3951481745&4294967295,w.g[0]=w.g[0]+A&4294967295,w.g[1]=w.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+U&4294967295}a.prototype.v=function(w,A){A===void 0&&(A=w.length);const C=A-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=C;)l(this,w,U),U+=this.blockSize;if(typeof w=="string"){for(;U<A;)if(M[N++]=w.charCodeAt(U++),N==this.blockSize){l(this,M),N=0;break}}else for(;U<A;)if(M[N++]=w[U++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var A=1;A<w.length-8;++A)w[A]=0;A=this.o*8;for(var C=w.length-8;C<w.length;++C)w[C]=A&255,A/=256;for(this.v(w),w=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)w[A++]=this.g[C]>>>M&255;return w};function c(w,A){var C=p;return Object.prototype.hasOwnProperty.call(C,w)?C[w]:C[w]=A(w)}function d(w,A){this.h=A;const C=[];let M=!0;for(let N=w.length-1;N>=0;N--){const U=w[N]|0;M&&U==A||(C[N]=U,M=!1)}this.g=C}var p={};function y(w){return-128<=w&&w<128?c(w,function(A){return new d([A|0],A<0?-1:0)}):new d([w|0],w<0?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return R;if(w<0)return J(_(-w));const A=[];let C=1;for(let M=0;w>=C;M++)A[M]=w/C|0,C*=4294967296;return new d(A,0)}function b(w,A){if(w.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(w.charAt(0)=="-")return J(b(w.substring(1),A));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let M=R;for(let U=0;U<w.length;U+=8){var N=Math.min(8,w.length-U);const I=parseInt(w.substring(U,U+N),A);N<8?(N=_(Math.pow(A,N)),M=M.j(N).add(_(I))):(M=M.j(C),M=M.add(_(I)))}return M}var R=y(0),V=y(1),G=y(16777216);s=d.prototype,s.m=function(){if(et(this))return-J(this).m();let w=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);w+=(M>=0?M:4294967296+M)*A,A*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(W(this))return"0";if(et(this))return"-"+J(this).toString(w);const A=_(Math.pow(w,6));var C=this;let M="";for(;;){const N=Pt(C,A).g;C=ct(C,N.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(w);if(C=N,W(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function W(w){if(w.h!=0)return!1;for(let A=0;A<w.g.length;A++)if(w.g[A]!=0)return!1;return!0}function et(w){return w.h==-1}s.l=function(w){return w=ct(this,w),et(w)?-1:W(w)?0:1};function J(w){const A=w.g.length,C=[];for(let M=0;M<A;M++)C[M]=~w.g[M];return new d(C,~w.h).add(V)}s.abs=function(){return et(this)?J(this):this},s.add=function(w){const A=Math.max(this.g.length,w.g.length),C=[];let M=0;for(let N=0;N<=A;N++){let U=M+(this.i(N)&65535)+(w.i(N)&65535),I=(U>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);M=I>>>16,U&=65535,I&=65535,C[N]=I<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ct(w,A){return w.add(J(A))}s.j=function(w){if(W(this)||W(w))return R;if(et(this))return et(w)?J(this).j(J(w)):J(J(this).j(w));if(et(w))return J(this.j(J(w)));if(this.l(G)<0&&w.l(G)<0)return _(this.m()*w.m());const A=this.g.length+w.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<w.g.length;N++){const U=this.i(M)>>>16,I=this.i(M)&65535,ee=w.i(N)>>>16,ne=w.i(N)&65535;C[2*M+2*N]+=I*ne,yt(C,2*M+2*N),C[2*M+2*N+1]+=U*ne,yt(C,2*M+2*N+1),C[2*M+2*N+1]+=I*ee,yt(C,2*M+2*N+1),C[2*M+2*N+2]+=U*ee,yt(C,2*M+2*N+2)}for(w=0;w<A;w++)C[w]=C[2*w+1]<<16|C[2*w];for(w=A;w<2*A;w++)C[w]=0;return new d(C,0)};function yt(w,A){for(;(w[A]&65535)!=w[A];)w[A+1]+=w[A]>>>16,w[A]&=65535,A++}function dt(w,A){this.g=w,this.h=A}function Pt(w,A){if(W(A))throw Error("division by zero");if(W(w))return new dt(R,R);if(et(w))return A=Pt(J(w),A),new dt(J(A.g),J(A.h));if(et(A))return A=Pt(w,J(A)),new dt(J(A.g),A.h);if(w.g.length>30){if(et(w)||et(A))throw Error("slowDivide_ only works with positive integers.");for(var C=V,M=A;M.l(w)<=0;)C=Ft(C),M=Ft(M);var N=Z(C,1),U=Z(M,1);for(M=Z(M,2),C=Z(C,2);!W(M);){var I=U.add(M);I.l(w)<=0&&(N=N.add(C),U=I),M=Z(M,1),C=Z(C,1)}return A=ct(w,N.j(A)),new dt(N,A)}for(N=R;w.l(A)>=0;){for(C=Math.max(1,Math.floor(w.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(C),I=U.j(A);et(I)||I.l(w)>0;)C-=M,U=_(C),I=U.j(A);W(U)&&(U=V),N=N.add(U),w=ct(w,I)}return new dt(N,w)}s.B=function(w){return Pt(this,w).h},s.and=function(w){const A=Math.max(this.g.length,w.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&w.i(M);return new d(C,this.h&w.h)},s.or=function(w){const A=Math.max(this.g.length,w.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|w.i(M);return new d(C,this.h|w.h)},s.xor=function(w){const A=Math.max(this.g.length,w.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^w.i(M);return new d(C,this.h^w.h)};function Ft(w){const A=w.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=w.i(M)<<1|w.i(M-1)>>>31;return new d(C,w.h)}function Z(w,A){const C=A>>5;A%=32;const M=w.g.length-C,N=[];for(let U=0;U<M;U++)N[U]=A>0?w.i(U+C)>>>A|w.i(U+C+1)<<32-A:w.i(U+C);return new d(N,w.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Ys=d}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var SE,_l,AE,Uc,rm,wE,RE,CE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[L].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new et(()=>new Pt,u=>u.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,Z=!1,w=new yt,A=()=>{const u=Promise.resolve(void 0);Ft=()=>{u.then(C)}};function C(){for(var u;u=ct();){try{u.h.call(u.g)}catch(v){J(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Z=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(ee,N),ee.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=At(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function At(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),xe={};function ae(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,T,L);return null}return v=ho(v),u&&u[ne]?u.J(m,v,p(T)?!!T.capture:!1,L):nr(u,m,v,!1,T,L)}function nr(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let bt=ir(u);if(bt||(u[kt]=bt=new rt(u)),v=bt.add(m,v,T,tt,B),v.proxy)return v;if(T=Yr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yr(){function u(v){return m.call(u.src,u.listener,v)}const m=uo;return u}function Xr(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Xr(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=ho(v),u&&u[ne]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=At(m,v,T,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ir(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,v,T,L)),(v=u>-1?m[u]:null)&&$r(v))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ne])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ir(m))?(_t(v,u),v.h==0&&(v.src=null,m[kt]=null)):ht(u)}}}function Jn(u){return u in xe?xe[u]:xe[u]="on"+u}function uo(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=v.call(T,m)}return u}function ir(u){return u=u[kt],u instanceof rt?u:null}var co="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(u){return typeof u=="function"?u:(u[co]||(u[co]=function(m){return u.handleEvent(m)}),u[co])}function _e(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}R(_e,M),_e.prototype[ne]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Xr(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),it(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=rs(B,T,!0,m)&&L;if(B=m.g=u,L=rs(B,T,!0,m)&&L,L=rs(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=rs(B,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function rs(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const bt=tt.listener,me=tt.ha||tt.src;tt.fa&&_t(u.i,tt),L=bt.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function xh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=xh(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(u){M.call(this),this.h=u,this.g={}}R(sr,M);var fo=[];function mo(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&$r(m)},u),u.g={}}sr.prototype.N=function(){sr.Z.N.call(this),mo(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,Nh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function Wl(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){N.call(this,"d")}R(je,N);function Tn(){N.call(this,"c")}R(Tn,N);var de={},tu=null;function Zr(){return tu=tu||new _e}de.Ia="serverreachability";function eu(u){N.call(this,de.Ia,u)}R(eu,N);function Wn(u){const m=Zr();Ne(m,new eu(m))}de.STAT_EVENT="statevent";function rr(u,m){N.call(this,de.STAT_EVENT,u),this.stat=m}R(rr,N);function ve(u){const m=Zr();Ne(m,new rr(m,u))}de.Ja="timingevent";function ti(u,m){N.call(this,de.Ja,u),this.size=m}R(ti,N);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",bt=B.split("&");for(let Bt=0;Bt<bt.length;Bt++){var me=bt[Bt].split("=");if(me.length>1){const oe=me[0];me=me[1];const wn=oe.split("_");tt=wn.length>=2&&wn[1]=="type"?tt+(oe+"="+me+"&"):tt+(oe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function nu(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function ni(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(T?" "+T:"")})}function ar(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return as(B)}catch{return m}}var or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},go;function lr(){}R(lr,Jl),lr.prototype.g=function(){return new XMLHttpRequest},go=new lr;function xi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function ii(u,m,v){u.M=1,u.A=ur(be(m)),u.u=v,u.R=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),si(u),u.B=be(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new zn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(fo[0]=L.toString()),L=fo);for(let B=0;B<L.length;B++){const tt=ae(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Hn(this.g),me=this.g.ya(),Bt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||bt!=4||me==7||(me==8||Bt<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ve(12),fn(this),bn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=ru(this,v),oe==Ve){bt==4&&(this.m=4,ve(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),ni(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,oe,null),ai(this,oe);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Do(tt),tt.P=!0,ve(11))}}else ni(this.i,this.l,v,null),ai(this,v);bt==4&&fn(this),this.o&&!this.K&&(bt==4?mu(this.j,this):(this.o=!1,si(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),fn(this),bn(this)}}}catch{}finally{}};function Mh(u){if(!su(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,L=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(_(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ar(this.i,this.B),this.M!=2&&(Wn(),ve(17)),fn(this),this.m=2,bn(this)):Wr(this,this.T-u)};function bn(u){u.j.I==0||u.K||mu(u.j,u)}function fn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||li(v.h,u))){if(!u.L&&li(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),ms(v);else break t;gr(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ei(_(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((u.L||v.g==u)&&oa(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const oe=Bt[0];if(!(oe<=v.K))if(v.K=oe,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const wn=Bt[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const pi=Bt[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Fn=Bt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Gn=u.g;if(Gn){const yr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var B=T.h;B.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vo(B,B.h),B.h=null))}if(T.G){const la=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Qt(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=yu(T,T.L?T.ba:null,T.W),tt.L){Eo(T.h,tt);var bt=tt,me=T.O;me&&(bt.H=me),bt.D&&(ri(bt),si(bt)),T.g=tt}else fu(T);v.i.length>0&&di(v)}else Bt[0]!="stop"&&Bt[0]!="close"||mi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?mi(v,7):xo(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}Wn(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function yo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vo(u,m){u.g?u.g.add(m):u.h=m}function Eo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yo.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,bo(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),os(this,m[4]),this.h=ui(m[5]||"",!0),bo(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cr(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cr(m,ea,!0),"@"),u.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(cr(v,v.charAt(0)=="/"?So:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",cr(v,lu)),u.join("")},dn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)os(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const bt=L[tt++];bt=="."?T&&tt==L.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(bt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?bo(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new dn(u)}function ke(u,m,v){u.j=v?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bo(u,m,v){m instanceof us?(u.i=m,ia(u.i,u.l)):(v||(m=cr(m,ls)),u.i=new us(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function ur(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,ou=/[#\?:]/g,So=/[#\?]/g,ls=/[#\?@]/g,lu=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=us.prototype,s.add=function(u,m){sn(this),this.i=null,u=cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){sn(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ao(u,m){return sn(u),m=cs(u,m),u.g.has(m)}s.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function wo(u,m){sn(u);let v=[];if(typeof m=="string")Ao(u,m)&&(v=v.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return sn(this),this.i=null,u=cs(this,u),Ao(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=wo(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(cs(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=xi(v);v=wo(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+xi(v[B])),u.push(tt)}}return this.i=u.join("&")};function cu(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(uu(this,T),na(this,L,v))},u)),u.j=m}function Bn(u,m){const v=new Pn;if(d.Image){const T=new Image;T.onload=b(Sn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Sn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Sn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Sn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ro(u,m){const v=new Pn,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function hs(){this.g=new Zl}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}R(ci,Jl),ci.prototype.g=function(){return new hr(this.i,this.h)};function hr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(hr,_e),s=hr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):qn(this),this.readyState==3&&sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},s.Na=function(u){this.g&&(this.response=u,fs(this))},s.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function fr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=An(v),typeof u=="string"?v!=null&&xi(v):Qt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Xt,_e);var hi=/^https?$/i,Co=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():go.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){dr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){dr(this,B)}};function dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Io(u),Ni(u)}function Io(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ni(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},s.Xa=function(){mr(this)};function mr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(au)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!hi.test(tt?tt.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=Hn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Io(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var v=iu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Gt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ds.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=yu(this,null,this.W),di(this)};function xo(u){if(ra(u),u.I==3){var m=u.V++,v=be(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),pr(u,v),m=new jn(u,u.j,m),m.M=2,m.A=ur(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}gu(u)}function ms(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function ra(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!_o(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ft||A(),Z||(Ft(),Z=!0),w.add(m,u),u.D=0}}function aa(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(_(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,L,m),v=be(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),pr(this,v),B&&(this.R?m="headers="+xi(An(B))+"&"+m:this.u&&fr(v,this.u,B)),vo(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,ii(L,v,null)):ii(L,v,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||_o(this.h)||No(this))};function No(u,m){var v;m?v=m.l:v=u.V++;const T=be(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),pr(u,T),u.u&&u.o&&fr(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vo(u.h,v),ii(v,T,m)}function pr(u,m){u.H&&Lt(u.H,function(v,T){Qt(m,T,v)}),u.l&&Lt({},function(v,T){Qt(m,T,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let bt=-1;for(;;){const me=["count="+v];bt==-1?v>0?(bt=L[0].g,me.push("ofs="+bt)):bt=0:me.push("ofs="+bt);let Bt=!0;for(let oe=0;oe<v;oe++){var B=L[oe].g;const wn=L[oe].map;if(B-=bt,B<0)bt=Math.max(0,L[oe].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var tt=wn instanceof Map?wn:Object.entries(wn);for(const[pi,Fn]of tt){let Gn=Fn;p(Fn)&&(Gn=as(Fn)),me.push(B+pi+"="+encodeURIComponent(Gn))}}catch(pi){throw me.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(wn)}}if(Bt){tt=me.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ft||A(),Z||(Ft(),Z=!0),w.add(m,u),u.A=0}}function gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(_(u.Da,u),pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ms(this),du(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),pr(u,m),u.u&&u.o&&fr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ur(be(m)),v.u=null,v.R=!0,Jr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ms(this),gr(this),ve(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){oa(u),Do(u),u.g=null;var T=2}else if(li(u.h,m))v=m.G,Eo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Zr(),Ne(T,new ti(T,v)),di(u)}else fu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&gr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),ur(T),L?Bn(T.toString(),v):Ro(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),gu(u),ra(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var T=v instanceof dn?be(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),os(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new dn(null);T&&ke(B,T),m&&(B.g=m),L&&os(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),pr(u,T),T}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new ci({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ps(){}ps.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_e.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}R(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){xo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=as(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&di(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,tn.Z.N.call(this)};function Eu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(Eu,je);function Tu(){Tn.call(this),this.status=1}R(Tu,Tn);function Oi(u){this.g=u}R(Oi,vu),Oi.prototype.ra=function(){Ne(this.g,"a")},Oi.prototype.qa=function(u){Ne(this.g,new Eu(u))},Oi.prototype.pa=function(u){Ne(this.g,new Tu)},Oi.prototype.oa=function(){Ne(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,CE=function(){return new ps},RE=function(){return Zr()},wE=de,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Uc=or,po.COMPLETE="complete",AE=po,Wl.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",_e.prototype.listen=_e.prototype.J,_l=Wl,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,SE=Xt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore",w0="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let ro="12.3.0";const qr=new bm("@firebase/firestore");function Pa(){return qr.logLevel}function st(s,...t){if(qr.logLevel<=Nt.DEBUG){const i=t.map(Mm);qr.debug(`Firestore (${ro}): ${s}`,...i)}}function ts(s,...t){if(qr.logLevel<=Nt.ERROR){const i=t.map(Mm);qr.error(`Firestore (${ro}): ${s}`,...i)}}function $a(s,...t){if(qr.logLevel<=Nt.WARN){const i=t.map(Mm);qr.warn(`Firestore (${ro}): ${s}`,...i)}}function Mm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,IE(s,a,i)}function IE(s,t,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Ht(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||IE(t,l,a)}function Tt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class xE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class kR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class UR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ur,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ur)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new xE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class LR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new LR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=zR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ot(s,t){return s<t?-1:s>t?1:0}function am(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?Ot(l,c):Bd(l)?1:-1}return Ot(s.length,t.length)}const BR=55296,qR=57343;function Bd(s){const t=s.charCodeAt(0);return t>=BR&&t<=qR}function Za(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const C0="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ys.fromString(t.substring(4,t.length-2))}}class ue extends Ei{construct(t,i,a){return new ue(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const HR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ei{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return HR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C0}static keyField(){return new Qe([C0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ue.fromString(t))}static fromName(t){return new ft(ue.fromString(t).popFirst(5))}static empty(){return new ft(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ue(t.slice()))}}function FR(s,t,i){if(!i)throw new lt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function GR(s,t,i,a){if(t===!0&&a===!0)throw new lt($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function I0(s){if(!ft.isDocumentKey(s))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function NE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function km(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Qa(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(s);throw new lt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function Gl(s,t){if(!NE(s))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt($.INVALID_ARGUMENT,i);return!0}const x0=-62135596800,N0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*N0);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<x0)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-x0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ie("string",re._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function QR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Xs(l,ft.empty(),t)}function KR(s){return new Xs(s.readTime,s.key,Dl)}class Xs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xs(vt.min(),ft.empty(),Dl)}static max(){return new Xs(vt.max(),ft.empty(),Dl)}}function YR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}const XR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==XR)throw s;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function ZR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(s){return s.name==="IndexedDbTransactionError"}class gh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gh.ce=-1;const Um=-1;function yh(s){return s==null}function Jc(s){return s===0&&1/s==-1/0}function JR(s){return typeof s=="number"&&Number.isInteger(s)&&!Jc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const DE="";function WR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=D0(t)),t=tC(s.get(i),t);return D0(t)}function tC(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case DE:i+="";break;default:i+=c}}return i}function D0(s){return s+DE+""}function O0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Fr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function OE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(t){return new M0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class M0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class ME extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ME("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const eC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const i=eC.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Zs(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const VE="server_timestamp",kE="__type__",UE="__previous_value__",LE="__local_write_time__";function Lm(s){return(s?.mapValue?.fields||{})[kE]?.stringValue===VE}function _h(s){const t=s.mapValue.fields[UE];return Lm(t)?_h(t):t}function Ol(s){const t=$s(s.mapValue.fields[LE].timestampValue);return new re(t.seconds,t.nanos)}class nC{constructor(t,i,a,l,c,d,p,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const Wc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}const PE="__type__",iC="__max__",Ic={mapValue:{}},jE="__vector__",th="value";function Js(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lm(s)?4:rC(s)?9007199254740991:sC(s)?10:11:gt(28295,{value:s})}function Ci(s,t){if(s===t)return!0;const i=Js(s);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ol(s).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),p=$s(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?Jc(d)===Jc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Za(s.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(O0(d)!==O0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ci(d[y],p[y])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Vl(s,t){return(s.values||[]).find((i=>Ci(i,t)))!==void 0}function Ja(s,t){if(s===t)return 0;const i=Js(s),a=Js(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return V0(s.timestampValue,t.timestampValue);case 4:return V0(Ol(s),Ol(t));case 5:return am(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Zs(c),y=Zs(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=Ot(p[_],y[_]);if(b!==0)return b}return Ot(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ot(ye(c.latitude),ye(d.latitude));return p!==0?p:Ot(ye(c.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return k0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[th]?.arrayValue,b=y[th]?.arrayValue,R=Ot(_?.values?.length||0,b?.values?.length||0);return R!==0?R:k0(_,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let R=0;R<y.length&&R<b.length;++R){const V=am(y[R],b[R]);if(V!==0)return V;const G=Ja(p[y[R]],_[b[R]]);if(G!==0)return G}return Ot(y.length,b.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function V0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=$s(s),a=$s(t),l=Ot(i.seconds,a.seconds);return l!==0?l:Ot(i.nanos,a.nanos)}function k0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ja(i[l],a[l]);if(c)return c}return Ot(i.length,a.length)}function Wa(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=$s(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Zs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=om(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function Lc(s){switch(Js(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_h(s);return t?16+Lc(t):16;case 5:return 2*s.stringValue.length;case 6:return Zs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Fr(a.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function lm(s){return!!s&&"integerValue"in s}function Pm(s){return!!s&&"arrayValue"in s}function U0(s){return!!s&&"nullValue"in s}function L0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function sC(s){return(s?.mapValue?.fields||{})[PE]?.stringValue===jE}function Al(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Fr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Al(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Al(s.arrayValue.values[i]);return t}return{...s}}function rC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===iC}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Al(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Fr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new kn(Al(this.value))}}function zE(s){const t=[];return Fr(s.fields,((i,a)=>{const l=new Qe([i]);if(Pc(a)){const c=zE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),kn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),kn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function P0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function j0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function aC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class BE{}class Oe extends BE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new lC(t,i,a):i==="array-contains"?new hC(t,a):i==="in"?new fC(t,a):i==="not-in"?new dC(t,a):i==="array-contains-any"?new mC(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new uC(t,a):new cC(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends BE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return qE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qE(s){return s.op==="and"}function HE(s){return oC(s)&&qE(s)}function oC(s){for(const t of s.filters)if(t instanceof Ii)return!1;return!0}function um(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+Wa(s.value);if(HE(s))return s.filters.map((t=>um(t))).join(",");{const t=s.filters.map((i=>um(i))).join(",");return`${s.op}(${t})`}}function FE(s,t){return s instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(s,t):s instanceof Ii?(function(a,l){return l instanceof Ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&FE(d,l.filters[p])),!0):!1})(s,t):void gt(19439)}function GE(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(s):s instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(GE).join(" ,")+"}"})(s):"Filter"}class lC extends Oe{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class uC extends Oe{constructor(t,i){super(t,"in",i),this.keys=QE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class cC extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=QE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function QE(s,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class hC extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&Vl(i.arrayValue,this.value)}}class fC extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class dC extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class mC extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class pC{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function z0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new pC(s,t,i,a,l,c,d)}function jm(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>um(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),yh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!aC(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!FE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!j0(s.startAt,t.startAt)&&j0(s.endAt,t.endAt)}function cm(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class vh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gC(s,t,i,a,l,c,d,p){return new vh(s,t,i,a,l,c,d,p)}function Bm(s){return new vh(s)}function B0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function yC(s){return s.collectionGroup!==null}function wl(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new nh(Qe.keyField(),a))}return t.Ie}function Si(s){const t=Tt(s);return t.Ee||(t.Ee=_C(t,wl(s))),t.Ee}function _C(s,t){if(s.limitType==="F")return z0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nh(l.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return z0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function hm(s,t,i){return new vh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Eh(s,t){return zm(Si(s),Si(t))&&s.limitType===t.limitType}function KE(s){return`${jm(Si(s))}|lt:${s.limitType}`}function ja(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>GE(l))).join(", ")}]`),yh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${a})`})(Si(s))}; limitType=${s.limitType})`}function Th(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=P0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,wl(a),l)||a.endAt&&!(function(d,p,y){const _=P0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,wl(a),l))})(s,t)}function vC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function YE(s){return(t,i)=>{let a=!1;for(const l of wl(s)){const c=EC(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function EC(s,t,i){const a=s.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Ja(y,_):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Fr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}const TC=new ce(ft.comparator);function es(){return TC}const XE=new ce(ft.comparator);function vl(...s){let t=XE;for(const i of s)t=t.insert(i.key,i);return t}function $E(s){let t=XE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Vr(){return Rl()}function ZE(){return Rl()}function Rl(){return new Gr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const bC=new ce(ft.comparator),SC=new Me(ft.comparator);function Mt(...s){let t=SC;for(const i of s)t=t.add(i);return t}const AC=new Me(Ot);function wC(){return AC}function qm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function JE(s){return{integerValue:""+s}}function RC(s,t){return JR(t)?JE(t):qm(s,t)}class bh{constructor(){this._=void 0}}function CC(s,t,i){return s instanceof ih?(function(l,c){const d={fields:{[kE]:{stringValue:VE},[LE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lm(c)&&(c=_h(c)),c&&(d.fields[UE]=c),{mapValue:d}})(i,t):s instanceof kl?tT(s,t):s instanceof Ul?eT(s,t):(function(l,c){const d=WE(l,c),p=q0(d)+q0(l.Ae);return lm(d)&&lm(l.Ae)?JE(p):qm(l.serializer,p)})(s,t)}function IC(s,t,i){return s instanceof kl?tT(s,t):s instanceof Ul?eT(s,t):i}function WE(s,t){return s instanceof sh?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ih extends bh{}class kl extends bh{constructor(t){super(),this.elements=t}}function tT(s,t){const i=nT(t);for(const a of s.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends bh{constructor(t){super(),this.elements=t}}function eT(s,t){let i=nT(t);for(const a of s.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class sh extends bh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function q0(s){return ye(s.integerValue||s.doubleValue)}function nT(s){return Pm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function xC(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof kl&&l instanceof kl||a instanceof Ul&&l instanceof Ul?Za(a.elements,l.elements,Ci):a instanceof sh&&l instanceof sh?Ci(a.Ae,l.Ae):a instanceof ih&&l instanceof ih})(s.transform,t.transform)}class NC{constructor(t,i){this.version=t,this.transformResults=i}}class Zi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Sh{}function iT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new rT(s.key,Zi.none()):new Ql(s.key,s.data,Zi.none());{const i=s.data,a=kn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Qr(s.key,a,new $n(l.toArray()),Zi.none())}}function DC(s,t,i){s instanceof Ql?(function(l,c,d){const p=l.value.clone(),y=F0(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Qr?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=F0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(sT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(s,t,i,a){return s instanceof Ql?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=c.value.clone(),b=G0(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Qr?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=G0(c.fieldTransforms,y,d),b=d.data;return b.setAll(sT(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((R=>R.field)))})(s,t,i,a):(function(c,d,p){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function OC(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=WE(a.transform,l||null);c!=null&&(i===null&&(i=kn.empty()),i.set(a.field,c))}return i||null}function H0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Za(a,l,((c,d)=>xC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ql extends Sh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qr extends Sh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function F0(s,t,i){const a=new Map;Ht(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,IC(d,p,i[l]))}return a}function G0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,CC(c,d,t))}return a}class rT extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MC extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VC{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&DC(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=ZE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=iT(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>H0(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>H0(i,a)))}}class Hm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return bC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Hm(t,i,a,l)}}class kC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Ut;function LC(s){switch(s){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function aT(s){if(s===void 0)return ts("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ce.OK:return $.OK;case Ce.CANCELLED:return $.CANCELLED;case Ce.UNKNOWN:return $.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return $.INTERNAL;case Ce.UNAVAILABLE:return $.UNAVAILABLE;case Ce.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ce.NOT_FOUND:return $.NOT_FOUND;case Ce.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ce.ABORTED:return $.ABORTED;case Ce.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ce.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:s})}}(Ut=Ce||(Ce={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function PC(){return new TextEncoder}const jC=new Ys([4294967295,4294967295],0);function Q0(s){const t=PC().encode(s),i=new bE;return i.update(t),new Uint8Array(i.digest())}function K0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ys([i,a],0),new Ys([l,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(a<0)throw new El(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ys.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Ys.fromNumber(a)));return l.compare(jC)===1&&(l=new Ys([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Q0(t),[a,l]=K0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Q0(t),[a,l]=K0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ah(vt.min(),l,new ce(Ot),es(),Mt())}}class Kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,Mt(),Mt(),Mt())}}class zc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class oT{constructor(t,i){this.targetId=t,this.Ce=i}}class lT{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Y0{constructor(){this.ve=0,this.Fe=X0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=X0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zC{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=xc(),this.He=xc(),this.Ye=new ce(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(a===0){const d=new ft(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Zs(a).toUint8Array()}catch(y){if(y instanceof ME)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Fm(d,l,c)}catch(y){return $a(y instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&cm(p.target)){const y=new ft(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ah(t,i,this.Ye,this.je,a);return this.je=es(),this.Je=xc(),this.He=xc(),this.Ye=new ce(Ot),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Y0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Y0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new ce(ft.comparator)}function X0(){return new ce(ft.comparator)}const BC={asc:"ASCENDING",desc:"DESCENDING"},qC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HC={and:"AND",or:"OR"};class FC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function fm(s,t){return s.useProto3Json||yh(t)?t:{value:t}}function rh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function GC(s,t){return rh(s,t.toTimestamp())}function Ai(s){return Ht(!!s,49232),vt.fromTimestamp((function(i){const a=$s(i);return new re(a.seconds,a.nanos)})(s))}function Gm(s,t){return dm(s,t).canonicalString()}function dm(s,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function cT(s){const t=ue.fromString(s);return Ht(pT(t),10190,{key:t.toString()}),t}function mm(s,t){return Gm(s.databaseId,t.path)}function qd(s,t){const i=cT(t);if(i.get(1)!==s.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(fT(i))}function hT(s,t){return Gm(s.databaseId,t)}function QC(s){const t=cT(s);return t.length===4?ue.emptyPath():fT(t)}function pm(s){return new ue(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fT(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function $0(s,t,i){return{name:mm(s,t),fields:i.value.mapValue.fields}}function KC(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:aT(_.code);return new lt(b,_.message||"")})(d);i=new lT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(s,a.document.name),c=Ai(a.document.updateTime),d=a.document.createTime?Ai(a.document.createTime):vt.min(),p=new kn({mapValue:{fields:a.document.fields}}),y=Ze.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new zc(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(s,a.document),c=a.readTime?Ai(a.readTime):vt.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(s,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new UC(l,c),p=a.targetId;i=new oT(p,d)}}return i}function YC(s,t){let i;if(t instanceof Ql)i={update:$0(s,t.key,t.value)};else if(t instanceof rT)i={delete:mm(s,t.key)};else if(t instanceof Qr)i={update:$0(s,t.key,t.data),updateMask:iI(t.fieldMask)};else{if(!(t instanceof MC))return gt(16599,{Vt:t.type});i={verify:mm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:GC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function XC(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(vt.min())&&(d=Ai(c)),new NC(d,l.transformResults||[])})(i,t)))):[]}function $C(s,t){return{documents:[hT(s,t.path)]}}function ZC(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=hT(s,l);const c=(function(_){if(_.length!==0)return mT(Ii.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(V){return{field:za(V.field),direction:tI(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=fm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function JC(s){let t=QC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(R){const V=dT(R);return V instanceof Ii&&HE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((V=>(function(W){return new nh(Ba(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(R){let V;return V=typeof R=="object"?R.value:R,yh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(R){const V=!!R.before,G=R.values||[];return new eh(G,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(R){const V=!R.before,G=R.values||[];return new eh(G,V)})(i.endAt)),gC(t,l,d,c,p,"F",y,_)}function WC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function dT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>dT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function tI(s){return BC[s]}function eI(s){return qC[s]}function nI(s){return HC[s]}function za(s){return{fieldPath:s.canonicalString()}}function Ba(s){return Qe.fromServerFormat(s.fieldPath)}function mT(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(L0(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(U0(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L0(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(U0(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:eI(i.op),value:i.value}}})(s):s instanceof Ii?(function(i){const a=i.getFilters().map((l=>mT(l)));return a.length===1?a[0]:{compositeFilter:{op:nI(i.op),filters:a}}})(s):gt(54877,{filter:s})}function iI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function pT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Fs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sI{constructor(t){this.yt=t}}function rI(s){const t=JC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hm(t,t.limit,"L"):t}class aI{constructor(){this.Cn=new oI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Xs.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class oI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(ue.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(ue.comparator)).toArray()}}const Z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(gT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}const J0="LruGarbageCollector",lI=1048576;function W0([s,t],[i,a]){const l=Ot(s,i);return l===0?Ot(t,a):l}class uI{constructor(t){this.Ir=t,this.buffer=new Me(W0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();W0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(J0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?st(J0,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class hI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(gh.ce);const a=new uI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Z0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(t,l)))).next((R=>(a=R,p=Date.now(),this.removeTargets(t,a,i)))).next((R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((R=>(_=Date.now(),Pa()<=Nt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${R} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R}))))}}function fI(s,t){return new hI(s,t)}class dI{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class mI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class pI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Cl(a.mutation,l,$n.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Vr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=vl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Vr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=es();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Qr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Cl(b.mutation,_,b.mutation.getFieldMask(),re.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new mI(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Rl();let l=new ce(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||$n.empty();b=p.applyToLocalView(_,b),a.set(y,b);const R=(l.get(p.batchId)||Mt()).add(y);l=l.insert(p.batchId,R)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,R=ZE();b.forEach((V=>{if(!c.has(V)){const G=iT(i.get(V),a.get(V));G!==null&&R.set(V,G),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,R))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):yC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Vr());let p=Dl,y=c;return d.next((_=>X.forEach(_,((b,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{y=y.insert(b,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Mt()))).next((b=>({batchId:p,changes:$E(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=vl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(R,V){return new vh(V,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((R,V)=>{d=d.insert(R,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Ze.newInvalidDocument(b)))}));let p=vl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Cl(b.mutation,_,$n.empty(),re.now()),Th(i,_)&&(p=p.insert(y,_))})),p}))}}class gI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:rI(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),X.resolve()}}class yI{constructor(){this.overlays=new ce(ft.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Vr(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ce(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Vr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Vr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new kC(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class _I{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Qm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new ue([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new ue([])),a=new Le(i,t),l=new Le(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class vI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VC(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Ot);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ft(c),0);let p=new Me(Ot);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class EI{constructor(t){this.ri=t,this.docs=(function(){return new ce(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=es();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||YR(KR(b),a)<=0||(l.has(b.key)||Th(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new TI(this)}getSize(t){return X.resolve(this.size)}}class TI extends dI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class bI{constructor(t){this.persistence=t,this.si=new Gr((i=>jm(i)),zm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class yT{constructor(t,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new _I,this.referenceDelegate=t(this),this.Pi=new bI(this),this.indexManager=new aI,this.remoteDocumentCache=(function(l){return new EI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new sI(i),this.Ii=new gI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new yI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new vI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new SI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class SI extends $R{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Qm,this.Vi=null}static mi(t){return new Km(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=ft.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.pi=new Gr((a=>WR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=fI(this,i)}static mi(t,i){return new ah(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ym{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(t,i.fromCache,a,l)}}class AI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class wI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $S()?8:ZR(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new AI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Pa()<=Nt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Pa()<=Nt.DEBUG&&st("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Pa()<=Nt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):X.resolve())}ys(t,i){if(B0(i))return X.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=hm(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,hm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return B0(i)||l.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Pa()<=Nt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(i)),this.vs(t,d,i,QR(l,Dl)).next((p=>p)))}))}Ds(t,i){let a=new Me(YE(t));return i.forEach(((l,c)=>{Th(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Pa()<=Nt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",ja(i)),this.ps.getDocumentsMatchingQuery(t,i,Xs.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",RI=3e8;class CI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Ot),this.xs=new Gr((c=>jm(c)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function II(s,t,i,a){return new CI(s,t,i,a)}async function _T(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Mt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function xI(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const R=_.batch,V=R.keys();let G=X.resolve();return V.forEach((W=>{G=G.next((()=>b.getEntry(y,W))).next((et=>{const J=_.docVersions.get(W);Ht(J!==null,48541),et.version.compareTo(J)<0&&(R.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),b.addEntry(et)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,R)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Mt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function vT(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function NI(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,R)=>{const V=l.get(R);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,R))));let G=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?G=G.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,a)),l=l.insert(R,G),(function(et,J,ct){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=RI?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(V,G,b)&&p.push(i.Pi.updateTargetData(c,G))}));let y=es(),_=Mt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(DI(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(vt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((R=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function DI(s,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=es();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(vt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):st(Xm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function OI(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function MI(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Fs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function gm(s,t,i){const a=Tt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;st(Xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function tv(s,t,i){const a=Tt(s);let l=vt.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const R=Tt(y),V=R.xs.get(b);return V!==void 0?X.resolve(R.Ms.get(V)):R.Pi.getTargetData(_,b)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Mt()))).next((p=>(VI(a,vC(t),p),{documents:p,Qs:c})))))}function VI(s,t,i){let a=s.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class ev{constructor(){this.activeTargetIds=wC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kI{constructor(){this.Mo=new ev,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ev,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class UI{Oo(t){}shutdown(){}}const nv="ConnectivityMonitor";class iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(nv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(nv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function ym(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Hd="RestConnection",LI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=ym(),p=this.zo(t,i.toUriEncodedString());st(Hd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=no(_);return this.Jo(t,p,y,a,b).then((R=>(st(Hd,`Received RPC '${t}' ${d}: `,R),R)),(R=>{throw $a(Hd,`RPC '${t}' ${d} failed with error: `,R,"url: ",p,"request:",a),R}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=LI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class jI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class zI extends PI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=ym();return new Promise(((p,y)=>{const _=new SE;_.setWithCredentials(!0),_.listenOnce(AE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uc.NO_ERROR:const R=_.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),p(R);break;case Uc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),y(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const V=_.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const et=(function(ct){const yt=ct.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(yt)>=0?yt:$.UNKNOWN})(W.status);y(new lt(et,W.message))}else y(new lt($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new lt($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);st(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=CE(),p=RE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");st(Xe,`Creating RPC '${t}' stream ${l}: ${b}`,y);const R=d.createWebChannel(b,y);this.I_(R);let V=!1,G=!1;const W=new jI({Yo:J=>{G?st(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(V||(st(Xe,`Opening RPC '${t}' stream ${l} transport.`),R.open(),V=!0),st(Xe,`RPC '${t}' stream ${l} sending:`,J),R.send(J))},Zo:()=>R.close()}),et=(J,ct,yt)=>{J.listen(ct,(dt=>{try{yt(dt)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return et(R,_l.EventType.OPEN,(()=>{G||(st(Xe,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),et(R,_l.EventType.CLOSE,(()=>{G||(G=!0,st(Xe,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(R))})),et(R,_l.EventType.ERROR,(J=>{G||(G=!0,$a(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),et(R,_l.EventType.MESSAGE,(J=>{if(!G){const ct=J.data[0];Ht(!!ct,16349);const yt=ct,dt=yt?.error||yt[0]?.error;if(dt){st(Xe,`RPC '${t}' stream ${l} received error:`,dt);const Pt=dt.status;let Ft=(function(A){const C=Ce[A];if(C!==void 0)return aT(C)})(Pt),Z=dt.message;Ft===void 0&&(Ft=$.INTERNAL,Z="Unknown error status: "+Pt+" with message "+dt.message),G=!0,W.a_(new lt(Ft,Z)),R.close()}else st(Xe,`RPC '${t}' stream ${l} received:`,ct),W.u_(ct)}})),et(p,wE.STAT_EVENT,(J=>{J.stat===rm.PROXY?st(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===rm.NOPROXY&&st(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Fd(){return typeof document<"u"?document:null}function wh(s){return new FC(s,!0)}class ET{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sv="PersistentStream";class TT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ET(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(sv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BI extends TT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=KC(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ai(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=cm(y)?{documents:$C(c,y)}:{query:ZC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=uT(c,d.resumeToken);const _=fm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=rh(c,d.snapshotVersion.toTimestamp());const _=fm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=WC(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class qI extends TT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=XC(t.writeResults,t.commitTime),a=Ai(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>YC(this.serializer,a)))};this.q_(i)}}class HI{}class FI extends HI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,dm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,dm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hr="RemoteStore";class QI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Kr(this)&&(st(Hr,"Restarting streams for network reachability change."),await(async function(y){const _=Tt(y);_.Ea.add(4),await Yl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rh(_)})(this))}))})),this.Ra=new GI(a,l)}}async function Rh(s){if(Kr(s))for(const t of s.da)await t(!0)}async function Yl(s){for(const t of s.da)await t(!1)}function bT(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Wm(i)?Jm(i):lo(i).O_()&&Zm(i,t))}function $m(s,t){const i=Tt(s),a=lo(i);i.Ia.delete(t),a.O_()&&ST(i,t),i.Ia.size===0&&(a.O_()?a.L_():Kr(i)&&i.Ra.set("Unknown"))}function Zm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(s).Y_(t)}function ST(s,t){s.Va.Ue(t),lo(s).Z_(t)}function Jm(s){s.Va=new zC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),lo(s).start(),s.Ra.ua()}function Wm(s){return Kr(s)&&!lo(s).x_()&&s.Ia.size>0}function Kr(s){return Tt(s).Ea.size===0}function AT(s){s.Va=void 0}async function KI(s){s.Ra.set("Online")}async function YI(s){s.Ia.forEach(((t,i)=>{Zm(s,t)}))}async function XI(s,t){AT(s),Wm(s)?(s.Ra.ha(t),Jm(s)):s.Ra.set("Unknown")}async function $I(s,t,i){if(s.Ra.set("Online"),t instanceof lT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){st(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await oh(s,a)}else if(t instanceof zc?s.Va.Ze(t):t instanceof oT?s.Va.st(t):s.Va.tt(t),!i.isEqual(vt.min()))try{const a=await vT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),ST(c,y);const R=new Fs(b.target,y,_,b.sequenceNumber);Zm(c,R)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){st(Hr,"Failed to raise snapshot:",a),await oh(s,a)}}async function oh(s,t,i){if(!oo(t))throw t;s.Ea.add(1),await Yl(s),s.Ra.set("Offline"),i||(i=()=>vT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Hr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rh(s)}))}function wT(s,t){return t().catch((i=>oh(s,i,t)))}async function Ch(s){const t=Tt(s),i=Ws(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Um;for(;ZI(t);)try{const l=await OI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,JI(t,l)}catch(l){await oh(t,l)}RT(t)&&CT(t)}function ZI(s){return Kr(s)&&s.Ta.length<10}function JI(s,t){s.Ta.push(t);const i=Ws(s);i.O_()&&i.X_&&i.ea(t.mutations)}function RT(s){return Kr(s)&&!Ws(s).x_()&&s.Ta.length>0}function CT(s){Ws(s).start()}async function WI(s){Ws(s).ra()}async function tx(s){const t=Ws(s);for(const i of s.Ta)t.ea(i.mutations)}async function ex(s,t,i){const a=s.Ta.shift(),l=Hm.from(a,t,i);await wT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ch(s)}async function nx(s,t){t&&Ws(s).X_&&await(async function(a,l){if((function(d){return LC(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();Ws(a).B_(),await wT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(a)}})(s,t),RT(s)&&CT(s)}async function rv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),st(Hr,"RemoteStore received new credentials");const a=Kr(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Rh(i)}async function ix(s,t){const i=Tt(s);t?(i.Ea.delete(2),await Rh(i)):t||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function lo(s){return s.ma||(s.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new BI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:KI.bind(null,s),t_:YI.bind(null,s),r_:XI.bind(null,s),H_:$I.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Wm(s)?Jm(s):s.Ra.set("Unknown")):(await s.ma.stop(),AT(s))}))),s.ma}function Ws(s){return s.fa||(s.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new qI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:WI.bind(null,s),r_:nx.bind(null,s),ta:tx.bind(null,s),na:ex.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Hr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tp{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new tp(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(s,t){if(ts("AsyncQueue",`${t}: ${s}`),oo(s))return new lt($.UNAVAILABLE,`${t}: ${s}`);throw s}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=vl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class av{constructor(){this.ga=new ce(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class eo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new eo(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class sx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rx{constructor(){this.queries=ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=ov(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function ov(){return new Gr((s=>KE(s)),Eh)}async function ax(s,t){const i=Tt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new sx,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ep(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&np(i)}async function ox(s,t){const i=Tt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function lx(s,t){const i=Tt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&np(i)}function ux(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function np(s){s.Ca.forEach((t=>{t.next()}))}var _m,lv;(lv=_m||(_m={})).Ma="default",lv.Cache="cache";class cx{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new eo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_m.Cache}}class IT{constructor(t){this.key=t}}class xT{constructor(t){this.key=t}}class hx{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=YE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new av,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,R)=>{const V=l.get(b),G=Th(this.query,R)?R:null,W=!!V&&this.mutatedKeys.has(V.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;V&&G?V.data.isEqual(G.data)?W!==et&&(a.track({type:3,doc:G}),J=!0):this.su(V,G)||(a.track({type:2,doc:G}),J=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!V&&G?(a.track({type:0,doc:G}),J=!0):V&&!G&&(a.track({type:1,doc:V}),J=!0,(y||_)&&(p=!0)),J&&(G?(d=d.add(G),c=et?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,R)=>(function(G,W){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:J})}};return et(G)-et(W)})(b.type,R.type)||this.eu(b.doc,R.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new eo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new xT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new IT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ip="SyncEngine";class fx{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class dx{constructor(t){this.key=t,this.hu=!1}}class mx{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((p=>KE(p)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(ft.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function px(s,t,i=!0){const a=kT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await NT(a,t,i,!0),l}async function gx(s,t){const i=kT(s);await NT(i,t,!0,!1)}async function NT(s,t,i,a){const l=await MI(s.localStore,Si(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await yx(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&bT(s.remoteStore,l),p}async function yx(s,t,i,a,l){s.pu=(R,V,G)=>(async function(et,J,ct,yt){let dt=J.view.ru(ct);dt.Cs&&(dt=await tv(et.localStore,J.query,!1).then((({documents:w})=>J.view.ru(w,dt))));const Pt=yt&&yt.targetChanges.get(J.targetId),Ft=yt&&yt.targetMismatches.get(J.targetId)!=null,Z=J.view.applyChanges(dt,et.isPrimaryClient,Pt,Ft);return cv(et,J.targetId,Z.au),Z.snapshot})(s,R,V,G);const c=await tv(s.localStore,t,!0),d=new hx(t,c.Qs),p=d.ru(c.documents),y=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);cv(s,i,_.au);const b=new fx(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function _x(s,t,i){const a=Tt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Eh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&$m(a.remoteStore,l.targetId),vm(a,l.targetId)})).catch(ao)):(vm(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function vx(s,t){const i=Tt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),$m(i.remoteStore,a.targetId))}async function Ex(s,t,i){const a=Cx(s);try{const l=await(function(d,p){const y=Tt(d),_=re.now(),b=p.reduce(((G,W)=>G.add(W.key)),Mt());let R,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=es(),et=Mt();return y.Ns.getEntries(G,b).next((J=>{W=J,W.forEach(((ct,yt)=>{yt.isValidDocument()||(et=et.add(ct))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,W))).next((J=>{R=J;const ct=[];for(const yt of p){const dt=OC(yt,R.get(yt.key).overlayedDocument);dt!=null&&ct.push(new Qr(yt.key,dt,zE(dt.value.mapValue),Zi.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,ct,p)})).next((J=>{V=J;const ct=J.applyToLocalDocumentSet(R,et);return y.documentOverlayCache.saveOverlays(G,J.batchId,ct)}))})).then((()=>({batchId:V.batchId,changes:$E(R)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ce(Ot)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Xl(a,l.changes),await Ch(a.remoteStore)}catch(l){const c=ep(l,"Failed to persist write");i.reject(c)}}async function DT(s,t){const i=Tt(s);try{const a=await NI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Xl(i,a,t)}catch(a){await ao(a)}}function uv(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Tt(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,R)=>{for(const V of R.Sa)V.va(p)&&(_=!0)})),_&&np(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function Tx(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ce(ft.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const p=Mt().add(c),y=new Ah(vt.min(),new Map,new ce(Ot),d,p);await DT(a,y),a.du=a.du.remove(c),a.Au.delete(t),sp(a)}else await gm(a.localStore,t,!1).then((()=>vm(a,t,i))).catch(ao)}async function bx(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await xI(i.localStore,t);MT(i,a,null),OT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await ao(l)}}async function Sx(s,t,i){const a=Tt(s);try{const l=await(function(d,p){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((R=>(Ht(R!==null,37113),b=R.keys(),y.mutationQueue.removeMutationBatch(_,R)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);MT(a,t,i),OT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xl(a,l)}catch(l){await ao(l)}}function OT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function MT(s,t,i){const a=Tt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function vm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||VT(s,a)}))}function VT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&($m(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),sp(s))}function cv(s,t,i){for(const a of i)a instanceof IT?(s.Ru.addReference(a.key,t),Ax(s,a)):a instanceof xT?(st(ip,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||VT(s,a.key)):gt(19791,{wu:a})}function Ax(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(st(ip,"New document in limbo: "+i),s.Eu.add(a),sp(s))}function sp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(ue.fromString(t)),a=s.fu.next();s.Au.set(a,new dx(i)),s.du=s.du.insert(i,a),bT(s.remoteStore,new Fs(Si(Bm(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function Xl(s,t,i){const a=Tt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Ym.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=Tt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>X.forEach(_,(V=>X.forEach(V.Es,(G=>b.persistence.referenceDelegate.addReference(R,V.targetId,G))).next((()=>X.forEach(V.ds,(G=>b.persistence.referenceDelegate.removeReference(R,V.targetId,G)))))))))}catch(R){if(!oo(R))throw R;st(Xm,"Failed to update sequence numbers: "+R)}for(const R of _){const V=R.targetId;if(!R.fromCache){const G=b.Ms.get(V),W=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(V,et)}}})(a.localStore,c))}async function wx(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){st(ip,"User change. New user:",t.toKey());const a=await _T(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new lt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.Ls)}}function Rx(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function kT(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Tx.bind(null,t),t.Pu.H_=lx.bind(null,t.eventManager),t.Pu.yu=ux.bind(null,t.eventManager),t}function Cx(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sx.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return II(this.persistence,new wI,t.initialUser,this.serializer)}Cu(t){return new yT(Km.mi,this.serializer)}Du(t){return new kI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class Ix extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new cI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new yT((a=>ah.mi(a,i)),this.serializer)}}class Em{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>uv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=wx.bind(null,this.syncEngine),await ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rx})()}createDatastore(t){const i=wh(t.databaseInfo.databaseId),a=(function(c){return new zI(c)})(t.databaseInfo);return(function(c,d,p,y){return new FI(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new QI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>uv(this.syncEngine,i,0)),(function(){return iv.v()?new iv:new UI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,b){const R=new mx(l,c,d,p,y,_);return b&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);st(Hr,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class xx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const tr="FirestoreClient";class Nx{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ep(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(s,t){s.asyncQueue.verifyOperationInProgress(),st(tr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await _T(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function hv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await Dx(s);st(tr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>rv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>rv(t.remoteStore,l))),s._onlineComponents=t}async function Dx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(tr,"Using user provided OfflineComponentProvider");try{await Gd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Gd(s,new lh)}}else st(tr,"Using default OfflineComponentProvider"),await Gd(s,new Ix(void 0));return s._offlineComponents}async function UT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(tr,"Using user provided OnlineComponentProvider"),await hv(s,s._uninitializedComponentsProvider._online)):(st(tr,"Using default OnlineComponentProvider"),await hv(s,new Em))),s._onlineComponents}function Ox(s){return UT(s).then((t=>t.syncEngine))}async function fv(s){const t=await UT(s),i=t.eventManager;return i.onListen=px.bind(null,t.syncEngine),i.onUnlisten=_x.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=gx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=vx.bind(null,t.syncEngine),i}function LT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const dv=new Map;const PT="firestore.googleapis.com",mv=!0;class pv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PT,this.ssl=mv}else this.host=t.host,this.ssl=t.ssl??mv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lI)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rp{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new VR;switch(a.type){case"firstParty":return new PR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=dv.get(i);a&&(st("ComponentProvider","Removing Datastore"),dv.delete(i),a.terminate())})(this),Promise.resolve()}}function Mx(s,t,i,a={}){s=Qa(s,rp);const l=no(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(Vv(`https://${p}`),kv("Firestore",!0)),c.host!==PT&&c.host!==p&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Pr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=$e.MOCK_USER;else{_=BS(a.mockUserToken,s._app?.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(R)}s._authCredentials=new kR(new xE(_,b))}}class Ih{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ih(this.firestore,t,this._query)}}class Pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Gl(i,Pe._jsonSchema))return new Pe(t,a||null,new ft(ue.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Ie("string",Pe._jsonSchemaVersion),referencePath:Ie("string")};class Ll extends Ih{constructor(t,i,a){super(t,i,Bm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new ft(t))}withConverter(t){return new Ll(this.firestore,t,this._path)}}function Qd(s,t,...i){if(s=hn(s),arguments.length===1&&(t=Vm.newId()),FR("doc","path",t),s instanceof rp){const a=ue.fromString(t,...i);return I0(a),new Pe(s,null,new ft(a))}{if(!(s instanceof Pe||s instanceof Ll))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ue.fromString(t,...i));return I0(a),new Pe(s.firestore,s instanceof Ll?s.converter:null,new ft(a))}}const gv="AsyncQueue";class yv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ET(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&st(gv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;st(gv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",_v(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=tp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:_v(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function _v(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function vv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class uh extends rp{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new yv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yv(t),this._firestoreClient=void 0,await t}}}function Vx(s,t){const i=typeof s=="object"?s:jv(),a=typeof s=="string"?s:Wc,l=Am(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=jS("firestore");c&&Mx(l,...c)}return l}function jT(s){if(s._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||kx(s),s._firestoreClient}function kx(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new nC(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,LT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new Nx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ke.fromBase64String(t))}catch(i){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ie("string",Un._jsonSchemaVersion),bytes:Ie("string")};class ap{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class zT{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ri(t.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Ie("string",Ri._jsonSchemaVersion),vectorValues:Ie("object")};const Ux=/^__.*__$/;class Lx{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}function BT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class op{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new op({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ch(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(BT(this.Ac)&&Ux.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Px{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||wh(t)}Cc(t,i,a,l=!1){return new op({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jx(s){const t=s._freezeSettings(),i=wh(s._databaseId);return new Px(s._databaseId,!!t.ignoreUndefinedProperties,i)}function zx(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);GT("Data must be an object, but it was:",d,a);const p=HT(a,d);let y,_;if(c.merge)y=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const R of c.mergeFields){const V=Bx(t,R,i);if(!d.contains(V))throw new lt($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Hx(b,V)||b.push(V)}y=new $n(b),_=d.fieldTransforms.filter((R=>y.covers(R.field)))}else y=null,_=d.fieldTransforms;return new Lx(new kn(p),y,_)}function qT(s,t){if(FT(s=hn(s)))return GT("Unsupported field value:",t,s),HT(s,t);if(s instanceof zT)return(function(a,l){if(!BT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=qT(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return RC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:uT(l.serializer,a._byteString)};if(a instanceof Pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ri)return(function(d,p){return{mapValue:{fields:{[PE]:{stringValue:jE},[th]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return qm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${km(a)}`)})(s,t)}function HT(s,t){const i={};return OE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fr(s,((a,l)=>{const c=qT(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function FT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof wi||s instanceof Un||s instanceof Pe||s instanceof zT||s instanceof Ri)}function GT(s,t,i){if(!FT(i)||!NE(i)){const a=km(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function Bx(s,t,i){if((t=hn(t))instanceof ap)return t._internalPath;if(typeof t=="string")return QT(s,t);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const qx=new RegExp("[~\\*/\\[\\]]");function QT(s,t,i){if(t.search(qx)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ap(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new lt($.INVALID_ARGUMENT,p+s+y)}function Hx(s,t){return s.some((i=>i.isEqual(t)))}class KT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(YT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Fx extends KT{data(){return super.data()}}function YT(s,t){return typeof t=="string"?QT(s,t):t instanceof ap?t._internalPath:t._delegate._internalPath}function Gx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qx{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Fr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Ri(i)}convertGeoPoint(t){return new wi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=_h(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=$s(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ue.fromString(t);Ht(pT(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Kx(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lr extends KT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(YT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Lr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lr._jsonSchema={type:Ie("string",Lr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Bc extends Lr{data(t={}){return super.data(t)}}class Ya{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Tl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:Yx(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Yx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Ie("string",Ya._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class XT extends Qx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function Ev(s,t,i){s=Qa(s,Pe);const a=Qa(s.firestore,uh),l=Kx(s.converter,t,i);return $x(a,[zx(jx(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Zi.none())])}function Xx(s,...t){s=hn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||vv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(vv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Pe)d=Qa(s.firestore,uh),p=Bm(s._key.path),c={next:y=>{t[a]&&t[a](Zx(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Qa(s,Ih);d=Qa(y.firestore,uh),p=y._query;const _=new XT(d);c={next:b=>{t[a]&&t[a](new Ya(d,_,y,b))},error:t[a+1],complete:t[a+2]},Gx(s._query)}return(function(_,b,R,V){const G=new xx(V),W=new cx(b,G,R);return _.asyncQueue.enqueueAndForget((async()=>ax(await fv(_),W))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>ox(await fv(_),W)))}})(jT(d),p,l,c)}function $x(s,t){return(function(a,l){const c=new Ur;return a.asyncQueue.enqueueAndForget((async()=>Ex(await Ox(a),l,c))),c.promise})(jT(s),t)}function Zx(s,t,i){const a=i.docs.get(t._key),l=new XT(s);return new Lr(s,l,t._key,a,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){ro=l})(io),Xa(new jr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new uh(new UR(a.getProvider("auth-internal")),new jR(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ks(A0,w0,t),Ks(A0,w0,"esm2020")})();const Jx={apiKey:"AIzaSyC9cqkStoTD-qXH8NCZeNKkti4ayfREE-Q",authDomain:"efaqa-life.firebaseapp.com",projectId:"efaqa-life",storageBucket:"efaqa-life.firebasestorage.app",messagingSenderId:"525492331370",appId:"1:525492331370:web:020ac74f445b1e19febb13"},$T=Pv(Jx),Pl=OR($T),Kd=Vx($T),Yd=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{var t=Math.random()*16|0,i=s=="x"?t:t&3|8;return i.toString(16)}),Dc=s=>s?s.toString().replace(/[<>&'"]/g,function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}):"",Wx=(s,t)=>{const i=Yd(),a=Yd(),l=Yd(),c=`com.techguard.profile.${t.stableId}`,d=(t.blockedSites||[]).filter(b=>b&&b.trim().length>0).map(b=>`<string>${Dc(b)}</string>`).join(""),y=(t.blockedApps||[]).filter(b=>b&&b.bundleId&&b.bundleId.trim().length>0).map(b=>`<string>${Dc(b.bundleId)}</string>`).join("");return`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>PayloadContent</key>
    <array>
        <dict>
            <key>AutoFilterEnabled</key>
            ${t.adultFilterEnabled?"<true/>":"<false/>"}
            <key>FilterType</key>
            <string>BuiltIn</string>
            <key>UserDefinedName</key>
            <string>Efaqa Web Filter</string>
            <key>PayloadDisplayName</key>
            <string>Web Content Filter</string>
            <key>PayloadIdentifier</key>
            <string>com.efaqa.webfilter.${i}</string>
            <key>PayloadType</key>
            <string>com.apple.webcontent-filter</string>
            <key>PayloadUUID</key>
            <string>${i}</string>
            <key>PayloadVersion</key>
            <integer>1</integer>
            ${d?`<key>DenyListURLs</key><array>${d}</array>`:""}
        </dict>
        ${y?`
        <dict>
            <key>PayloadDisplayName</key>
            <string>App Restrictions</string>
            <key>PayloadIdentifier</key>
            <string>com.efaqa.restrictions.${a}</string>
            <key>PayloadType</key>
            <string>com.apple.applicationaccess</string>
            <key>PayloadUUID</key>
            <string>${a}</string>
            <key>PayloadVersion</key>
            <integer>1</integer>
            <key>blacklistedAppBundleIDs</key>
            <array>
                ${y}
            </array>
        </dict>
        `:""}
    </array>
    <key>PayloadDisplayName</key>
    <string>Efaqa Profile (${Dc(s.email)})</string>
    <key>PayloadIdentifier</key>
    <string>${c}</string>
    <key>PayloadRemovalDisallowed</key>
    <true/> 
    <key>PayloadType</key>
    <string>Configuration</string>
    <key>PayloadUUID</key>
    <string>${l}</string>
    <key>PayloadVersion</key>
    <integer>1</integer>
    <key>PayloadOrganization</key>
    <string>Efaqa Life</string>
    <key>PayloadDescription</key>
    <string>Profile generated for ${Dc(s.email)}. Includes Web & App restrictions.</string>
</dict>
</plist>`},ZT=bv.createContext(),tN=({children:s})=>{const[t,i]=Dt.useState([]),a=Dt.useCallback((l,c="success")=>{const d=Date.now();i(p=>[...p,{id:d,message:l,type:c}]),setTimeout(()=>{i(p=>p.filter(y=>y.id!==d))},3e3)},[]);return S.jsxs(ZT.Provider,{value:{addToast:a},children:[s,S.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 pointer-events-none",children:t.map(l=>S.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl backdrop-blur-md border animate-slideUp pointer-events-auto min-w-[300px] justify-center ${l.type==="success"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:[l.type==="success"?S.jsx(Av,{className:"w-4 h-4"}):S.jsx(wS,{className:"w-4 h-4"}),S.jsx("span",{className:"text-sm font-medium",children:l.message})]},l.id))})]})},lp=()=>bv.useContext(ZT),eN=({onComplete:s})=>{const[t,i]=Dt.useState("tension");return Dt.useEffect(()=>{const a=setTimeout(()=>i("break"),1500),l=setTimeout(()=>i("glow"),2200),c=setTimeout(()=>s(),3500);return()=>{clearTimeout(a),clearTimeout(l),clearTimeout(c)}},[s]),S.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-[#050b14]/80 backdrop-blur-xl transition-all duration-500",children:[S.jsxs("div",{className:"relative w-full max-w-sm aspect-video flex items-center justify-center",children:[S.jsx("div",{className:`absolute inset-0 bg-cyan-500/30 rounded-full blur-[80px] transition-all duration-1000 ${t==="glow"?"opacity-60 scale-125":"opacity-0 scale-0"}`}),S.jsx("div",{className:`transition-all duration-700 ease-out ${t==="tension"?"animate-shake":t==="break"||t==="glow"?"-translate-x-24 rotate-[-15deg] opacity-0":""}`,children:S.jsx(q_,{className:`w-24 h-24 text-slate-400 ${t==="tension"?"text-red-400 drop-shadow-[0_0_10px_rgba(248,113,113,0.4)]":""}`,strokeWidth:2})}),S.jsx("div",{className:`transition-all duration-700 ease-out -ml-8 ${t==="tension"?"animate-shake-reverse":t==="break"||t==="glow"?"translate-x-24 rotate-[15deg] opacity-0":""}`,children:S.jsx(q_,{className:`w-24 h-24 text-slate-400 transform rotate-180 ${t==="tension"?"text-red-400 drop-shadow-[0_0_10px_rgba(248,113,113,0.4)]":""}`,strokeWidth:2})}),S.jsx("div",{className:`absolute inset-0 bg-white transition-opacity duration-150 pointer-events-none ${t==="break"?"opacity-40":"opacity-0"}`}),S.jsxs("div",{className:`absolute flex flex-col items-center transition-all duration-1000 ${t==="glow"?"opacity-100 scale-100":"opacity-0 scale-75"}`,children:[S.jsx("div",{className:"bg-cyan-500/10 p-4 rounded-full border border-cyan-500/20 mb-3 backdrop-blur-md",children:S.jsx(Av,{className:"w-10 h-10 text-cyan-400"})}),S.jsx("h2",{className:"text-xl font-semibold text-white tracking-wide",children:" "}),S.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"  ..."})]})]}),S.jsx("style",{children:`
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-1px) rotate(-1deg); } 75% { transform: translateX(1px) rotate(1deg); } }
        @keyframes shake-reverse { 0%, 100% { transform: rotate(180deg) translateX(0); } 25% { transform: rotate(180deg) translateX(-1px) rotate(1deg); } 75% { transform: rotate(180deg) translateX(1px) rotate(-1deg); } }
        .animate-shake { animation: shake 0.1s infinite; }
        .animate-shake-reverse { animation: shake-reverse 0.1s infinite; }
      `})]})},JT=({size:s="normal"})=>{const t="https://i.postimg.cc/CdywmBwL/logo-(1).png",i=s==="large"?"w-64 h-32 mb-8":"w-40 h-16";return S.jsxs("div",{className:`relative ${i} flex items-center justify-center transition-all duration-300`,children:[S.jsx("img",{src:t,alt:"Efaqa Logo",className:"w-full h-full object-contain",style:{filter:"drop-shadow(0 0 15px rgba(6,182,212,0.2))"},onError:a=>{a.target.style.display="none",a.target.nextSibling.style.display="flex"}}),S.jsxs("div",{className:"hidden w-full h-full items-center justify-center gap-2 bg-white/5 rounded-lg border border-white/10",children:[S.jsx(Cv,{className:"w-6 h-6 text-cyan-400"}),S.jsx("span",{className:"font-bold text-white tracking-wide text-lg",children:"EFAQA"})]})]})},hh=({children:s,onClick:t,disabled:i,icon:a,className:l="",variant:c="primary"})=>{const d="relative group w-full flex items-center justify-center gap-2 font-medium text-sm py-2.5 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]",p={primary:"bg-cyan-600 hover:bg-cyan-500 text-white shadow-sm hover:shadow-md hover:shadow-cyan-900/20 border border-transparent",secondary:"bg-white/5 hover:bg-white/10 text-slate-300 hover:text-white border border-white/10 backdrop-blur-sm",danger:"bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20"};return S.jsxs("button",{onClick:t,disabled:i,className:`${d} ${p[c]} ${l}`,children:[a&&S.jsx(a,{className:"w-4 h-4"}),S.jsx("span",{children:s})]})},kr=({children:s,className:t=""})=>S.jsx("div",{className:`relative bg-[#0A0F1C]/60 backdrop-blur-2xl border border-white/5 rounded-2xl overflow-hidden shadow-xl ${t}`,children:s}),nN=()=>{const[s,t]=Dt.useState(!0),[i,a]=Dt.useState(""),[l,c]=Dt.useState(""),[d,p]=Dt.useState(!1),{addToast:y}=lp(),_=async b=>{b.preventDefault(),p(!0);try{s?(await y2(Pl,i,l),y("   ","success")):(await g2(Pl,i,l),y("   ","success"))}catch(R){y(R.message.replace("Firebase: ",""),"error")}finally{p(!1)}};return S.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden bg-[#05080F]",dir:"rtl",children:[S.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[500px] h-[500px] bg-cyan-900/10 rounded-full blur-[100px] pointer-events-none"}),S.jsxs(kr,{className:"w-full max-w-sm p-8 border-white/10",children:[S.jsx("div",{className:"flex flex-col items-center",children:S.jsx(JT,{size:"large"})}),S.jsx("h2",{className:"text-xl font-semibold text-white text-center mb-2",children:s?" ":" "}),S.jsx("p",{className:"text-slate-400 text-center mb-6 text-xs leading-relaxed",children:s?"   ":"   "}),S.jsxs("form",{onSubmit:_,className:"space-y-4",children:[S.jsxs("div",{className:"space-y-1.5",children:[S.jsx("label",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider mr-1",children:" "}),S.jsx("input",{type:"email",required:!0,value:i,onChange:b=>a(b.target.value),className:"w-full bg-black/20 border border-white/10 focus:border-cyan-500/50 rounded-lg px-3 py-2.5 text-sm text-white placeholder-slate-600 focus:outline-none focus:ring-1 focus:ring-cyan-500/50 transition-all",placeholder:"name@example.com"})]}),S.jsxs("div",{className:"space-y-1.5",children:[S.jsx("label",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider mr-1",children:" "}),S.jsx("input",{type:"password",required:!0,value:l,onChange:b=>c(b.target.value),className:"w-full bg-black/20 border border-white/10 focus:border-cyan-500/50 rounded-lg px-3 py-2.5 text-sm text-white placeholder-slate-600 focus:outline-none focus:ring-1 focus:ring-cyan-500/50 transition-all",placeholder:"",minLength:6})]}),S.jsx(hh,{type:"submit",disabled:d,icon:d?qc:s?NS:Rv,className:d?"cursor-wait":"mt-2",children:d?" ...":s?"":""})]}),S.jsx("div",{className:"mt-6 pt-4 border-t border-white/5 text-center",children:S.jsx("button",{onClick:()=>t(!s),className:"text-slate-500 hover:text-cyan-400 text-xs transition-colors duration-200",children:s?"    ":"   "})})]})]})},iN=({user:s})=>{const{addToast:t}=lp(),[i,a]=Dt.useState(!1),l=async()=>{a(!0);try{await p2(Pl,s.email),t("       ","success")}catch{t("   ","error")}finally{a(!1)}};return S.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[S.jsxs(kr,{className:"p-6",children:[S.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[S.jsx(CS,{className:"w-5 h-5 text-cyan-400"})," "]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/5",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"bg-cyan-500/10 p-2.5 rounded-lg text-cyan-400",children:S.jsx(cS,{className:"w-5 h-5"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-400",children:" "}),S.jsx("div",{className:"text-sm text-white font-mono",children:s.email})]})]}),S.jsx("span",{className:"text-[10px] bg-emerald-500/10 text-emerald-400 px-2 py-1 rounded-md border border-emerald-500/20",children:""})]}),S.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/5",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"bg-orange-500/10 p-2.5 rounded-lg text-orange-400",children:S.jsx(nS,{className:"w-5 h-5"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-xs text-slate-400",children:" "}),S.jsx("div",{className:"text-sm text-white",children:"**********"})]})]}),S.jsx("button",{onClick:l,disabled:i,className:"text-xs text-cyan-400 hover:text-cyan-300 underline disabled:opacity-50",children:i?" ...":"  "})]})]})]}),S.jsxs(kr,{className:"p-6",children:[S.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[S.jsx(tS,{className:"w-5 h-5 text-purple-400"})," "]}),S.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-4",children:"          .          ."}),S.jsxs("div",{className:"flex gap-4 text-xs text-slate-500",children:[S.jsx("span",{children:" 1.0.0 (Beta)"}),S.jsx("span",{children:""}),S.jsx("span",{children:"  "})]})]})]})},sN=()=>S.jsxs("footer",{className:"mt-12 py-6 border-t border-white/5 text-center",children:[S.jsxs("div",{className:"flex justify-center items-center gap-6 mb-4",children:[S.jsx("a",{href:"#",className:"text-xs text-slate-500 hover:text-white transition-colors",children:" "}),S.jsx("a",{href:"#",className:"text-xs text-slate-500 hover:text-white transition-colors",children:" "}),S.jsx("a",{href:"#",className:"text-xs text-slate-500 hover:text-white transition-colors",children:" "})]}),S.jsx("p",{className:"text-[10px] text-slate-600 font-mono",children:" 2025 EFAQA PROJECT. ALL RIGHTS RESERVED."})]}),rN=({user:s,onLogout:t,children:i,activeTab:a,setActiveTab:l})=>S.jsxs("div",{className:"min-h-screen bg-[#05080F] text-slate-200 font-sans selection:bg-cyan-500/30",dir:"rtl",children:[S.jsxs("nav",{className:"sticky top-0 z-50 border-b border-white/5 bg-[#05080F]/80 backdrop-blur-xl",children:[S.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6",children:S.jsxs("div",{className:"flex justify-between h-20 items-center",children:[S.jsxs("div",{className:"flex items-center gap-8",children:[S.jsx(JT,{}),S.jsxs("div",{className:"hidden md:flex items-center bg-white/5 p-1 rounded-xl border border-white/5",children:[S.jsx(js,{active:a==="web",onClick:()=>l("web"),icon:S.jsx(Xd,{size:14}),label:"",isNew:!0}),S.jsx(js,{active:a==="apps",onClick:()=>l("apps"),icon:S.jsx(B_,{size:14}),label:""}),S.jsx(js,{active:a==="network",onClick:()=>l("network"),icon:S.jsx(Q_,{size:14}),label:""}),S.jsx(js,{active:a==="settings",onClick:()=>l("settings"),icon:S.jsx(F_,{size:14}),label:""})]})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:"hidden sm:flex flex-col items-end pr-4 border-r border-white/5",children:[S.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:""}),S.jsx("span",{className:"text-xs text-slate-300 font-medium truncate max-w-[120px]",children:s.email.split("@")[0]})]}),S.jsx("button",{onClick:t,className:"group p-2 text-slate-400 hover:text-white hover:bg-white/5 rounded-lg transition-all",children:S.jsx(lS,{className:"w-4 h-4"})})]})]})}),S.jsx("div",{className:"md:hidden border-t border-white/5 overflow-x-auto pb-0.5 bg-[#05080F]",children:S.jsxs("div",{className:"flex gap-1 p-2 min-w-max",children:[S.jsx(js,{active:a==="web",onClick:()=>l("web"),icon:S.jsx(Xd,{size:14}),label:"",isNew:!0,mobile:!0}),S.jsx(js,{active:a==="apps",onClick:()=>l("apps"),icon:S.jsx(B_,{size:14}),label:"",mobile:!0}),S.jsx(js,{active:a==="network",onClick:()=>l("network"),icon:S.jsx(Q_,{size:14}),label:"",mobile:!0}),S.jsx(js,{active:a==="settings",onClick:()=>l("settings"),icon:S.jsx(F_,{size:14}),label:"",mobile:!0})]})})]}),S.jsxs("main",{className:"max-w-5xl mx-auto p-4 sm:p-6 relative z-10 animate-fadeIn",children:[i,S.jsx(sN,{})]})]}),js=({active:s,onClick:t,icon:i,label:a,isNew:l,mobile:c})=>S.jsx("button",{onClick:t,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${s?"bg-white/10 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-white/5"} ${c?"flex-1 justify-center":""}`,children:S.jsxs("div",{className:"flex items-center gap-1.5",children:[i," ",S.jsx("span",{children:a}),l&&s&&S.jsx("span",{className:"w-1.5 h-1.5 bg-cyan-400 rounded-full animate-pulse"})]})});function aN(){return S.jsx(tN,{children:S.jsx(oN,{})})}function oN(){const[s,t]=Dt.useState(null),[i,a]=Dt.useState(!0),[l,c]=Dt.useState("web"),[d,p]=Dt.useState(null),[y,_]=Dt.useState(!1),[b,R]=Dt.useState(!1),{addToast:V}=lp();Dt.useEffect(()=>{const Z=E2(Pl,w=>{t(w),a(!1)});return()=>Z()},[]),Dt.useEffect(()=>{if(!s)return;const Z=Xx(Qd(Kd,"profiles",s.uid),w=>{if(w.exists())p(w.data());else{const A={stableId:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,C=>{var M=Math.random()*16|0,N=C=="x"?M:M&3|8;return N.toString(16)}),adultFilterEnabled:!0,blockedSites:[],blockedApps:[]};Ev(Qd(Kd,"profiles",s.uid),A),p(A)}});return()=>Z()},[s]);const G=async Z=>{if(s){_(!0),p(Z);try{await Ev(Qd(Kd,"profiles",s.uid),Z,{merge:!0})}catch{V("     ","error")}finally{setTimeout(()=>_(!1),800)}}},W=()=>{G({...d,adultFilterEnabled:!d.adultFilterEnabled}),V("   ","success")},et=Z=>{const A=(Array.isArray(Z)?Z:[Z]).filter(C=>C&&!d.blockedSites.includes(C));A.length>0&&(G({...d,blockedSites:[...d.blockedSites,...A]}),V(`  ${A.length}  `,"success"))},J=Z=>{G({...d,blockedSites:d.blockedSites.filter(w=>w!==Z)}),V("    ","success")},ct=Z=>{const w=Array.isArray(Z)?Z:[Z],A=d.blockedApps||[],C=w.filter(M=>!A.find(N=>N.bundleId===M.bundleId));C.length>0&&(G({...d,blockedApps:[...A,...C]}),V(`  ${C.length}  `,"success"))},yt=Z=>{const w=d.blockedApps||[];G({...d,blockedApps:w.filter(A=>A.bundleId!==Z)}),V("    ","success")},dt=()=>R(!0),Pt=()=>{const Z=Wx({email:s.email},d),w=document.createElement("a");w.href=URL.createObjectURL(new Blob([Z],{type:"application/x-apple-aspen-config; charset=utf-8"})),w.download=`Efaqa_${s.email.split("@")[0]}.mobileconfig`,w.click(),R(!1),V("   ","success")},Ft=async()=>{await T2(Pl),V("  ","success")};return i?S.jsx("div",{className:"min-h-screen bg-[#05080F] flex items-center justify-center",children:S.jsx("div",{className:"w-8 h-8 border-2 border-white/10 border-t-cyan-500 rounded-full animate-spin"})}):s?d?S.jsxs(S.Fragment,{children:[b&&S.jsx(eN,{onComplete:Pt}),S.jsx(rN,{user:s,onLogout:Ft,activeTab:l,setActiveTab:c,children:S.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto",children:[l!=="settings"&&S.jsxs(kr,{className:"p-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[S.jsxs("div",{className:"text-center md:text-right",children:[S.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[S.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-cyan-950/30 border border-cyan-500/20 text-cyan-400 text-[10px] font-bold",children:[S.jsx(Qb,{className:"w-3 h-3"})," ",S.jsx("span",{children:" "})]}),y&&S.jsxs("div",{className:"inline-flex items-center gap-1.5 text-[10px] font-medium text-slate-400 animate-pulse",children:[S.jsx(qc,{className:"w-3 h-3 animate-spin"}),"  ..."]})]}),S.jsx("h2",{className:"text-2xl font-semibold text-white mb-1",children:" "}),S.jsx("p",{className:"text-slate-400 text-sm leading-relaxed max-w-md",children:"        ."})]}),S.jsx("div",{className:"w-full md:w-auto min-w-[140px]",children:S.jsx(hh,{onClick:dt,icon:$b,children:" "})})]}),l==="web"&&S.jsxs("div",{className:"grid md:grid-cols-1 gap-4 animate-fadeIn",children:[S.jsxs(kr,{className:"group p-5 flex items-center justify-between hover:bg-white/[0.02] transition-colors",children:[S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"bg-white/5 p-2.5 rounded-lg border border-white/5 text-cyan-400",children:S.jsx(Cv,{className:"w-5 h-5"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-sm font-semibold text-white mb-0.5",children:" "}),S.jsx("p",{className:"text-slate-400 text-xs max-w-[250px]",children:"     ."})]})]}),S.jsx(uN,{checked:d.adultFilterEnabled,onChange:W})]}),S.jsxs(kr,{className:"overflow-hidden",children:[S.jsxs("div",{className:"p-5 border-b border-white/5 bg-white/[0.01]",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/5 text-red-400",children:S.jsx(Rv,{className:"w-4 h-4"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-sm font-semibold text-white",children:" "}),S.jsx("p",{className:"text-slate-400 text-[10px]",children:"  "})]})]}),S.jsxs("span",{className:"text-[10px] text-slate-500 font-mono bg-white/5 px-2 py-1 rounded-md",children:[d.blockedSites.length," "]})]}),S.jsx(cN,{onAdd:et})]}),S.jsx("div",{className:"bg-black/20 max-h-[300px] overflow-y-auto custom-scrollbar",children:d.blockedSites.length===0?S.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-600 gap-2",children:[S.jsx(mS,{className:"w-8 h-8 opacity-20"}),S.jsx("p",{className:"text-xs",children:" "})]}):S.jsx("div",{className:"divide-y divide-white/5",children:d.blockedSites.map((Z,w)=>S.jsxs("div",{className:"flex justify-between items-center p-3 px-5 hover:bg-white/[0.02] transition-colors group",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"flex h-1.5 w-1.5 rounded-full bg-red-500/80"}),S.jsx("span",{className:"text-slate-300 font-mono text-xs",children:Z})]}),S.jsx("button",{onClick:()=>J(Z),className:"text-slate-500 hover:text-red-400 p-1.5 rounded-md hover:bg-red-500/10 transition-all opacity-0 group-hover:opacity-100",children:S.jsx(G_,{className:"w-3.5 h-3.5"})})]},w))})})]})]}),l==="apps"&&S.jsxs("div",{className:"grid md:grid-cols-1 gap-4 animate-fadeIn",children:[S.jsx(lN,{onAddApp:ct}),S.jsxs(kr,{className:"overflow-hidden",children:[S.jsxs("div",{className:"p-5 border-b border-white/5 bg-white/[0.01] flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/5 text-cyan-400",children:S.jsx(z_,{className:"w-4 h-4"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-sm font-semibold text-white",children:" "}),S.jsx("p",{className:"text-slate-400 text-[10px]",children:"   "})]})]}),S.jsxs("span",{className:"text-[10px] text-slate-500 font-mono bg-white/5 px-2 py-1 rounded-md",children:[d.blockedApps?d.blockedApps.length:0," "]})]}),S.jsx("div",{className:"bg-black/20 max-h-[400px] overflow-y-auto custom-scrollbar",children:!d.blockedApps||d.blockedApps.length===0?S.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-600 gap-2",children:[S.jsx(z_,{className:"w-8 h-8 opacity-20"}),S.jsx("p",{className:"text-xs",children:"    "})]}):S.jsx("div",{className:"divide-y divide-white/5",children:d.blockedApps.map((Z,w)=>S.jsxs("div",{className:"flex justify-between items-center p-3 px-5 hover:bg-white/[0.02] transition-colors group",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("img",{src:Z.icon,alt:Z.name,className:"w-8 h-8 rounded-lg bg-white/5 object-cover"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-slate-200 text-xs font-semibold",children:Z.name}),S.jsx("div",{className:"text-slate-500 font-mono text-[10px]",children:Z.bundleId})]})]}),S.jsx("button",{onClick:()=>yt(Z.bundleId),className:"text-slate-500 hover:text-red-400 p-1.5 rounded-md hover:bg-red-500/10 transition-all opacity-0 group-hover:opacity-100",children:S.jsx(G_,{className:"w-3.5 h-3.5"})})]},w))})})]})]}),l==="settings"&&S.jsx(iN,{user:s}),l==="network"&&S.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center",children:[S.jsx("div",{className:"bg-white/5 p-4 rounded-full mb-4 border border-white/5",children:S.jsx(_S,{className:"w-8 h-8 text-slate-600"})}),S.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:""}),S.jsx("p",{className:"text-slate-500 text-sm",children:"   "})]})]})})]}):S.jsx("div",{className:"min-h-screen bg-[#05080F] flex items-center justify-center text-slate-500 text-sm animate-pulse",children:" ..."}):S.jsx(nN,{})}const Tv=async(s,t=5)=>{const i=`https://itunes.apple.com/search?term=${encodeURIComponent(s)}&entity=software&limit=${t}`,a=async c=>{try{const d=await fetch(c);if(d.status===429)throw new Error("429");if(!d.ok)return null;const p=await d.text();if(!p)return null;try{return JSON.parse(p)}catch{return null}}catch(d){return console.warn("Fetch failed for proxy:",c,d),null}};let l=await a(`https://corsproxy.io/?${encodeURIComponent(i)}`);return l||(await new Promise(c=>setTimeout(c,1e3)),l=await a(`https://api.allorigins.win/raw?url=${encodeURIComponent(i)}`)),l?l.results||[]:[]},lN=({onAddApp:s})=>{const[t,i]=Dt.useState(""),[a,l]=Dt.useState([]),[c,d]=Dt.useState(!1),[p,y]=Dt.useState(!1),[_,b]=Dt.useState(""),[R,V]=Dt.useState([]),[G,W]=Dt.useState(!1),[et,J]=Dt.useState({}),[ct,yt]=Dt.useState({current:0,total:0});Dt.useEffect(()=>{if(p)return;const Z=setTimeout(async()=>{if(t.length>2){d(!0);const w=await Tv(t,5);l(w),d(!1)}else l([])},500);return()=>clearTimeout(Z)},[t,p]);const dt=async()=>{if(!_.trim())return;d(!0);const Z=_.split(/\n/).map(N=>N.trim()).filter(N=>N.length>0),w=[],A=5;yt({current:0,total:Z.length});for(let N=0;N<Z.length;N+=A){const I=Z.slice(N,N+A).map(async ne=>{const H=await Tv(ne,1);return{term:ne,result:H.length>0?H[0]:null}}),ee=await Promise.all(I);w.push(...ee),yt(ne=>({...ne,current:Math.min(N+A,Z.length)})),N+A<Z.length&&await new Promise(ne=>setTimeout(ne,2e4))}const C=w.filter(N=>N.result!==null);V(C);const M={};C.forEach((N,U)=>{M[U]=!0}),J(M),W(!0),d(!1)},Pt=()=>{const Z=R.filter((w,A)=>et[A]).map(w=>({name:w.result.trackName,icon:w.result.artworkUrl60,bundleId:w.result.bundleId}));Z.length>0&&s(Z),y(!1),W(!1),b(""),V([])},Ft=Z=>{J(w=>({...w,[Z]:!w[Z]}))};return S.jsxs("div",{className:"relative z-20 w-full",children:[S.jsx("div",{className:"flex justify-end mb-2",children:S.jsx("button",{type:"button",onClick:()=>{y(!p),i(""),b(""),W(!1)},className:"text-[10px] text-slate-500 hover:text-cyan-400 transition-colors flex items-center gap-1",children:p?"  ":S.jsxs(S.Fragment,{children:[S.jsx(wv,{className:"w-3 h-3"}),"   (Bulk)"]})})}),p?S.jsx("div",{className:"bg-[#0A0F1C]/60 backdrop-blur-2xl border border-white/5 rounded-2xl overflow-hidden shadow-xl p-4",children:G?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-white/5 pb-2",children:[S.jsxs("span",{className:"text-xs text-white font-bold",children:["  (",R.length,")"]}),S.jsx("button",{onClick:()=>W(!1),className:"text-[10px] text-slate-500 hover:text-white",children:" "})]}),S.jsxs("div",{className:"max-h-[250px] overflow-y-auto custom-scrollbar mb-4 space-y-2",children:[R.map((Z,w)=>S.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-white/5 border border-white/5",children:[S.jsx("button",{onClick:()=>Ft(w),className:"text-cyan-400 hover:text-cyan-300",children:et[w]?S.jsx(ES,{className:"w-4 h-4"}):S.jsx(bS,{className:"w-4 h-4 text-slate-600"})}),S.jsx("img",{src:Z.result.artworkUrl60,alt:"",className:"w-8 h-8 rounded-md bg-black/20"}),S.jsxs("div",{className:"flex-1 min-w-0 text-right",children:[S.jsx("div",{className:"text-xs text-white truncate",children:Z.result.trackName}),S.jsxs("div",{className:"text-[10px] text-slate-500 flex items-center gap-1",children:[" : ",S.jsx("span",{className:"text-cyan-500/80",children:Z.term})]})]})]},w)),R.length===0&&S.jsx("div",{className:"text-center text-xs text-slate-500 py-4",children:"    "})]}),S.jsx("div",{className:"flex gap-2",children:S.jsxs(hh,{onClick:Pt,disabled:R.length===0,icon:$d,children:["  (",Object.values(et).filter(Boolean).length,")"]})})]}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"text-xs text-slate-400 font-medium block mb-2",children:"   (   ):"}),S.jsx("textarea",{value:_,onChange:Z=>b(Z.target.value),placeholder:`PUBG
TikTok
Snapchat`,className:"w-full bg-black/20 border border-white/10 rounded-lg py-3 px-4 text-slate-200 placeholder-slate-600 focus:outline-none focus:border-cyan-500/40 focus:ring-1 focus:ring-cyan-500/40 transition-all font-mono text-xs min-h-[120px] resize-y",dir:"ltr"})]}),S.jsx(hh,{onClick:dt,disabled:c||!_.trim(),icon:c?qc:H_,className:c?"cursor-wait":"",children:c?`  (${ct.current}/${ct.total})...`:" "})]})}):S.jsxs("div",{className:"relative",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:c?S.jsx(qc,{className:"h-4 w-4 text-cyan-500 animate-spin"}):S.jsx(H_,{className:"h-4 w-4 text-slate-500"})}),S.jsx("input",{type:"text",value:t,onChange:Z=>i(Z.target.value),placeholder:"   (: TikTok)...",className:"w-full bg-black/20 border border-white/10 rounded-xl py-3.5 pr-12 pl-4 text-slate-200 placeholder-slate-600 focus:outline-none focus:border-cyan-500/40 focus:ring-1 focus:ring-cyan-500/40 transition-all text-sm backdrop-blur-sm"})]}),a.length>0&&!p&&S.jsx("div",{className:"absolute top-full mt-2 w-full bg-[#0F1523] border border-white/10 rounded-xl shadow-2xl overflow-hidden z-30",children:S.jsxs("div",{className:"p-2",children:[S.jsx("div",{className:"text-[10px] text-slate-500 font-bold px-2 py-1 mb-1 uppercase",children:" "}),a.map(Z=>S.jsxs("button",{onClick:()=>{s({name:Z.trackName,icon:Z.artworkUrl60,bundleId:Z.bundleId}),i(""),l([])},className:"w-full flex items-center gap-3 p-2 rounded-lg hover:bg-white/5 transition-colors text-right group",children:[S.jsx("img",{src:Z.artworkUrl60,alt:Z.trackName,className:"w-10 h-10 rounded-lg bg-white/5"}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:"text-slate-200 text-xs font-bold truncate",children:Z.trackName}),S.jsx("div",{className:"text-slate-500 text-[10px] truncate",children:Z.bundleId})]}),S.jsx($d,{className:"w-4 h-4 text-slate-500 group-hover:text-cyan-400 transition-colors"})]},Z.trackId))]})})]})]})},uN=({checked:s,onChange:t})=>S.jsx("button",{onClick:t,className:`w-11 h-6 rounded-full relative transition-all duration-300 border ${s?"bg-cyan-600 border-cyan-500":"bg-slate-800 border-slate-700"}`,children:S.jsx("div",{className:`absolute top-0.5 w-4.5 h-4.5 rounded-full bg-white transition-all duration-300 shadow-sm flex items-center justify-center ${s?"left-[calc(100%-1.35rem)]":"left-0.5"}`})}),cN=({onAdd:s})=>{const[t,i]=Dt.useState(""),[a,l]=Dt.useState(!1),c=d=>{if(d.preventDefault(),!t.trim())return;const p=y=>{let _=y.trim().toLowerCase().replace(/^(?:https?:\/\/)?/i,"").replace(/^(?:www\.)?/i,"").split("/")[0];return _&&_.length>3&&_.includes(".")?_:null};if(a){const y=t.split(/\n/).map(p).filter(Boolean);y.length>0&&s(y)}else{const y=p(t);y&&s(y)}i(""),l(!1)};return S.jsxs("div",{className:"w-full",children:[S.jsx("div",{className:"flex justify-end mb-2",children:S.jsx("button",{type:"button",onClick:()=>{l(!a),i("")},className:"text-[10px] text-slate-500 hover:text-cyan-400 transition-colors flex items-center gap-1",children:a?"  ":S.jsxs(S.Fragment,{children:[S.jsx(wv,{className:"w-3 h-3"}),"   (Bulk)"]})})}),S.jsxs("form",{onSubmit:c,className:"relative group",children:[a?S.jsx("div",{className:"relative",children:S.jsx("textarea",{value:t,onChange:d=>i(d.target.value),placeholder:`facebook.com
tiktok.com
instagram.com`,className:"w-full bg-black/20 border border-white/10 rounded-lg py-3 px-4 text-slate-200 placeholder-slate-600 focus:outline-none focus:border-cyan-500/40 focus:ring-1 focus:ring-cyan-500/40 transition-all font-mono text-xs min-h-[100px] resize-y",dir:"ltr"})}):S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:S.jsx(Xd,{className:"h-3.5 w-3.5 text-slate-600 group-focus-within:text-cyan-500 transition-colors"})}),S.jsx("input",{type:"text",value:t,onChange:d=>i(d.target.value),placeholder:"  (facebook.com)",className:"w-full bg-black/20 border border-white/10 rounded-lg py-2.5 pr-10 pl-20 text-slate-200 placeholder-slate-600 focus:outline-none focus:border-cyan-500/40 focus:ring-1 focus:ring-cyan-500/40 transition-all font-mono text-xs"})]}),S.jsxs("button",{type:"submit",disabled:!t.trim(),className:`absolute left-1.5 ${a?"bottom-3":"top-1.5 bottom-1.5"} bg-white/10 hover:bg-white/20 disabled:opacity-0 disabled:translate-x-4 text-slate-200 px-3 rounded-md text-[10px] font-medium transition-all duration-200 flex items-center gap-1`,children:[S.jsx($d,{className:"w-3 h-3"})," ",a?" ":""]})]})]})};jb.createRoot(document.getElementById("root")).render(S.jsx(Dt.StrictMode,{children:S.jsx(aN,{})}));
