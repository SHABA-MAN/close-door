(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Rd={exports:{}},dl={};var C_;function bS(){if(C_)return dl;C_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var N_;function AS(){return N_||(N_=1,Rd.exports=bS()),Rd.exports}var N=AS(),Id={exports:{}},St={};var x_;function wS(){if(x_)return St;x_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),k=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=k&&O[k]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,Z={};function ht(O,Y,nt){this.props=O,this.context=Y,this.refs=Z,this.updater=nt||J}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function vt(){}vt.prototype=ht.prototype;function mt(O,Y,nt){this.props=O,this.context=Y,this.refs=Z,this.updater=nt||J}var lt=mt.prototype=new vt;lt.constructor=mt,tt(lt,ht.prototype),lt.isPureReactComponent=!0;var gt=Array.isArray;function it(){}var w={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,Y,nt){var rt=nt.ref;return{$$typeof:s,type:O,key:Y,ref:rt!==void 0?rt:null,props:nt}}function M(O,Y){return I(O.type,Y,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function te(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function ee(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(it,it):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,nt,rt,Et){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(Rt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case s:case t:Ut=!0;break;case S:return Ut=O._init,H(Ut(O._payload),Y,nt,rt,Et)}}if(Ut)return Et=Et(O),Ut=rt===""?"."+te(O,0):rt,gt(Et)?(nt="",Ut!=null&&(nt=Ut.replace(R,"$&/")+"/"),H(Et,Y,nt,"",function(er){return er})):Et!=null&&(x(Et)&&(Et=M(Et,nt+(Et.key==null||O&&O.key===Et.key?"":(""+Et.key).replace(R,"$&/")+"/")+Ut)),Y.push(Et)),1;Ut=0;var Ne=rt===""?".":rt+":";if(gt(O))for(var re=0;re<O.length;re++)rt=O[re],Rt=Ne+te(rt,re),Ut+=H(rt,Y,nt,Rt,Et);else if(re=Q(O),typeof re=="function")for(O=re.call(O),re=0;!(rt=O.next()).done;)rt=rt.value,Rt=Ne+te(rt,re++),Ut+=H(rt,Y,nt,Rt,Et);else if(Rt==="object"){if(typeof O.then=="function")return H(ee(O),Y,nt,rt,Et);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function et(O,Y,nt){if(O==null)return O;var rt=[],Et=0;return H(O,rt,"","",function(Rt){return Y.call(nt,Rt,Et++)}),rt}function ft(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:et,forEach:function(O,Y,nt){et(O,function(){Y.apply(this,arguments)},nt)},count:function(O){var Y=0;return et(O,function(){Y++}),Y},toArray:function(O){return et(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=A,St.Children=Gt,St.Component=ht,St.Fragment=i,St.Profiler=l,St.PureComponent=mt,St.StrictMode=a,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,Y,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=tt({},O.props),Et=O.key;if(Y!=null)for(Rt in Y.key!==void 0&&(Et=""+Y.key),Y)!b.call(Y,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Y.ref===void 0||(rt[Rt]=Y[Rt]);var Rt=arguments.length-2;if(Rt===1)rt.children=nt;else if(1<Rt){for(var Ut=Array(Rt),Ne=0;Ne<Rt;Ne++)Ut[Ne]=arguments[Ne+2];rt.children=Ut}return I(O.type,Et,rt)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,Y,nt){var rt,Et={},Rt=null;if(Y!=null)for(rt in Y.key!==void 0&&(Rt=""+Y.key),Y)b.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(Et[rt]=Y[rt]);var Ut=arguments.length-2;if(Ut===1)Et.children=nt;else if(1<Ut){for(var Ne=Array(Ut),re=0;re<Ut;re++)Ne[re]=arguments[re+2];Et.children=Ne}if(O&&O.defaultProps)for(rt in Ut=O.defaultProps,Ut)Et[rt]===void 0&&(Et[rt]=Ut[rt]);return I(O,Rt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:p,render:O}},St.isValidElement=x,St.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ft}},St.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},St.startTransition=function(O){var Y=w.T,nt={};w.T=nt;try{var rt=O(),Et=w.S;Et!==null&&Et(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(it,Pt)}catch(Rt){Pt(Rt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),w.T=Y}},St.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},St.use=function(O){return w.H.use(O)},St.useActionState=function(O,Y,nt){return w.H.useActionState(O,Y,nt)},St.useCallback=function(O,Y){return w.H.useCallback(O,Y)},St.useContext=function(O){return w.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,Y){return w.H.useDeferredValue(O,Y)},St.useEffect=function(O,Y){return w.H.useEffect(O,Y)},St.useEffectEvent=function(O){return w.H.useEffectEvent(O)},St.useId=function(){return w.H.useId()},St.useImperativeHandle=function(O,Y,nt){return w.H.useImperativeHandle(O,Y,nt)},St.useInsertionEffect=function(O,Y){return w.H.useInsertionEffect(O,Y)},St.useLayoutEffect=function(O,Y){return w.H.useLayoutEffect(O,Y)},St.useMemo=function(O,Y){return w.H.useMemo(O,Y)},St.useOptimistic=function(O,Y){return w.H.useOptimistic(O,Y)},St.useReducer=function(O,Y,nt){return w.H.useReducer(O,Y,nt)},St.useRef=function(O){return w.H.useRef(O)},St.useState=function(O){return w.H.useState(O)},St.useSyncExternalStore=function(O,Y,nt){return w.H.useSyncExternalStore(O,Y,nt)},St.useTransition=function(){return w.H.useTransition()},St.version="19.2.0",St}var D_;function Em(){return D_||(D_=1,Id.exports=wS()),Id.exports}var zt=Em(),Cd={exports:{}},ml={},Nd={exports:{}},xd={};var O_;function RS(){return O_||(O_=1,(function(s){function t(H,et){var ft=H.length;H.push(et);t:for(;0<ft;){var Pt=ft-1>>>1,Gt=H[Pt];if(0<l(Gt,et))H[Pt]=et,H[ft]=Gt,ft=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],ft=H.pop();if(ft!==et){H[0]=ft;t:for(var Pt=0,Gt=H.length,O=Gt>>>1;Pt<O;){var Y=2*(Pt+1)-1,nt=H[Y],rt=Y+1,Et=H[rt];if(0>l(nt,ft))rt<Gt&&0>l(Et,nt)?(H[Pt]=Et,H[rt]=ft,Pt=rt):(H[Pt]=nt,H[Y]=ft,Pt=Y);else if(rt<Gt&&0>l(Et,ft))H[Pt]=Et,H[rt]=ft,Pt=rt;else break t}}return et}function l(H,et){var ft=H.sortIndex-et.sortIndex;return ft!==0?ft:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],S=1,A=null,k=3,Q=!1,J=!1,tt=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function lt(H){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=H)a(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function gt(H){if(tt=!1,lt(H),!J)if(i(y)!==null)J=!0,it||(it=!0,U());else{var et=i(_);et!==null&&ee(gt,et.startTime-H)}}var it=!1,w=-1,b=5,I=-1;function M(){return Z?!0:!(s.unstable_now()-I<b)}function x(){if(Z=!1,it){var H=s.unstable_now();I=H;var et=!0;try{t:{J=!1,tt&&(tt=!1,vt(w),w=-1),Q=!0;var ft=k;try{e:{for(lt(H),A=i(y);A!==null&&!(A.expirationTime>H&&M());){var Pt=A.callback;if(typeof Pt=="function"){A.callback=null,k=A.priorityLevel;var Gt=Pt(A.expirationTime<=H);if(H=s.unstable_now(),typeof Gt=="function"){A.callback=Gt,lt(H),et=!0;break e}A===i(y)&&a(y),lt(H)}else a(y);A=i(y)}if(A!==null)et=!0;else{var O=i(_);O!==null&&ee(gt,O.startTime-H),et=!1}}break t}finally{A=null,k=ft,Q=!1}et=void 0}}finally{et?U():it=!1}}}var U;if(typeof mt=="function")U=function(){mt(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,te=R.port2;R.port1.onmessage=x,U=function(){te.postMessage(null)}}else U=function(){ht(x,0)};function ee(H,et){w=ht(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(H){switch(k){case 1:case 2:case 3:var et=3;break;default:et=k}var ft=k;k=et;try{return H()}finally{k=ft}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=k;k=H;try{return et()}finally{k=ft}},s.unstable_scheduleCallback=function(H,et,ft){var Pt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Pt+ft:Pt):ft=Pt,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ft+Gt,H={id:S++,callback:et,priorityLevel:H,startTime:ft,expirationTime:Gt,sortIndex:-1},ft>Pt?(H.sortIndex=ft,t(_,H),i(y)===null&&H===i(_)&&(tt?(vt(w),w=-1):tt=!0,ee(gt,ft-Pt))):(H.sortIndex=Gt,t(y,H),J||Q||(J=!0,it||(it=!0,U()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var et=k;return function(){var ft=k;k=et;try{return H.apply(this,arguments)}finally{k=ft}}}})(xd)),xd}var M_;function IS(){return M_||(M_=1,Nd.exports=RS()),Nd.exports}var Dd={exports:{}},Ye={};var V_;function CS(){if(V_)return Ye;V_=1;var s=Em();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,S)},Ye.flushSync=function(y){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=S,a.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,A=p(S,_.crossOrigin),k=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:k,fetchPriority:Q}):S==="script"&&a.d.X(y,{crossOrigin:A,integrity:k,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=p(S,_.crossOrigin);a.d.L(y,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ye.requestFormReset=function(y){a.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var k_;function NS(){if(k_)return Dd.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=CS(),Dd.exports}var U_;function xS(){if(U_)return ml;U_=1;var s=IS(),t=Em(),i=NS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,k=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case gt:return"Suspense";case it:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case mt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var ee=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Pt=[],Gt=-1;function O(e){return{current:e}}function Y(e){0>Gt||(e.current=Pt[Gt],Pt[Gt]=null,Gt--)}function nt(e,n){Gt++,Pt[Gt]=e.current,e.current=n}var rt=O(null),Et=O(null),Rt=O(null),Ut=O(null);function Ne(e,n){switch(nt(Rt,n),nt(Et,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=Jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),nt(rt,e)}function re(){Y(rt),Y(Et),Y(Rt)}function er(e){e.memoizedState!==null&&nt(Ut,e);var n=rt.current,r=Jy(n,e.type);n!==r&&(nt(Et,e),nt(rt,r))}function Kr(e){Et.current===e&&(Y(rt),Y(Et)),Ut.current===e&&(Y(Ut),ul._currentValue=ft)}var Yr,Xr;function Jn(e){if(Yr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Xr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Xr}var lo=!1;function nr(e,n){if(!e||lo)return"";lo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{lo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Jn(r):""}function uo(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return nr(e.type,!1);case 11:return nr(e.type.render,!1);case 1:return nr(e.type,!0);case 31:return Jn("Activity");default:return""}}function co(e){try{var n="",r=null;do n+=uo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,is=s.unstable_cancelCallback,Ih=s.unstable_shouldYield,Xl=s.unstable_requestPaint,We=s.unstable_now,ir=s.unstable_getCurrentPriorityLevel,ho=s.unstable_ImmediatePriority,fo=s.unstable_UserBlockingPriority,ss=s.unstable_NormalPriority,Ch=s.unstable_LowPriority,$l=s.unstable_IdlePriority,Zl=s.log,Jl=s.unstable_setDisableYieldValue,Ln=null,ze=null;function Tn(e){if(typeof Zl=="function"&&Jl(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ln,e)}catch{}}var de=Math.clz32?Math.clz32:tu,Wl=Math.log,$r=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/$r|0)|0}var Wn=256,sr=262144,ve=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):r||(r=E&~e,r!==0&&(h=ti(r))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):r||(r=o&~e,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ni(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function rr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-de(r),K=1<<F;E[F]=0,C[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}r&=~K}o!==0&&ar(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ar(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function mo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-de(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function po(e,n){var r=n&-n;return r=(r&42)!==0?1:or(r),(r&(e.suspendedLanes|n))!==0?0:r}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:T_(e.type))}function zn(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var jn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+jn,Ve="__reactProps$"+jn,ii="__reactContainer$"+jn,Zr="__reactEvents$"+jn,Dh="__reactListeners$"+jn,iu="__reactHandles$"+jn,su="__reactResources$"+jn,si="__reactMarker$"+jn;function Jr(e){delete e[Ee],delete e[Ve],delete e[Zr],delete e[Dh],delete e[iu]}function ri(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ii]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=r_(e);e!==null;){if(r=e[Ee])return r;e=r_(e)}return n}e=r,r=e.parentNode}return null}function Sn(e){if(e=e[Ee]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[si]=!0}var go=new Set,yo={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(yo[e]=n,e=0;e<n.length;e++)go.add(n[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function ru(e){return _e.call(Eo,e)?!0:_e.call(vo,e)?!1:_o.test(e)?Eo[e]=!0:(vo[e]=!0,!1)}function Wr(e,n,r){if(ru(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Se(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function To(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=To(e,n,""+e[n])}}function lr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ur=/[\n"\\]/g;function nn(e){return e.replace(ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?So(e,g,ke(n)):r!=null?So(e,g,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function au(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function So(e,n,r){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function as(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function os(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ee(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Qt(e)}function sn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||lu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ao(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&bo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&bo(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var wo=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,ci=null;function cr(e){var n=Sn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&lr(o)}break t;case"textarea":ou(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&as(e,!!r.multiple,n,!1)}}}var ia=!1;function cs(e,n,r){if(ia)return e(n,r);ia=!0;try{var o=e(n);return o}finally{if(ia=!1,(us!==null||ci!==null)&&(nc(),us&&(n=us,e=ci,ci=us=null,cr(n),e)))for(n=0;n<e.length;n++)cr(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(An)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){hr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{hr=!1}var hi=null,Ro=null,fr=null;function Io(){if(fr)return fr;var e,n=Ro,r=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return fr=h.slice(e,1<o?1-o:void 0)}function dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Hn(){return!1}function je(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Hn,this.isPropagationStopped=Hn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=je(Di),hs=A({},Di,{view:0,detail:0}),Co=je(hs),fs,sa,di,ra=A({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(fs=e.screenX-di.screenX,sa=e.screenY-di.screenY):sa=fs=0,di=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),No=je(ra),mr=A({},ra,{dataTransfer:0}),cu=je(mr),hu=A({},hs,{relatedTarget:0}),pr=je(hu),xo=A({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=je(xo),aa=A({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=je(aa),mu=A({},Di,{data:0}),mi=je(mu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function ds(){return _u}var tn=A({},hs,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=je(tn),Eu=A({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=je(Eu),u=A({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=je(u),v=A({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),L=A({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(L),W=A({},Di,{newState:0,oldState:0}),At=je(W),me=[9,13,27,32],qt=An&&"CompositionEvent"in window,ae=null;An&&"documentMode"in document&&(ae=document.documentMode);var wn=An&&"TextEvent"in window&&!ae,pi=An&&(!qt||ae&&8<ae&&11>=ae),Fn=" ",Gn=!1;function gr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function KT(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Gn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Gn?null:e;default:return null}}function YT(e,n){if(la)return e==="compositionend"||!qt&&gr(e,n)?(e=Io(),fr=Ro=hi=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var XT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!XT[e.type]:n==="textarea"}function up(e,n,r,o){us?ci?ci.push(o):ci=[o]:us=o,n=uc(n,"onChange"),0<n.length&&(r=new fi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Do=null,Oo=null;function $T(e){Gy(e,0)}function Tu(e){var n=fn(e);if(lr(n))return e}function cp(e,n){if(e==="change")return n}var hp=!1;if(An){var Oh;if(An){var Mh="oninput"in document;if(!Mh){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Mh=typeof fp.oninput=="function"}Oh=Mh}else Oh=!1;hp=Oh&&(!document.documentMode||9<document.documentMode)}function dp(){Do&&(Do.detachEvent("onpropertychange",mp),Oo=Do=null)}function mp(e){if(e.propertyName==="value"&&Tu(Oo)){var n=[];up(n,Oo,e,bn(e)),cs($T,n)}}function ZT(e,n,r){e==="focusin"?(dp(),Do=n,Oo=r,Do.attachEvent("onpropertychange",mp)):e==="focusout"&&dp()}function JT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Oo)}function WT(e,n){if(e==="click")return Tu(n)}function t1(e,n){if(e==="input"||e==="change")return Tu(n)}function e1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:e1;function Mo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_e.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function pp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gp(e,n){var r=pp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=pp(r)}}function yp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _p(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ui(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var n1=An&&"documentMode"in document&&11>=document.documentMode,ua=null,kh=null,Vo=null,Uh=!1;function vp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uh||ua==null||ua!==ui(o)||(o=ua,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Mo(Vo,o)||(Vo=o,o=uc(kh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ua)))}function yr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ca={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},Lh={},Ep={};An&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function _r(e){if(Lh[e])return Lh[e];if(!ca[e])return e;var n=ca[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ep)return Lh[e]=n[r];return e}var Tp=_r("animationend"),Sp=_r("animationiteration"),bp=_r("animationstart"),i1=_r("transitionrun"),s1=_r("transitionstart"),r1=_r("transitioncancel"),Ap=_r("transitionend"),wp=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Qn(e,n){wp.set(e,n),oi(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ha=0,zh=0;function bu(){for(var e=ha,n=zh=ha=0;n<e;){var r=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Rp(r,h,f)}}function Au(e,n,r,o){Rn[ha++]=e,Rn[ha++]=n,Rn[ha++]=r,Rn[ha++]=o,zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,r,o){return Au(e,n,r,o),wu(e)}function vr(e,n){return Au(e,null,null,n),wu(e)}function Rp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function wu(e){if(50<nl)throw nl=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function a1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,o){return new a1(e,n,r,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ip(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Bh(e)&&(g=1);else if(typeof e=="string")g=hS(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,r,n,h),e.elementType=I,e.lanes=f,e;case tt:return Er(r.children,h,f,n);case Z:g=8,h|=24;break;case ht:return e=pn(12,r,n,h|2),e.elementType=ht,e.lanes=f,e;case gt:return e=pn(13,r,n,h),e.elementType=gt,e.lanes=f,e;case it:return e=pn(19,r,n,h),e.elementType=it,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case vt:g=9;break t;case lt:g=11;break t;case w:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Er(e,n,r,o){return e=pn(7,e,o,n),e.lanes=r,e}function qh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function Cp(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Np=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var r=Np.get(e);return r!==void 0?r:(n={value:e,source:n,stack:co(n)},Np.set(e,n),n)}return{value:e,source:n,stack:co(n)}}var da=[],ma=0,Iu=null,ko=0,Cn=[],Nn=0,ms=null,gi=1,yi="";function Vi(e,n){da[ma++]=ko,da[ma++]=Iu,Iu=e,ko=n}function xp(e,n,r){Cn[Nn++]=gi,Cn[Nn++]=yi,Cn[Nn++]=ms,ms=e;var o=gi;e=yi;var h=32-de(o)-1;o&=~(1<<h),r+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,gi=1<<32-de(n)+h|r<<h|o,yi=f+e}else gi=1<<f|r<<h|o,yi=e}function Fh(e){e.return!==null&&(Vi(e,1),xp(e,1,0))}function Gh(e){for(;e===Iu;)Iu=da[--ma],da[ma]=null,ko=da[--ma],da[ma]=null;for(;e===ms;)ms=Cn[--Nn],Cn[Nn]=null,yi=Cn[--Nn],Cn[Nn]=null,gi=Cn[--Nn],Cn[Nn]=null}function Dp(e,n){Cn[Nn++]=gi,Cn[Nn++]=yi,Cn[Nn++]=ms,gi=n.id,yi=n.overflow,ms=e}var Be=null,ne=null,kt=!1,ps=null,xn=!1,Qh=Error(a(519));function gs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(In(n,e)),Qh}function Op(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ve]=o,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<sl.length;r++)Nt(sl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),os(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Xy(n.textContent,r)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gs(e,!0)}function Mp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Be=Be.return}}function pa(e){if(e!==Be)return!1;if(!kt)return Mp(e),kt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||hd(e.type,e.memoizedProps)),r=!r),r&&ne&&gs(e),Mp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=s_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=s_(e)}else n===27?(n=ne,xs(e.type)?(e=gd,gd=null,ne=e):ne=n):ne=Be?On(e.stateNode.nextSibling):null;return!0}function Tr(){ne=Be=null,kt=!1}function Kh(){var e=ps;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ps=null),e}function Uo(e){ps===null?ps=[e]:ps.push(e)}var Yh=O(null),Sr=null,ki=null;function ys(e,n,r){nt(Yh,n._currentValue),n._currentValue=r}function Ui(e){e._currentValue=Yh.current,Y(Yh)}function Xh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function $h(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Xh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Xh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ga(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&$h(n,e,r,o),n.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Sr=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Vp(Sr,e)}function Nu(e,n){return Sr===null&&br(e),Vp(e,n)}function Vp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return r}var o1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},l1=s.unstable_scheduleCallback,u1=s.unstable_NormalPriority,be={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new o1,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&l1(u1,function(){e.controller.abort()})}var Po=null,Jh=0,ya=0,_a=null;function c1(e,n){if(Po===null){var r=Po=[];Jh=0,ya=nd(),_a={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Jh++,n.then(kp,kp),n}function kp(){if(--Jh===0&&Po!==null){_a!==null&&(_a.status="fulfilled");var e=Po;Po=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function h1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Up=H.S;H.S=function(e,n){vy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&c1(e,n),Up!==null&&Up(e,n)};var Ar=O(null);function Wh(){var e=Ar.current;return e!==null?e:Wt.pooledCache}function xu(e,n){n===null?nt(Ar,Ar.current):nt(Ar,n.pool)}function Lp(){var e=Wh();return e===null?null:{parent:be._currentValue,pool:e}}var va=Error(a(460)),tf=Error(a(474)),Du=Error(a(542)),Ou={then:function(){}};function Pp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bp(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bp(e),e}throw Rr=n,va}}function wr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Rr=r,va):r}}var Rr=null;function jp(){if(Rr===null)throw Error(a(459));var e=Rr;return Rr=null,e}function Bp(e){if(e===va||e===Du)throw Error(a(483))}var Ea=null,zo=0;function Mu(e){var n=zo;return zo+=1,Ea===null&&(Ea=[]),zp(Ea,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===k?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function qp(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function r(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Mi(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,G){return D===null||D.tag!==6?(D=qh(P,V.mode,G),D.return=V,D):(D=h(D,P),D.return=V,D)}function C(V,D,P,G){var ct=P.type;return ct===tt?F(V,D,P.props.children,G,P.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&wr(ct)===D.type)?(D=h(D,P.props),jo(D,P),D.return=V,D):(D=Ru(P.type,P.key,P.props,null,V.mode,G),jo(D,P),D.return=V,D)}function z(V,D,P,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Hh(P,V.mode,G),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function F(V,D,P,G,ct){return D===null||D.tag!==7?(D=Er(P,V.mode,G,ct),D.return=V,D):(D=h(D,P),D.return=V,D)}function K(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=qh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Ru(D.type,D.key,D.props,null,V.mode,P),jo(P,D),P.return=V,P;case J:return D=Hh(D,V.mode,P),D.return=V,D;case b:return D=wr(D),K(V,D,P)}if(ee(D)||U(D))return D=Er(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return K(V,Mu(D),P);if(D.$$typeof===mt)return K(V,Nu(V,D),P);Vu(V,D)}return null}function j(V,D,P,G){var ct=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(V,D,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ct?C(V,D,P,G):null;case J:return P.key===ct?z(V,D,P,G):null;case b:return P=wr(P),j(V,D,P,G)}if(ee(P)||U(P))return ct!==null?null:F(V,D,P,G,null);if(typeof P.then=="function")return j(V,D,Mu(P),G);if(P.$$typeof===mt)return j(V,D,Nu(V,P),G);Vu(V,P)}return null}function q(V,D,P,G,ct){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(P)||null,E(D,V,""+G,ct);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return V=V.get(G.key===null?P:G.key)||null,C(D,V,G,ct);case J:return V=V.get(G.key===null?P:G.key)||null,z(D,V,G,ct);case b:return G=wr(G),q(V,D,P,G,ct)}if(ee(G)||U(G))return V=V.get(P)||null,F(D,V,G,ct,null);if(typeof G.then=="function")return q(V,D,P,Mu(G),ct);if(G.$$typeof===mt)return q(V,D,P,Nu(D,G),ct);Vu(D,G)}return null}function at(V,D,P,G){for(var ct=null,jt=null,ot=D,It=D=0,Dt=null;ot!==null&&It<P.length;It++){ot.index>It?(Dt=ot,ot=null):Dt=ot.sibling;var Bt=j(V,ot,P[It],G);if(Bt===null){ot===null&&(ot=Dt);break}e&&ot&&Bt.alternate===null&&n(V,ot),D=f(Bt,D,It),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt,ot=Dt}if(It===P.length)return r(V,ot),kt&&Vi(V,It),ct;if(ot===null){for(;It<P.length;It++)ot=K(V,P[It],G),ot!==null&&(D=f(ot,D,It),jt===null?ct=ot:jt.sibling=ot,jt=ot);return kt&&Vi(V,It),ct}for(ot=o(ot);It<P.length;It++)Dt=q(ot,V,It,P[It],G),Dt!==null&&(e&&Dt.alternate!==null&&ot.delete(Dt.key===null?It:Dt.key),D=f(Dt,D,It),jt===null?ct=Dt:jt.sibling=Dt,jt=Dt);return e&&ot.forEach(function(ks){return n(V,ks)}),kt&&Vi(V,It),ct}function pt(V,D,P,G){if(P==null)throw Error(a(151));for(var ct=null,jt=null,ot=D,It=D=0,Dt=null,Bt=P.next();ot!==null&&!Bt.done;It++,Bt=P.next()){ot.index>It?(Dt=ot,ot=null):Dt=ot.sibling;var ks=j(V,ot,Bt.value,G);if(ks===null){ot===null&&(ot=Dt);break}e&&ot&&ks.alternate===null&&n(V,ot),D=f(ks,D,It),jt===null?ct=ks:jt.sibling=ks,jt=ks,ot=Dt}if(Bt.done)return r(V,ot),kt&&Vi(V,It),ct;if(ot===null){for(;!Bt.done;It++,Bt=P.next())Bt=K(V,Bt.value,G),Bt!==null&&(D=f(Bt,D,It),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt);return kt&&Vi(V,It),ct}for(ot=o(ot);!Bt.done;It++,Bt=P.next())Bt=q(ot,V,It,Bt.value,G),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?It:Bt.key),D=f(Bt,D,It),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt);return e&&ot.forEach(function(SS){return n(V,SS)}),kt&&Vi(V,It),ct}function Jt(V,D,P,G){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ct=P.key;D!==null;){if(D.key===ct){if(ct=P.type,ct===tt){if(D.tag===7){r(V,D.sibling),G=h(D,P.props.children),G.return=V,V=G;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&wr(ct)===D.type){r(V,D.sibling),G=h(D,P.props),jo(G,P),G.return=V,V=G;break t}r(V,D);break}else n(V,D);D=D.sibling}P.type===tt?(G=Er(P.props.children,V.mode,G,P.key),G.return=V,V=G):(G=Ru(P.type,P.key,P.props,null,V.mode,G),jo(G,P),G.return=V,V=G)}return g(V);case J:t:{for(ct=P.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(V,D.sibling),G=h(D,P.children||[]),G.return=V,V=G;break t}else{r(V,D);break}else n(V,D);D=D.sibling}G=Hh(P,V.mode,G),G.return=V,V=G}return g(V);case b:return P=wr(P),Jt(V,D,P,G)}if(ee(P))return at(V,D,P,G);if(U(P)){if(ct=U(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),pt(V,D,P,G)}if(typeof P.then=="function")return Jt(V,D,Mu(P),G);if(P.$$typeof===mt)return Jt(V,D,Nu(V,P),G);Vu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(V,D.sibling),G=h(D,P),G.return=V,V=G):(r(V,D),G=qh(P,V.mode,G),G.return=V,V=G),g(V)):r(V,D)}return function(V,D,P,G){try{zo=0;var ct=Jt(V,D,P,G);return Ea=null,ct}catch(ot){if(ot===va||ot===Du)throw ot;var jt=pn(29,ot,null,V.mode);return jt.lanes=G,jt.return=V,jt}finally{}}}var Ir=qp(!0),Hp=qp(!1),_s=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Rp(e,null,r),n}return Au(e,o,n,r),wu(e)}function Bo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,mo(e,r)}}function sf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var rf=!1;function qo(){if(rf){var e=_a;if(e!==null)throw e}}function Ho(e,n,r,o){rf=!1;var h=e.updateQueue;_s=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;g=0,F=z=C=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(xt&j)===j:(o&j)===j){j!==0&&j===ya&&(rf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,pt=E;j=n;var Jt=r;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){K=at.call(Jt,K,j);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,j=typeof at=="function"?at.call(Jt,K,j):at,j==null)break t;K=A({},K,j);break t;case 2:_s=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,C=K):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=K),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),ws|=g,e.lanes=g,e.memoizedState=K}}function Fp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Gp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Fp(r[e],n)}var Ta=O(null),ku=O(0);function Qp(e,n){e=Gi,nt(ku,e),nt(Ta,n),Gi=e|n.baseLanes}function af(){nt(ku,Gi),nt(Ta,Ta.current)}function of(){Gi=ku.current,Y(Ta),Y(ku)}var gn=O(null),Dn=null;function Ts(e){var n=e.alternate;nt(pe,pe.current&1),nt(gn,e),Dn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Dn=e)}function lf(e){nt(pe,pe.current),nt(gn,e),Dn===null&&(Dn=e)}function Kp(e){e.tag===22?(nt(pe,pe.current),nt(gn,e),Dn===null&&(Dn=e)):Ss()}function Ss(){nt(pe,pe.current),nt(gn,gn.current)}function yn(e){Y(gn),Dn===e&&(Dn=null),Y(pe)}var pe=O(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||md(r)||pd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,wt=null,$t=null,Ae=null,Lu=!1,Sa=!1,Cr=!1,Pu=0,Fo=0,ba=null,f1=0;function he(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function cf(e,n,r,o,h,f){return Li=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?xg:wf,Cr=!1,f=r(o,h),Cr=!1,Sa&&(f=Xp(n,r,o,h)),Yp(e),f}function Yp(e){H.H=Ko;var n=$t!==null&&$t.next!==null;if(Li=0,Ae=$t=wt=null,Lu=!1,Fo=0,ba=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Cu(e)&&(we=!0))}function Xp(e,n,r,o){wt=e;var h=0;do{if(Sa&&(ba=null),Fo=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Dg,f=n(r,o)}while(Sa);return f}function d1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Go(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(wt.flags|=1024),n}function hf(){var e=Pu!==0;return Pu=0,e}function ff(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function df(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Li=0,Ae=$t=wt=null,Sa=!1,Fo=Pu=0,ba=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?wt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if($t===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Ae===null?wt.memoizedState:Ae.next;if(n!==null)Ae=n,$t=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?wt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var n=Fo;return Fo+=1,ba===null&&(ba=[]),e=zp(ba,e,n),n=wt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?xg:wf),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===mt)return qe(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=zu(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function Pi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=ge();return pf(n,$t,e)}function pf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(xt&K)===K:(Li&K)===K){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===ya&&(F=!0);else if((Li&j)===j){z=z.next,j===ya&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=K,g=f):C=C.next=K,wt.lanes|=j,ws|=j;K=z.action,Cr&&r(f,K),f=z.hasEagerState?z.eagerState:r(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,g=f):C=C.next=j,wt.lanes|=K,ws|=K;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!mn(f,e.memoizedState)&&(we=!0,F&&(r=_a,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gf(e){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function $p(e,n,r){var o=wt,h=ge(),f=kt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!mn(($t||h).memoizedState,r);if(g&&(h.memoizedState=r,we=!0),h=h.queue,vf(Wp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Aa(9,{destroy:void 0},Jp.bind(null,o,h,r,n),null),Wt===null)throw Error(a(349));f||(Li&127)!==0||Zp(o,n,r)}return r}function Zp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=zu(),wt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Jp(e,n,r,o){n.value=r,n.getSnapshot=o,tg(n)&&eg(e)}function Wp(e,n,r){return r(function(){tg(n)&&eg(e)})}function tg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function eg(e){var n=vr(e,2);n!==null&&un(n,e,2)}function yf(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),Cr){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function ng(e,n,r,o){return e.baseState=r,pf(e,$t,typeof o=="function"?o:Pi)}function m1(e,n,r,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,ig(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ig(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),C=H.S;C!==null&&C(g,E),sg(e,n,E)}catch(z){_f(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),sg(e,n,f)}catch(z){_f(e,n,z)}}function sg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){rg(e,n,o)},function(o){return _f(e,n,o)}):rg(e,n,r)}function rg(e,n,r){n.status="fulfilled",n.value=r,ag(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ig(e,r)))}function _f(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ag(n),n=n.next;while(n!==o)}e.action=null}function ag(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function og(e,n){return n}function lg(e,n){if(kt){var r=Wt.formState;if(r!==null){t:{var o=wt;if(kt){if(ne){e:{for(var h=ne,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=On(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},r.queue=o,r=Ig.bind(null,wt,o),o.dispatch=r,o=yf(!1),f=Af.bind(null,wt,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=m1.bind(null,wt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function ug(e){var n=ge();return cg(n,$t,e)}function cg(e,n,r){if(n=pf(e,n,og)[0],e=Bu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Go(n)}catch(g){throw g===va?Du:g}else o=n;n=ge();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,Aa(9,{destroy:void 0},p1.bind(null,h,r),null)),[o,f,e]}function p1(e,n){e.action=n}function hg(e){var n=ge(),r=$t;if(r!==null)return cg(n,r,e);ge(),n=n.memoizedState,r=ge();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Aa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=zu(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function fg(){return ge().memoizedState}function qu(e,n,r,o){var h=en();wt.flags|=e,h.memoizedState=Aa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Hu(e,n,r,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&uf(o,$t.memoizedState.deps)?h.memoizedState=Aa(n,f,r,o):(wt.flags|=e,h.memoizedState=Aa(1|n,f,r,o))}function dg(e,n){qu(8390656,8,e,n)}function vf(e,n){Hu(2048,8,e,n)}function g1(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=zu(),wt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function mg(e){var n=ge().memoizedState;return g1({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function pg(e,n){return Hu(4,2,e,n)}function gg(e,n){return Hu(4,4,e,n)}function yg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function _g(e,n,r){r=r!=null?r.concat([e]):null,Hu(4,4,yg.bind(null,n,e),r)}function Ef(){}function vg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Eg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),Cr){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o}function Tf(e,n,r){return r===void 0||(Li&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ty(),wt.lanes|=e,ws|=e,r)}function Tg(e,n,r,o){return mn(r,n)?r:Ta.current!==null?(e=Tf(e,r,o),mn(e,n)||(we=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(xt&261930)===0?(we=!0,e.memoizedState=r):(e=Ty(),wt.lanes|=e,ws|=e,n)}function Sg(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Af(e,!1,n,r);try{var C=h(),z=H.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=h1(C,o);Qo(e,n,F,En(e))}else Qo(e,n,o,En(e))}catch(K){Qo(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function y1(){}function Sf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=bg(e).queue;Sg(e,h,n,ft,r===null?y1:function(){return Ag(e),r(o)})}function bg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ag(e){var n=bg(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},En())}function bf(){return qe(ul)}function wg(){return ge().memoizedState}function Rg(){return ge().memoizedState}function _1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=vs(r);var o=Es(n,e,r);o!==null&&(un(o,n,r),Bo(o,n,r)),n={cache:Zh()},e.payload=n;return}n=n.return}}function v1(e,n,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Cg(n,r):(r=jh(e,n,r,o),r!==null&&(un(r,e,o),Ng(r,n,o)))}function Ig(e,n,r){var o=En();Qo(e,n,r,o)}function Qo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Cg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return Au(e,n,h,0),Wt===null&&bu(),!1}catch{}finally{}if(r=jh(e,n,h,o),r!==null)return un(r,e,o),Ng(r,n,o),!0}return!1}function Af(e,n,r,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=jh(e,r,o,2),n!==null&&un(n,e,2)}function Fu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Cg(e,n){Sa=Lu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ng(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,mo(e,r)}}var Ko={readContext:qe,use:ju,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Ko.useEffectEvent=he;var xg={readContext:qe,use:ju,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:dg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,qu(4194308,4,yg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var o=e();if(Cr){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=en();if(r!==void 0){var h=r(n);if(Cr){Tn(!0);try{r(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=v1.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,r=Ig.bind(null,wt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Ef,useDeferredValue:function(e,n){var r=en();return Tf(r,e,n)},useTransition:function(){var e=yf(!1);return e=Sg.bind(null,wt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=wt,h=en();if(kt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(xt&127)!==0||Zp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,dg(Wp.bind(null,o,f,e),[e]),o.flags|=2048,Aa(9,{destroy:void 0},Jp.bind(null,o,f,r,n),null),r},useId:function(){var e=en(),n=Wt.identifierPrefix;if(kt){var r=yi,o=gi;r=(o&~(1<<32-de(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=f1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:bf,useFormState:lg,useActionState:lg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Af.bind(null,wt,!0,r),r.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return en().memoizedState=_1.bind(null,wt)},useEffectEvent:function(e){var n=en(),r={impl:e};return n.memoizedState=r,function(){if((Ht&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},wf={readContext:qe,use:ju,useCallback:vg,useContext:qe,useEffect:vf,useImperativeHandle:_g,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:Eg,useReducer:Bu,useRef:fg,useState:function(){return Bu(Pi)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=ge();return Tg(r,$t.memoizedState,e,n)},useTransition:function(){var e=Bu(Pi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:$p,useId:wg,useHostTransitionStatus:bf,useFormState:ug,useActionState:ug,useOptimistic:function(e,n){var r=ge();return ng(r,$t,e,n)},useMemoCache:mf,useCacheRefresh:Rg};wf.useEffectEvent=mg;var Dg={readContext:qe,use:ju,useCallback:vg,useContext:qe,useEffect:vf,useImperativeHandle:_g,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:Eg,useReducer:gf,useRef:fg,useState:function(){return gf(Pi)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=ge();return $t===null?Tf(r,e,n):Tg(r,$t.memoizedState,e,n)},useTransition:function(){var e=gf(Pi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:$p,useId:wg,useHostTransitionStatus:bf,useFormState:hg,useActionState:hg,useOptimistic:function(e,n){var r=ge();return $t!==null?ng(r,$t,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Rg};Dg.useEffectEvent=mg;function Rf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var If={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=En(),h=vs(o);h.payload=n,r!=null&&(h.callback=r),n=Es(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=En(),h=vs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Es(e,h,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),o=vs(r);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,r),n!==null&&(un(n,e,r),Bo(n,e,r))}};function Og(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Mo(r,o)||!Mo(h,f):!0}function Mg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function Nr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Vg(e){Su(e)}function kg(e){console.error(e)}function Ug(e){Su(e)}function Gu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Lg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,r){return r=vs(r),r.tag=3,r.payload={element:null},r.callback=function(){Gu(e,n)},r}function Pg(e){return e=vs(e),e.tag=3,e}function zg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Lg(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Lg(n,r,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function E1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ga(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?ic():r.alternate===null&&fe===0&&(fe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return r.flags|=65536,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Wf(e,o,h)),!1}throw Error(a(435,r.tag))}return Wf(e,o,h),ic(),!1}if(kt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Qh&&(e=Error(a(422),{cause:o}),Uo(In(e,r)))):(o!==Qh&&(n=Error(a(423),{cause:o}),Uo(In(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,r),h=Cf(e.stateNode,o,h),sf(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=In(f,r),el===null?el=[f]:el.push(f),fe!==4&&(fe=2),n===null)return!0;o=In(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Cf(r.stateNode,o,e),sf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Pg(h),zg(h,e,r,o),sf(r,h),!1}r=r.return}while(r!==null);return!1}var Nf=Error(a(461)),we=!1;function He(e,n,r,o){n.child=e===null?Hp(n,null,r,o):Ir(n,e.child,r,o)}function jg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return br(n),o=cf(e,n,r,g,f,h),E=hf(),e!==null&&!we?(ff(e,n,h),zi(e,n,h)):(kt&&E&&Fh(n),n.flags|=1,He(e,n,o,h),n.child)}function Bg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,qg(e,n,f,o,h)):(e=Ru(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(g,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function qg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Lf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,zi(e,n,h)}return xf(e,n,r,o,h)}function Hg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Fg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?Qp(n,f):af(),Kp(n);else return o=n.lanes=536870912,Fg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(xu(n,f.cachePool),Qp(n,f),Ss(),n.memoizedState=null):(e!==null&&xu(n,null),af(),Ss());return He(e,n,h,r),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(e,n,r,o,h){var f=Wh();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&xu(n,null),af(),Kp(n),e!==null&&ga(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Gg(e,n,r){return Ir(n,e.child,null,r),e=Qu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function T1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,Yo(null,e);if(lf(n),(e=ne)?(e=i_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Cp(e),r.return=n,n.child=r,Be=n,ne=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=Gg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||ga(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(o=Wt,o!==null&&(g=po(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,vr(e,g),un(o,e,g),Nf;ic(),n=Gg(e,n,r)}else e=f.treeContext,ne=On(g.nextSibling),Be=n,kt=!0,ps=null,xn=!1,e!==null&&Dp(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function xf(e,n,r,o,h){return br(n),r=cf(e,n,r,o,void 0,h),o=hf(),e!==null&&!we?(ff(e,n,h),zi(e,n,h)):(kt&&o&&Fh(n),n.flags|=1,He(e,n,r,h),n.child)}function Qg(e,n,r,o,h,f){return br(n),n.updateQueue=null,r=Xp(n,o,r,h),Yp(e),o=hf(),e!==null&&!we?(ff(e,n,f),zi(e,n,f)):(kt&&o&&Fh(n),n.flags|=1,He(e,n,r,f),n.child)}function Kg(e,n,r,o,h){if(br(n),n.stateNode===null){var f=fa,g=r.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ef(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?qe(g):fa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Rf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&If.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Nr(r,E);f.props=C;var z=f.context,F=r.contextType;g=fa,typeof F=="object"&&F!==null&&(g=qe(F));var K=r.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Mg(n,f,o,g),_s=!1;var j=n.memoizedState;f.state=j,Ho(n,o,f,h),qo(),z=n.memoizedState,E||j!==z||_s?(typeof K=="function"&&(Rf(n,r,K,o),z=n.memoizedState),(C=_s||Og(n,r,C,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(e,n),g=n.memoizedProps,F=Nr(r,g),f.props=F,K=n.pendingProps,j=f.context,z=r.contextType,C=fa,typeof z=="object"&&z!==null&&(C=qe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==C)&&Mg(n,f,o,C),_s=!1,j=n.memoizedState,f.state=j,Ho(n,o,f,h),qo();var q=n.memoizedState;g!==K||j!==q||_s||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof E=="function"&&(Rf(n,r,E,o),q=n.memoizedState),(F=_s||Og(n,r,F,o,j,q,C)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ir(n,e.child,null,h),n.child=Ir(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Yg(e,n,r,o){return Tr(),n.flags|=256,He(e,n,r,o),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Lp()}}function Mf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=vn),e}function Xg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Ts(n):Ss(),(e=ne)?(e=i_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Cp(e),r.return=n,n.child=r,Be=n,ne=null)):e=null,e===null)throw gs(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ss(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=Er(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Of(r),o.childLanes=Mf(e,g,r),n.memoizedState=Df,Yo(null,o)):(Ts(n),Vf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=kf(e,n,r)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=Er(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ir(n,e.child,null,r),o=n.child,o.memoizedState=Of(r),o.childLanes=Mf(e,g,r),n.memoizedState=Df,n=Yo(null,o));else if(Ts(n),pd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Uo({value:o,source:null,stack:null}),n=kf(e,n,r)}else if(we||ga(e,n,r,!1),g=(r&e.childLanes)!==0,we||g){if(g=Wt,g!==null&&(o=po(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,vr(e,o),un(g,e,o),Nf;md(E)||ic(),n=kf(e,n,r)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ne=On(E.nextSibling),Be=n,kt=!0,ps=null,xn=!1,e!==null&&Dp(n,e),n=Vf(n,o.children),n.flags|=4096);return n}return h?(Ss(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=Mi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Mi(z,E):(E=Er(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Yo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Of(r):(h=E.cachePool,h!==null?(C=be._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Lp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Mf(e,g,r),n.memoizedState=Df,Yo(e.child,o)):(Ts(n),r=e.child,e=r.sibling,r=Mi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Vf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function kf(e,n,r){return Ir(n,e.child,null,r),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $g(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xh(e.return,n,r)}function Uf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Zg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(pe,g),He(e,n,o,r),o=kt?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$g(e,r,n);else if(e.tag===19)$g(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Uu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Uf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Uf(n,!0,r,null,f,o);break;case"together":Uf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ga(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Mi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Mi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function S1(e,n,r){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),ys(n,be,e.memoizedState.cache),Tr();break;case 27:case 5:er(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Xg(e,n,r):(Ts(n),e=zi(e,n,r),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ga(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Zg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(pe,pe.current),o)break;return null;case 22:return n.lanes=0,Hg(e,n,r,n.pendingProps);case 24:ys(n,be,e.memoizedState.cache)}return zi(e,n,r)}function Jg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Lf(e,r)&&(n.flags&128)===0)return we=!1,S1(e,n,r);we=(e.flags&131072)!==0}else we=!1,kt&&(n.flags&1048576)!==0&&xp(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=wr(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=Nr(e,o),n.tag=1,n=Kg(null,n,e,o,r)):(n.tag=0,n=xf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===lt){n.tag=11,n=jg(null,n,e,o,r);break t}else if(h===w){n.tag=14,n=Bg(null,n,e,o,r);break t}}throw n=te(e)||e,Error(a(306,n,""))}}return n;case 0:return xf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Nr(o,n.pendingProps),Kg(e,n,o,h,r);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Ho(n,o,null,r);var g=n.memoizedState;if(o=g.cache,ys(n,be,o),o!==f.cache&&$h(n,[be],r,!0),qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yg(e,n,o,r);break t}else if(o!==h){h=In(Error(a(424)),n),Uo(h),n=Yg(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=On(e.firstChild),Be=n,kt=!0,ps=null,xn=!0,r=Hp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Tr(),o===h){n=zi(e,n,r);break t}He(e,n,o,r)}n=n.child}return n;case 26:return Ku(e,n),e===null?(r=u_(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,e=n.pendingProps,o=cc(Rt.current).createElement(r),o[Ee]=n,o[Ve]=e,Fe(o,r,e),Te(o),n.stateNode=o):n.memoizedState=u_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return er(n),e===null&&kt&&(o=n.stateNode=a_(n.type,n.pendingProps,Rt.current),Be=n,xn=!0,h=ne,xs(n.type)?(gd=h,ne=On(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,r),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ne)&&(o=J1(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,Be=n,ne=On(o.firstChild),xn=!1,h=!0):h=!1),h||gs(n)),er(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:g!==null&&hd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,d1,null,null,r),ul._currentValue=h),Ku(e,n),He(e,n,o,r),n.child;case 6:return e===null&&kt&&((e=r=ne)&&(r=W1(r,n.pendingProps,xn),r!==null?(n.stateNode=r,Be=n,ne=null,e=!0):e=!1),e||gs(n)),null;case 13:return Xg(e,n,r);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ir(n,null,o,r):He(e,n,o,r),n.child;case 11:return jg(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),He(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,br(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,r),n.child;case 14:return Bg(e,n,n.type,n.pendingProps,r);case 15:return qg(e,n,n.type,n.pendingProps,r);case 19:return Zg(e,n,r);case 31:return T1(e,n,r);case 22:return Hg(e,n,r,n.pendingProps);case 24:return br(n),o=qe(be),e===null?(h=Wh(),h===null&&(h=Wt,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},ef(n),ys(n,be,h)):((e.lanes&r)!==0&&(nf(e,n),Ho(n,null,null,r),qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,be,o)):(o=f.cache,ys(n,be,o),o!==h.cache&&$h(n,[be],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ji(e){e.flags|=4}function Pf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(wy())e.flags|=8192;else throw Rr=Ou,tf}else e.flags&=-16777217}function Wg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!m_(n))if(wy())e.flags|=8192;else throw Rr=Ou,tf}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ca|=n)}function Xo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function b1(e,n,r){var o=n.pendingProps;switch(Gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(be),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pa(n)?ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ji(n),f!==null?(ie(n),Wg(n,f)):(ie(n),Pf(n,h,null,o,r))):f?f!==e.memoizedState?(ji(n),ie(n),Wg(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ji(n),ie(n),Pf(n,h,e,o,r)),null;case 27:if(Kr(n),r=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=rt.current,pa(n)?Op(n):(e=a_(h,o,r),n.stateNode=e,ji(n))}return ie(n),null;case 5:if(Kr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=rt.current,pa(n))Op(n);else{var g=cc(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ji(n)}}return ie(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Rt.current,pa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Xy(e.nodeValue,r)),e||gs(n,!0)}else e=cc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else r=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),ie(n),null);case 4:return re(),e===null&&ad(n.stateNode.containerInfo),ie(n),null;case 10:return Ui(n.type),ie(n),null;case 19:if(Y(pe),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Xo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ip(r,e),r=r.sibling;return nt(pe,pe.current&1|2),kt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>tc&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ie(n),null}else 2*We()-o.renderingStartTime>tc&&r!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,r=pe.current,nt(pe,h?r&1|2:r&1),kt&&Vi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return yn(n),of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Ar),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(be),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function A1(e,n){switch(Gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(be),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(pe),null;case 4:return re(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),of(),e!==null&&Y(Ar),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(be),null;case 25:return null;default:return null}}function ty(e,n){switch(Gh(n),n.tag){case 3:Ui(be),re();break;case 26:case 27:case 5:Kr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Y(pe);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),of(),e!==null&&Y(Ar);break;case 24:Ui(be)}}function $o(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Yt(n,n.return,E)}}function bs(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=r,z=E;try{z()}catch(F){Yt(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){Yt(n,n.return,F)}}function ey(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Gp(n,r)}catch(o){Yt(e,e.return,o)}}}function ny(e,n,r){r.props=Nr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Zo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Yt(e,n,h)}}function _i(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function iy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function zf(e,n,r){try{var o=e.stateNode;Q1(o,e.type,r,n),o[Ve]=n}catch(h){Yt(e,e.return,h)}}function sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&xs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,r),e=e.sibling;e!==null;)Bf(e,n,r),e=e.sibling}function $u(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for($u(e,n,r),e=e.sibling;e!==null;)$u(e,n,r),e=e.sibling}function ry(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,r),n[Ee]=e,n[Ve]=r}catch(f){Yt(e,e.return,f)}}var Bi=!1,Re=!1,qf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function w1(e,n){if(e=e.containerInfo,ud=yc,e=_p(e),Vh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,C=-1,z=0,F=0,K=e,j=null;e:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(C=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===r&&++z===h&&(E=g),j===f&&++F===o&&(C=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(cd={focusedElem:e,selectionRange:r},yc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=Nr(r.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)dd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function oy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(e,r),o&4&&$o(5,r);break;case 1:if(Hi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(r,r.return,g)}else{var h=Nr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(r,r.return,g)}}o&64&&ey(r),o&512&&Zo(r,r.return);break;case 3:if(Hi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Gp(e,n)}catch(g){Yt(r,r.return,g)}}break;case 27:n===null&&o&4&&ry(r);case 26:case 5:Hi(e,r),n===null&&o&4&&iy(r),o&512&&Zo(r,r.return);break;case 12:Hi(e,r);break;case 31:Hi(e,r),o&4&&cy(e,r);break;case 13:Hi(e,r),o&4&&hy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=V1.bind(null,r),tS(e,r))));break;case 22:if(o=r.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Bi;var f=Re;Bi=o,(Re=n)&&!f?Fi(e,r,(r.subtreeFlags&8772)!==0):Hi(e,r),Bi=h,Re=f}break;case 30:break;default:Hi(e,r)}}function ly(e){var n=e.alternate;n!==null&&(e.alternate=null,ly(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function qi(e,n,r){for(r=r.child;r!==null;)uy(e,n,r),r=r.sibling}function uy(e,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Re||_i(r,n),qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||_i(r,n);var o=oe,h=rn;xs(r.type)&&(oe=r.stateNode,rn=!1),qi(e,n,r),al(r.stateNode),oe=o,rn=h;break;case 5:Re||_i(r,n);case 6:if(o=oe,h=rn,oe=null,qi(e,n,r),oe=o,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:oe!==null&&(rn?(e=oe,e_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ua(e)):e_(oe,r.stateNode));break;case 4:o=oe,h=rn,oe=r.stateNode.containerInfo,rn=!0,qi(e,n,r),oe=o,rn=h;break;case 0:case 11:case 14:case 15:bs(2,r,n),Re||bs(4,r,n),qi(e,n,r);break;case 1:Re||(_i(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ny(r,n,o)),qi(e,n,r);break;case 21:qi(e,n,r);break;case 22:Re=(o=Re)||r.memoizedState!==null,qi(e,n,r),Re=o;break;default:qi(e,n,r)}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(r){Yt(n,n.return,r)}}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(r){Yt(n,n.return,r)}}function R1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ay),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var r=R1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=k1.bind(null,e,o);o.then(h,h)}})}function an(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){oe=E.stateNode,rn=!1;break t}break;case 5:oe=E.stateNode,rn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(oe===null)throw Error(a(160));uy(f,g,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,e),n=n.sibling}var Kn=null;function fy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(bs(3,e,e.return),$o(3,e),bs(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Re||r===null||_i(r,r.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Kn;if(an(n,e),on(e),o&512&&(Re||r===null||_i(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,r),f[Ee]=e,Te(f),o=f;break t;case"link":var g=f_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=f_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else d_(h,e.type,e.stateNode);else e.stateNode=h_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?d_(h,e.type,e.stateNode):h_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zf(e,e.memoizedProps,r.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Re||r===null||_i(r,r.return)),r!==null&&o&4&&zf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Re||r===null||_i(r,r.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(dc=null,h=Kn,Kn=hc(n.containerInfo),an(n,e),Kn=h,on(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(at){Yt(e,e.return,at)}qf&&(qf=!1,dy(e));break;case 4:o=Kn,Kn=hc(e.stateNode.containerInfo),an(n,e),on(e),Kn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wu=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,z=Bi,F=Re;if(Bi=z||h,Re=F||C,an(n,e),Re=F,Bi=z,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||Bi||Re||xr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Yt(C,C.return,at)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(at){Yt(C,C.return,at)}}}else if(n.tag===18){if(r===null){C=n;try{var q=C.stateNode;h?n_(q,!0):n_(C.stateNode,!1)}catch(at){Yt(C,C.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Zu(e,r))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(sy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=jf(e);$u(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(sn(g,""),r.flags&=-33);var E=jf(e);$u(e,E,g);break;case 3:case 4:var C=r.stateNode.containerInfo,z=jf(e);Bf(e,z,C);break;default:throw Error(a(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bs(4,n,n.return),xr(n);break;case 1:_i(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ny(n,n.return,r),xr(n);break;case 27:al(n.stateNode);case 26:case 5:_i(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Fi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,r),$o(4,f);break;case 1:if(Fi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Fp(C[h],E)}catch(z){Yt(o,o.return,z)}}r&&g&64&&ey(f),Zo(f,f.return);break;case 27:ry(f);case 26:case 5:Fi(h,f,r),r&&o===null&&g&4&&iy(f),Zo(f,f.return);break;case 12:Fi(h,f,r);break;case 31:Fi(h,f,r),r&&g&4&&cy(h,f);break;case 13:Fi(h,f,r),r&&g&4&&hy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,r),Zo(f,f.return);break;case 30:break;default:Fi(h,f,r)}n=n.sibling}}function Hf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Lo(r))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function Yn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(e,n,r,o),n=n.sibling}function my(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,r,o),h&2048&&$o(9,n);break;case 1:Yn(e,n,r,o);break;case 3:Yn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){Yn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else Yn(e,n,r,o);break;case 31:Yn(e,n,r,o);break;case 13:Yn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,r,o):Jo(e,n):f._visibility&2?Yn(e,n,r,o):(f._visibility|=2,wa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(g,n);break;case 24:Yn(e,n,r,o),h&2048&&Ff(n.alternate,n);break;default:Yn(e,n,r,o)}}function wa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:wa(f,g,E,C,h),$o(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?wa(f,g,E,C,h):Jo(f,g):(F._visibility|=2,wa(f,g,E,C,h)),h&&z&2048&&Hf(g.alternate,g);break;case 24:wa(f,g,E,C,h),h&&z&2048&&Ff(g.alternate,g);break;default:wa(f,g,E,C,h)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Jo(r,o),h&2048&&Hf(o.alternate,o);break;case 24:Jo(r,o),h&2048&&Ff(o.alternate,o);break;default:Jo(r,o)}n=n.sibling}}var Wo=8192;function Ra(e,n,r){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)py(e,n,r),e=e.sibling}function py(e,n,r){switch(e.tag){case 26:Ra(e,n,r),e.flags&Wo&&e.memoizedState!==null&&fS(r,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,r);break;case 3:case 4:var o=Kn;Kn=hc(e.stateNode.containerInfo),Ra(e,n,r),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,Ra(e,n,r),Wo=o):Ra(e,n,r));break;default:Ra(e,n,r)}}function gy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,_y(o,e)}gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&bs(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):tl(e);break;default:tl(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,_y(o,e)}gy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bs(8,n,n.return),Ju(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function _y(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:bs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(ly(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var I1={getCacheForType:function(e){var n=qe(be),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(be).controller.signal}},C1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Ct=null,xt=0,Kt=0,_n=null,As=!1,Ia=!1,Gf=!1,Gi=0,fe=0,ws=0,Dr=0,Qf=0,vn=0,Ca=0,el=null,ln=null,Kf=!1,Wu=0,vy=0,tc=1/0,ec=null,Rs=null,De=0,Is=null,Na=null,Qi=0,Yf=0,Xf=null,Ey=null,nl=0,$f=null;function En(){return(Ht&2)!==0&&xt!==0?xt&-xt:H.T!==null?nd():nu()}function Ty(){if(vn===0)if((xt&536870912)===0||kt){var e=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function un(e,n,r){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Cs(e,xt,vn,!1)),rr(e,r),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(Dr|=r),fe===4&&Cs(e,xt,vn,!1)),vi(e))}function Sy(e,n,r){if((Ht&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?D1(e,n):Jf(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Cs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!N1(r)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=el;var C=E.current.memoizedState.isDehydrated;if(C&&(xa(E,g).flags|=256),g=Jf(E,g,!1),g!==2){if(Gf&&!C){E.errorRecoveryDisabledLanes|=f,Dr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){xa(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,vn,!As);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-We(),10<h)){if(Cs(o,n,vn,!As),ei(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=Wy(by.bind(null,o,r,ln,ec,Kf,n,vn,Dr,Ca,As,f,"Throttled",-0,0),h);break t}by(o,r,ln,ec,Kf,n,vn,Dr,Ca,As,f,null,-0,0)}}break}while(!0);vi(e)}function by(e,n,r,o,h,f,g,E,C,z,F,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},py(n,f,K);var at=(f&62914560)===f?Wu-We():(f&4194048)===f?vy-We():0;if(at=dS(K,at),at!==null){Qi=f,e.cancelPendingCommit=at(Dy.bind(null,e,n,f,r,o,h,g,E,C,F,K,null,j,q)),Cs(e,f,g,!z);return}}Dy(e,n,f,r,o,h,g,E,C)}function N1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,r,o){n&=~Qf,n&=~Dr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&ar(e,r,n)}function nc(){return(Ht&6)===0?(il(0),!1):!0}function Zf(){if(Ct!==null){if(Kt===0)var e=Ct.return;else e=Ct,ki=Sr=null,df(e),Ea=null,zo=0,e=Ct;for(;e!==null;)ty(e.alternate,e),e=e.return;Ct=null}}function xa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,X1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qi=0,Zf(),Wt=e,Ct=r=Mi(e.current,null),xt=n,Kt=0,_n=null,As=!1,Ia=Pn(e,n),Gf=!1,Ca=vn=Qf=Dr=ws=fe=0,ln=el=null,Kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,bu(),r}function Ay(e,n){wt=null,H.H=Ko,n===va||n===Du?(n=jp(),Kt=3):n===tf?(n=jp(),Kt=4):Kt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ct===null&&(fe=1,Gu(e,In(n,e.current)))}function wy(){var e=gn.current;return e===null?!0:(xt&4194048)===xt?Dn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Dn:!1}function Ry(){var e=H.H;return H.H=Ko,e===null?Ko:e}function Iy(){var e=H.A;return H.A=I1,e}function ic(){fe=4,As||(xt&4194048)!==xt&&gn.current!==null||(Ia=!0),(ws&134217727)===0&&(Dr&134217727)===0||Wt===null||Cs(Wt,xt,vn,!1)}function Jf(e,n,r){var o=Ht;Ht|=2;var h=Ry(),f=Iy();(Wt!==e||xt!==n)&&(ec=null,xa(e,n)),n=!1;var g=fe;t:do try{if(Kt!==0&&Ct!==null){var E=Ct,C=_n;switch(Kt){case 8:Zf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var z=Kt;if(Kt=0,_n=null,Da(e,E,C,z),r&&Ia){g=0;break t}break;default:z=Kt,Kt=0,_n=null,Da(e,E,C,z)}}x1(),g=fe;break}catch(F){Ay(e,F)}while(!0);return n&&e.shellSuspendCounter++,ki=Sr=null,Ht=o,H.H=h,H.A=f,Ct===null&&(Wt=null,xt=0,bu()),g}function x1(){for(;Ct!==null;)Cy(Ct)}function D1(e,n){var r=Ht;Ht|=2;var o=Ry(),h=Iy();Wt!==e||xt!==n?(ec=null,tc=We()+500,xa(e,n)):Ia=Pn(e,n);t:do try{if(Kt!==0&&Ct!==null){n=Ct;var f=_n;e:switch(Kt){case 1:Kt=0,_n=null,Da(e,n,f,1);break;case 2:case 9:if(Pp(f)){Kt=0,_n=null,Ny(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),vi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Pp(f)?(Kt=0,_n=null,Ny(n)):(Kt=0,_n=null,Da(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?m_(g):E.stateNode.complete){Kt=0,_n=null;var C=E.sibling;if(C!==null)Ct=C;else{var z=E.return;z!==null?(Ct=z,sc(z)):Ct=null}break e}}Kt=0,_n=null,Da(e,n,f,5);break;case 6:Kt=0,_n=null,Da(e,n,f,6);break;case 8:Zf(),fe=6;break t;default:throw Error(a(462))}}O1();break}catch(F){Ay(e,F)}while(!0);return ki=Sr=null,H.H=o,H.A=h,Ht=r,Ct!==null?0:(Wt=null,xt=0,bu(),fe)}function O1(){for(;Ct!==null&&!Ih();)Cy(Ct)}function Cy(e){var n=Jg(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?sc(e):Ct=n}function Ny(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Qg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Qg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:df(n);default:ty(r,n),n=Ct=Ip(n,Gi),n=Jg(r,n,Gi)}e.memoizedProps=e.pendingProps,n===null?sc(e):Ct=n}function Da(e,n,r,o){ki=Sr=null,df(n),Ea=null,zo=0;var h=n.return;try{if(E1(e,h,n,r,xt)){fe=1,Gu(e,In(r,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;fe=1,Gu(e,In(r,e.current)),Ct=null;return}n.flags&32768?(kt||o===1?e=!0:Ia||(xt&536870912)!==0?e=!1:(As=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),xy(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){xy(n,As);return}e=n.return;var r=b1(n.alternate,n,Gi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);fe===0&&(fe=5)}function xy(e,n){do{var r=A1(e.alternate,e);if(r!==null){r.flags&=32767,Ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=r}while(e!==null);fe=6,Ct=null}function Dy(e,n,r,o,h,f,g,E,C){e.cancelPendingCommit=null;do rc();while(De!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,xh(e,r,f,g,E,C),e===Wt&&(Ct=Wt=null,xt=0),Na=n,Is=e,Qi=r,Yf=f,Xf=h,Ey=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,U1(ss,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,g=Ht,Ht|=4;try{w1(e,n,r)}finally{Ht=g,et.p=h,H.T=o}}De=1,Oy(),My(),Vy()}}function Oy(){if(De===1){De=0;var e=Is,n=Na,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var h=Ht;Ht|=4;try{fy(n,e);var f=cd,g=_p(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&yp(E.ownerDocument.documentElement,E)){if(C!==null&&Vh(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=E.textContent.length,pt=Math.min(C.start,at),Jt=C.end===void 0?pt:Math.min(C.end,at);!q.extend&&pt>Jt&&(g=Jt,Jt=pt,pt=g);var V=gp(E,pt),D=gp(E,Jt);if(V&&D&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=K.createRange();P.setStart(V.node,V.offset),q.removeAllRanges(),pt>Jt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}yc=!!ud,cd=ud=null}finally{Ht=h,et.p=o,H.T=r}}e.current=n,De=2}}function My(){if(De===2){De=0;var e=Is,n=Na,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var h=Ht;Ht|=4;try{oy(e,n.alternate,n)}finally{Ht=h,et.p=o,H.T=r}}De=3}}function Vy(){if(De===4||De===3){De=0,Xl();var e=Is,n=Na,r=Qi,o=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Na=Is=null,ky(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Ni(r),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=h}}(Qi&3)!==0&&rc(),vi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===$f?nl++:(nl=0,$f=e):nl=0,il(0)}}function ky(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function rc(){return Oy(),My(),Vy(),Uy()}function Uy(){if(De!==5)return!1;var e=Is,n=Yf;Yf=0;var r=Ni(Qi),o=H.T,h=et.p;try{et.p=32>r?32:r,H.T=null,r=Xf,Xf=null;var f=Is,g=Qi;if(De=0,Na=Is=null,Qi=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,yy(f.current),my(f,f.current,g,r),Ht=E,il(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{et.p=h,H.T=o,ky(e,n)}}function Ly(e,n,r){n=In(r,n),n=Cf(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(rr(e,2),vi(e))}function Yt(e,n,r){if(e.tag===3)Ly(e,e,r);else for(;n!==null;){if(n.tag===3){Ly(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=In(r,e),r=Pg(2),o=Es(n,r,2),o!==null&&(zg(r,o,n,e),rr(o,2),vi(o));break}}n=n.return}}function Wf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new C1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Gf=!0,h.add(r),e=M1.bind(null,e,n,r),n.then(e,e))}function M1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(xt&r)===r&&(fe===4||fe===3&&(xt&62914560)===xt&&300>We()-Wu?(Ht&2)===0&&xa(e,0):Qf|=r,Ca===xt&&(Ca=0)),vi(e)}function Py(e,n){n===0&&(n=eu()),e=vr(e,n),e!==null&&(rr(e,n),vi(e))}function V1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Py(e,r)}function k1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Py(e,r)}function U1(e,n){return xe(e,n)}var ac=null,Oa=null,td=!1,oc=!1,ed=!1,Ns=0;function vi(e){e!==Oa&&e.next===null&&(Oa===null?ac=Oa=e:Oa=Oa.next=e),oc=!0,td||(td=!0,P1())}function il(e,n){if(!ed&&oc){ed=!0;do for(var r=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,qy(o,f))}else f=xt,f=ei(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(r=!0,qy(o,f));o=o.next}while(r);ed=!1}}function L1(){zy()}function zy(){oc=td=!1;var e=0;Ns!==0&&Y1()&&(e=Ns);for(var n=We(),r=null,o=ac;o!==null;){var h=o.next,f=jy(o,n);f===0?(o.next=null,r===null?ac=h:r.next=h,h===null&&(Oa=r)):(r=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}De!==0&&De!==5||il(e),Ns!==0&&(Ns=0)}function jy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,C=h[g];C===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Nh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=xt,r=ei(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Pn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&is(o),Ni(r)){case 2:case 8:r=fo;break;case 32:r=ss;break;case 268435456:r=$l;break;default:r=ss}return o=By.bind(null,e),r=xe(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function By(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(rc()&&e.callbackNode!==r)return null;var o=xt;return o=ei(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Sy(e,o,n),jy(e,We()),e.callbackNode!=null&&e.callbackNode===r?By.bind(null,e):null)}function qy(e,n){if(rc())return null;Sy(e,n,!0)}function P1(){$1(function(){(Ht&6)!==0?xe(ho,L1):zy()})}function nd(){if(Ns===0){var e=ya;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ns=e}return Ns}function Hy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function Fy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function z1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Hy((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Hy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var C=g?Fy(h,g):new FormData(h);Sf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Fy(h,g):new FormData(h),Sf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var sd=Ph[id],j1=sd.toLowerCase(),B1=sd[0].toUpperCase()+sd.slice(1);Qn(j1,"on"+B1)}Qn(Tp,"onAnimationEnd"),Qn(Sp,"onAnimationIteration"),Qn(bp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(i1,"onTransitionRun"),Qn(s1,"onTransitionStart"),Qn(r1,"onTransitionCancel"),Qn(Ap,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Gy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=C}}}}function Nt(e,n){var r=n[Zr];r===void 0&&(r=n[Zr]=new Set);var o=e+"__bubble";r.has(o)||(Qy(n,e,2,!1),r.add(o))}function rd(e,n,r){var o=0;n&&(o|=4),Qy(r,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[lc]){e[lc]=!0,go.forEach(function(r){r!=="selectionchange"&&(q1.has(r)||rd(r,!1,e),rd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,rd("selectionchange",!1,n))}}function Qy(e,n,r,o){switch(T_(n)){case 2:var h=gS;break;case 8:h=yS;break;default:h=Td}r=h.bind(null,n,r,e),h=void 0,!hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function od(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}cs(function(){var z=f,F=bn(r),K=[];t:{var j=wp.get(e);if(j!==void 0){var q=fi,at=e;switch(e){case"keypress":if(dr(r)===0)break t;case"keydown":case"keyup":q=vu;break;case"focusin":at="focus",q=pr;break;case"focusout":at="blur",q=pr;break;case"beforeblur":case"afterblur":q=pr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Tp:case Sp:case bp:q=fu;break;case Ap:q=T;break;case"scroll":case"scrollend":q=Co;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=At}var pt=(n&4)!==0,Jt=!pt&&(e==="scroll"||e==="scrollend"),V=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var G=D;if(P=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||P===null||V===null||(G=qn(D,V),G!=null&&pt.push(rl(D,G,P))),Jt)break;D=D.return}0<pt.length&&(j=new q(j,at,null,r,F),K.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==wo&&(at=r.relatedTarget||r.fromElement)&&(ri(at)||at[ii]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=r.relatedTarget||r.toElement,q=z,at=at?ri(at):null,at!==null&&(Jt=c(at),pt=at.tag,at!==Jt||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(q=null,at=z),q!==at)){if(pt=No,G="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Oi,G="onPointerLeave",V="onPointerEnter",D="pointer"),Jt=q==null?j:fn(q),P=at==null?j:fn(at),j=new pt(G,D+"leave",q,r,F),j.target=Jt,j.relatedTarget=P,G=null,ri(F)===z&&(pt=new pt(V,D+"enter",at,r,F),pt.target=P,pt.relatedTarget=Jt,G=pt),Jt=G,q&&at)e:{for(pt=H1,V=q,D=at,P=0,G=V;G;G=pt(G))P++;G=0;for(var ct=D;ct;ct=pt(ct))G++;for(;0<P-G;)V=pt(V),P--;for(;0<G-P;)D=pt(D),G--;for(;P--;){if(V===D||D!==null&&V===D.alternate){pt=V;break e}V=pt(V),D=pt(D)}pt=null}else pt=null;q!==null&&Ky(K,j,q,pt,!1),at!==null&&Jt!==null&&Ky(K,Jt,at,pt,!0)}}t:{if(j=z?fn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var jt=cp;else if(lp(j))if(hp)jt=t1;else{jt=JT;var ot=ZT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ea(z.elementType)&&(jt=cp):jt=WT;if(jt&&(jt=jt(e,z))){up(K,jt,r,F);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&So(j,"number",j.value)}switch(ot=z?fn(z):window,e){case"focusin":(lp(ot)||ot.contentEditable==="true")&&(ua=ot,kh=z,Vo=null);break;case"focusout":Vo=kh=ua=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,vp(K,r,F);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":vp(K,r,F)}var It;if(qt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else la?gr(e,r)&&(Dt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Dt="onCompositionStart");Dt&&(pi&&r.locale!=="ko"&&(la||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&la&&(It=Io()):(hi=F,Ro="value"in hi?hi.value:hi.textContent,la=!0)),ot=uc(z,Dt),0<ot.length&&(Dt=new mi(Dt,e,null,r,F),K.push({event:Dt,listeners:ot}),It?Dt.data=It:(It=oa(r),It!==null&&(Dt.data=It)))),(It=wn?KT(e,r):YT(e,r))&&(Dt=uc(z,"onBeforeInput"),0<Dt.length&&(ot=new mi("onBeforeInput","beforeinput",null,r,F),K.push({event:ot,listeners:Dt}),ot.data=It)),z1(K,e,z,r,F)}Gy(K,n)})}function rl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function uc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&o.unshift(rl(e,h,f)),h=qn(e,n),h!=null&&o.push(rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function H1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=qn(r,f),z!=null&&g.unshift(rl(r,z,C))):h||(z=qn(r,f),z!=null&&g.push(rl(r,z,C)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var F1=/\r\n?/g,G1=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(F1,`
`).replace(G1,"")}function Xy(e,n){return n=Yy(n),Yy(e)===n}function Zt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,o);break;case"style":Ao(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=na(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=na(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Wr(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uu.get(r)||r,Wr(e,r,o))}}function ld(e,n,r,o,h,f){switch(r){case"style":Ao(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Wr(e,r,o)}}}function Fe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,r,null)}}h&&Zt(e,n,"srcSet",r.srcSet,r,null),o&&Zt(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Zt(e,n,o,F,r,null)}}au(e,f,E,C,z,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?as(e,!!o,n,!1):r!=null&&as(e,!!o,r,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,r,null)}os(e,o,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,C,o,r,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)Nt(sl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,z,o,r,null)}return;default:if(ea(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&ld(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Zt(e,n,E,o,r,null))}function Q1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,F=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,K)}}for(var j in o){var q=o[j];if(K=r[j],o.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Zt(e,n,j,q,o,K)}}ta(e,g,E,C,z,F,f,h);return;case"select":q=g=E=j=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Zt(e,n,h,f,o,C)}n=E,r=g,o=q,j!=null?as(e,!!r,j,!1):!!o!=!!r&&(n!=null?as(e,!!r,n,!0):as(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}ou(e,j,q);return;case"option":for(var at in r)if(j=r[at],r.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Zt(e,n,at,null,o,j)}for(C in o)if(j=o[C],q=r[C],o.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Zt(e,n,C,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&Zt(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Zt(e,n,z,j,o,q)}return;default:if(ea(n)){for(var Jt in r)j=r[Jt],r.hasOwnProperty(Jt)&&j!==void 0&&!o.hasOwnProperty(Jt)&&ld(e,n,Jt,void 0,o,j);for(F in o)j=o[F],q=r[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||ld(e,n,F,j,o,q);return}}for(var V in r)j=r[V],r.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&Zt(e,n,V,null,o,j);for(K in o)j=o[K],q=r[K],!o.hasOwnProperty(K)||j===q||j==null&&q==null||Zt(e,n,K,j,o,q)}function $y(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function K1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&$y(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],z=C.startTime;if(z>E)break;var F=C.transferSize,K=C.initiatorType;F&&$y(K)&&(C=C.responseEnd,g+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function Y1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,X1=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,$1=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(e){return t_.resolve(null).then(e).catch(Z1)}:Wy;function Z1(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function e_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")al(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,al(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&al(e.ownerDocument.body);r=h}while(r);Ua(n)}function n_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dd(r),Jr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function J1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function W1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function i_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tS(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function s_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function r_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function a_(e,n,r){switch(n=cc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var Mn=new Map,o_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=et.d;et.d={f:eS,r:nS,D:iS,C:sS,L:rS,m:aS,X:lS,S:oS,M:uS};function eS(){var e=Ki.f(),n=nc();return e||n}function nS(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Ag(n):Ki.r(e)}var Ma=typeof document>"u"?null:document;function l_(e,n,r){var o=Ma;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function iS(e){Ki.D(e),l_("dns-prefetch",e,null)}function sS(e,n){Ki.C(e,n),l_("preconnect",e,n)}function rS(e,n,r){Ki.L(e,n,r);var o=Ma;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}Mn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function aS(e,n){Ki.m(e,n);var r=Ma;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Mn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Mn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ll(f)))return}o=r.createElement("link"),Fe(o,"link",e),Te(o),r.head.appendChild(o)}}}function oS(e,n,r){Ki.S(e,n,r);var o=Ma;if(o&&e){var h=ai(o).hoistableStyles,f=Va(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ol(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Mn.get(f))&&yd(e,r);var C=g=o.createElement("link");Te(C),Fe(C,"link",e),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function lS(e,n){Ki.X(e,n);var r=Ma;if(r&&e){var o=ai(r).hoistableScripts,h=ka(e),f=o.get(h);f||(f=r.querySelector(ll(h)),f||(e=A({src:e,async:!0},n),(n=Mn.get(h))&&_d(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function uS(e,n){Ki.M(e,n);var r=Ma;if(r&&e){var o=ai(r).hoistableScripts,h=ka(e),f=o.get(h);f||(f=r.querySelector(ll(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&_d(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function u_(e,n,r,o){var h=(h=Rt.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Va(r.href),r=ai(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Va(r.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ol(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(e,r),f||cS(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(r),r=ai(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+nn(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function c_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function cS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",r),Te(n),e.head.appendChild(n))}function ka(e){return'[src="'+nn(e)+'"]'}function ll(e){return"script[async]"+e}function h_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Fe(o,"style",h),fc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Va(r.href);var f=e.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=c_(r),(h=Mn.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Fe(f,"link",o),n.state.loading|=4,fc(f,r.precedence,e),n.instance=f;case"script":return f=ka(r.src),(h=e.querySelector(ll(f)))?(n.instance=h,Te(h),h):(o=r,(h=Mn.get(f))&&(o=A({},r),_d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,r.precedence,e));return n.instance}function fc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function f_(e,n,r){if(dc===null){var o=new Map,h=dc=new Map;h.set(r,o)}else h=dc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[si]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function d_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function hS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Va(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Te(f);return}f=n.ownerDocument||n,o=c_(o),(h=Mn.get(h))&&yd(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Fe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=mc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var vd=0;function dS(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*K1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(mS,e),pc=null,mc.call(e))}function mS(e,n){if(!(n.state.loading&4)){var r=pc.get(e);if(r)var o=r.get(null);else{r=new Map,pc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function pS(e,n,r,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function p_(e,n,r,o,h,f,g,E,C,z,F,K){return e=new pS(e,n,r,g,C,z,F,K,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},ef(f),e}function g_(e){return e?(e=fa,e):fa}function y_(e,n,r,o,h,f){h=g_(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Es(e,o,n),r!==null&&(un(r,e,n),Bo(r,e,n))}function __(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ed(e,n){__(e,n),(e=e.alternate)&&__(e,n)}function v_(e){if(e.tag===13||e.tag===31){var n=vr(e,67108864);n!==null&&un(n,e,67108864),Ed(e,67108864)}}function E_(e){if(e.tag===13||e.tag===31){var n=En();n=or(n);var r=vr(e,n);r!==null&&un(r,e,n),Ed(e,n)}}var yc=!0;function gS(e,n,r,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,Td(e,n,r,o)}finally{et.p=f,H.T=h}}function yS(e,n,r,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,Td(e,n,r,o)}finally{et.p=f,H.T=h}}function Td(e,n,r,o){if(yc){var h=Sd(o);if(h===null)od(e,n,o,_c,r),S_(e,o);else if(vS(h,e,n,r,o))o.stopPropagation();else if(S_(e,o),n&4&&-1<_S.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-de(g);E.entanglements[1]|=C,g&=~C}vi(f),(Ht&6)===0&&(tc=We()+500,il(0))}}break;case 31:case 13:E=vr(f,2),E!==null&&un(E,f,2),nc(),Ed(f,2)}if(f=Sd(o),f===null&&od(e,n,o,_c,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,r)}}function Sd(e){return e=bn(e),bd(e)}var _c=null;function bd(e){if(_c=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function T_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case ho:return 2;case fo:return 8;case ss:case Ch:return 32;case $l:return 268435456;default:return 32}default:return 32}}var Ad=!1,Ds=null,Os=null,Ms=null,cl=new Map,hl=new Map,Vs=[],_S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&v_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function vS(e,n,r,o,h){switch(n){case"focusin":return Ds=fl(Ds,e,n,r,o,h),!0;case"dragenter":return Os=fl(Os,e,n,r,o,h),!0;case"mouseover":return Ms=fl(Ms,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,r,o,h)),!0}return!1}function b_(e){var n=ri(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,zn(e.priority,function(){E_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,zn(e.priority,function(){E_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Sd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);wo=o,r.target.dispatchEvent(o),wo=null}else return n=Sn(r),n!==null&&v_(n),e.blockedOn=r,!1;n.shift()}return!0}function A_(e,n,r){vc(e)&&r.delete(n)}function ES(){Ad=!1,Ds!==null&&vc(Ds)&&(Ds=null),Os!==null&&vc(Os)&&(Os=null),Ms!==null&&vc(Ms)&&(Ms=null),cl.forEach(A_),hl.forEach(A_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ES)))}var Tc=null;function w_(e){Tc!==e&&(Tc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(bd(o||r)===null)continue;break}var f=Sn(r);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ua(e){function n(C){return Ec(C,e)}Ds!==null&&Ec(Ds,e),Os!==null&&Ec(Os,e),Ms!==null&&Ec(Ms,e),cl.forEach(n),hl.forEach(n);for(var r=0;r<Vs.length;r++){var o=Vs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)b_(r),r.blockedOn===null&&Vs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ve]||null;if(typeof f=="function")g||w_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(bd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),w_(r)}}}function R_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}Sc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=En();y_(r,o,e,n,null,null)},Sc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;y_(e.current,2,null,e,null,null),nc(),n[ii]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vs.length&&n!==0&&n<Vs[r].priority;r++);Vs.splice(r,0,e),r===0&&b_(e)}};var I_=t.version;if(I_!=="19.2.0")throw Error(a(527,I_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var TS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Ln=bc.inject(TS),ze=bc}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Vg,f=kg,g=Ug;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=p_(e,1,!1,null,null,r,o,null,h,f,g,R_),e[ii]=n.current,ad(e),new wd(n)},ml.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Vg,g=kg,E=Ug,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=p_(e,1,!0,n,r??null,o,h,C,f,g,E,R_),n.context=g_(null),r=n.current,o=En(),o=or(o),h=vs(o),h.callback=null,Es(r,h,o),r=o,n.current.lanes=r,rr(n,r),vi(n),e[ii]=n.current,ad(e),new Sc(n)},ml.version="19.2.0",ml}var L_;function DS(){if(L_)return Cd.exports;L_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=xS(),Cd.exports}var OS=DS();const MS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),P_=s=>{const t=VS(s);return t.charAt(0).toUpperCase()+t.slice(1)},T0=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),kS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var US={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LS=zt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>zt.createElement("svg",{ref:y,...US,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:T0("lucide",l),...!c&&!kS(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,S])=>zt.createElement(_,S)),...Array.isArray(c)?c:[c]]));const ce=(s,t)=>{const i=zt.forwardRef(({className:a,...l},c)=>zt.createElement(LS,{ref:c,iconNode:t,className:T0(`lucide-${MS(P_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=P_(s),i};const PS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],zS=ce("activity",PS);const jS=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],z_=ce("app-window",jS);const BS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qS=ce("circle-check-big",BS);const HS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],FS=ce("download",HS);const GS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],S0=ce("file-text",GS);const QS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Kd=ce("globe",QS);const KS=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],j_=ce("layout-grid",KS);const YS=[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],Tm=ce("link-2-off",YS);const XS=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],B_=ce("link",XS);const $S=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jc=ce("loader-circle",$S);const ZS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JS=ce("log-out",ZS);const WS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yd=ce("plus",WS);const tb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],q_=ce("search",tb);const eb=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],nb=ce("server",eb);const ib=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],H_=ce("settings",ib);const sb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rb=ce("shield",sb);const ab=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],ob=ce("sliders-vertical",ab);const lb=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ub=ce("square-check-big",lb);const cb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],hb=ce("square",cb);const fb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],F_=ce("trash-2",fb);const db=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mb=ce("triangle-alert",db);const pb=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],G_=ce("wifi",pb);const gb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yb=ce("zap",gb),_b=()=>{};var Q_={};const b0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},vb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},A0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,S=c>>2,A=(c&3)<<4|p>>4;let k=(p&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(k=64)),a.push(i[S],i[A],i[k],i[Q])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(b0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):vb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new Eb;const k=c<<2|p>>4;if(a.push(k),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),A!==64){const J=_<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Eb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tb=function(s){const t=b0(s);return A0.encodeByteArray(t,!0)},Bc=function(s){return Tb(s).replace(/\./g,"")},w0=function(s){try{return A0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Sb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bb=()=>Sb().__FIREBASE_DEFAULTS__,Ab=()=>{if(typeof process>"u"||typeof Q_>"u")return;const s=Q_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},wb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&w0(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return _b()||bb()||Ab()||wb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},R0=s=>ch()?.emulatorHosts?.[s],Rb=s=>{const t=R0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},I0=()=>ch()?.config,C0=s=>ch()?.[`_${s}`];class Ib{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(s){return(await fetch(s,{credentials:"include"})).ok}function Cb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const Sl={};function Nb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?s.emulator.push(t):s.prod.push(t);return s}function xb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let K_=!1;function x0(s,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Sl[s]===t||Sl[s]||K_)return;Sl[s]=t;function i(k){return`__firebase__banner__${k}`}const a="__firebase__banner",c=Nb().prod.length>0;function d(){const k=document.getElementById(a);k&&k.remove()}function p(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function y(k,Q){k.setAttribute("width","24"),k.setAttribute("id",Q),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function _(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{K_=!0,d()},k}function S(k,Q){k.setAttribute("id",Q),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function A(){const k=xb(a),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),tt=i("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),ht=i("preprendIcon"),vt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const mt=k.element;p(mt),S(Z,tt);const lt=_();y(vt,ht),mt.append(vt,J,Z,lt),document.body.appendChild(mt)}c?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Db(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Ob(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function kb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ub(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Lb(){return!Ob()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pb(){try{return typeof indexedDB=="object"}catch{return!1}}function zb(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const jb="FirebaseError";class ns extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=jb,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Bb(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ns(l,p,a)}}function Bb(s,t){return s.replace(qb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const qb=/\{\$([^}]+)}/g;function Hb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ur(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(Y_(c)&&Y_(d)){if(!Ur(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Y_(s){return s!==null&&typeof s=="object"}function zl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function pl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function gl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function Fb(s,t){const i=new Gb(s,t);return i.subscribe.bind(i)}class Gb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Qb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Od),l.error===void 0&&(l.error=Od),l.complete===void 0&&(l.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Od(){}function hn(s){return s&&s._delegate?s._delegate:s}class Lr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Or="[DEFAULT]";class Kb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Ib;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Xb(t))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Or){return this.instances.has(t)}getOptions(t=Or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Yb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Or){return this.component?this.component.multipleInstances?t:Or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yb(s){return s===Or?void 0:s}function Xb(s){return s.instantiationMode==="EAGER"}class $b{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Kb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const Zb={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},Jb=Ot.INFO,Wb={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},tA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=Wb[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sm{constructor(t){this.name=t,this._logLevel=Jb,this._logHandler=tA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Zb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const eA=(s,t)=>t.some(i=>s instanceof i);let X_,$_;function nA(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iA(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D0=new WeakMap,Xd=new WeakMap,O0=new WeakMap,Md=new WeakMap,bm=new WeakMap;function sA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Hs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&D0.set(i,s)}).catch(()=>{}),bm.set(t,s),t}function rA(s){if(Xd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Xd.set(s,t)}let $d={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Xd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||O0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function aA(s){$d=s($d)}function oA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Vd(this),t,...i);return O0.set(a,t.sort?t.sort():[t]),Hs(a)}:iA().includes(s)?function(...t){return s.apply(Vd(this),t),Hs(D0.get(this))}:function(...t){return Hs(s.apply(Vd(this),t))}}function lA(s){return typeof s=="function"?oA(s):(s instanceof IDBTransaction&&rA(s),eA(s,nA())?new Proxy(s,$d):s)}function Hs(s){if(s instanceof IDBRequest)return sA(s);if(Md.has(s))return Md.get(s);const t=lA(s);return t!==s&&(Md.set(s,t),bm.set(t,s)),t}const Vd=s=>bm.get(s);function uA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Hs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Hs(d.result),y.oldVersion,y.newVersion,Hs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const cA=["get","getKey","getAll","getAllKeys","count"],hA=["put","add","delete","clear"],kd=new Map;function Z_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=hA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||cA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return kd.set(t,c),c}aA(s=>({...s,get:(t,i,a)=>Z_(t,i)||s.get(t,i,a),has:(t,i)=>!!Z_(t,i)||s.has(t,i)}));class fA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(dA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function dA(s){return s.getComponent()?.type==="VERSION"}const Zd="@firebase/app",J_="0.14.6";const Ji=new Sm("@firebase/app"),mA="@firebase/app-compat",pA="@firebase/analytics-compat",gA="@firebase/analytics",yA="@firebase/app-check-compat",_A="@firebase/app-check",vA="@firebase/auth",EA="@firebase/auth-compat",TA="@firebase/database",SA="@firebase/data-connect",bA="@firebase/database-compat",AA="@firebase/functions",wA="@firebase/functions-compat",RA="@firebase/installations",IA="@firebase/installations-compat",CA="@firebase/messaging",NA="@firebase/messaging-compat",xA="@firebase/performance",DA="@firebase/performance-compat",OA="@firebase/remote-config",MA="@firebase/remote-config-compat",VA="@firebase/storage",kA="@firebase/storage-compat",UA="@firebase/firestore",LA="@firebase/ai",PA="@firebase/firestore-compat",zA="firebase",jA="12.6.0";const Jd="[DEFAULT]",BA={[Zd]:"fire-core",[mA]:"fire-core-compat",[gA]:"fire-analytics",[pA]:"fire-analytics-compat",[_A]:"fire-app-check",[yA]:"fire-app-check-compat",[vA]:"fire-auth",[EA]:"fire-auth-compat",[TA]:"fire-rtdb",[SA]:"fire-data-connect",[bA]:"fire-rtdb-compat",[AA]:"fire-fn",[wA]:"fire-fn-compat",[RA]:"fire-iid",[IA]:"fire-iid-compat",[CA]:"fire-fcm",[NA]:"fire-fcm-compat",[xA]:"fire-perf",[DA]:"fire-perf-compat",[OA]:"fire-rc",[MA]:"fire-rc-compat",[VA]:"fire-gcs",[kA]:"fire-gcs-compat",[UA]:"fire-fst",[PA]:"fire-fst-compat",[LA]:"fire-vertex","fire-js":"fire-js",[zA]:"fire-js-all"};const qc=new Map,qA=new Map,Wd=new Map;function W_(s,t){try{s.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ya(s){const t=s.name;if(Wd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,s);for(const i of qc.values())W_(i,s);for(const i of qA.values())W_(i,s);return!0}function Am(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Vn(s){return s==null?!1:s.settings!==void 0}const HA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Pl("app","Firebase",HA);class FA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const no=jA;function M0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(i||(i=I0()),!i)throw Fs.create("no-options");const c=qc.get(l);if(c){if(Ur(i,c.options)&&Ur(a,c.config))return c;throw Fs.create("duplicate-app",{appName:l})}const d=new $b(l);for(const y of Wd.values())d.addComponent(y);const p=new FA(i,a,d);return qc.set(l,p),p}function V0(s=Jd){const t=qc.get(s);if(!t&&s===Jd&&I0())return M0();if(!t)throw Fs.create("no-app",{appName:s});return t}function Gs(s,t,i){let a=BA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Ya(new Lr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const GA="firebase-heartbeat-database",QA=1,Cl="firebase-heartbeat-store";let Ud=null;function k0(){return Ud||(Ud=uA(GA,QA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Fs.create("idb-open",{originalErrorMessage:s.message})})),Ud}async function KA(s){try{const i=(await k0()).transaction(Cl),a=await i.objectStore(Cl).get(U0(s));return await i.done,a}catch(t){if(t instanceof ns)Ji.warn(t.message);else{const i=Fs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function tv(s,t){try{const a=(await k0()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(t,U0(s)),await a.done}catch(i){if(i instanceof ns)Ji.warn(i.message);else{const a=Fs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function U0(s){return`${s.name}!${s.options.appId}`}const YA=1024,XA=30;class $A{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new JA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ev();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>XA){const l=WA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ev(),{heartbeatsToSend:i,unsentEntries:a}=ZA(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function ev(){return new Date().toISOString().substring(0,10)}function ZA(s,t=YA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),nv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),nv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class JA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pb()?zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await KA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function nv(s){return Bc(JSON.stringify({version:2,heartbeats:s})).length}function WA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function tw(s){Ya(new Lr("platform-logger",t=>new fA(t),"PRIVATE")),Ya(new Lr("heartbeat",t=>new $A(t),"PRIVATE")),Gs(Zd,J_,s),Gs(Zd,J_,"esm2020"),Gs("fire-js","")}tw("");var ew="firebase",nw="12.6.0";Gs(ew,nw,"app");function L0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iw=L0,P0=new Pl("auth","Firebase",L0());const Hc=new Sm("@firebase/auth");function sw(s,...t){Hc.logLevel<=Ot.WARN&&Hc.warn(`Auth (${no}): ${s}`,...t)}function xc(s,...t){Hc.logLevel<=Ot.ERROR&&Hc.error(`Auth (${no}): ${s}`,...t)}function Zn(s,...t){throw wm(s,...t)}function Ti(s,...t){return wm(s,...t)}function z0(s,t,i){const a={...iw(),[t]:i};return new Pl("auth","Firebase",a).create(t,{appName:s.name})}function $i(s){return z0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return P0.create(s,...t)}function yt(s,t,...i){if(!s)throw wm(t,...i)}function Yi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw xc(t),new Error(t)}function Wi(s,t){s||Yi(t)}function tm(){return typeof self<"u"&&self.location?.href||""}function rw(){return iv()==="http:"||iv()==="https:"}function iv(){return typeof self<"u"&&self.location?.protocol||null}function aw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rw()||Vb()||"connection"in navigator)?navigator.onLine:!0}function ow(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=Db()||kb()}get(){return aw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class j0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cw=new jl(3e4,6e4);function Ws(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function tr(s,t,i,a,l={}){return B0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=zl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return Mb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&eo(s.emulatorConfig.host)&&(_.credentials="include"),j0.fetch()(await q0(s,s.config.apiHost,i,p),_)})}async function B0(s,t,i){s._canInitEmulator=!1;const a={...lw,...t};try{const l=new fw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ac(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ac(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ac(s,"user-disabled",d);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw z0(s,S,_);Zn(s,S)}}catch(l){if(l instanceof ns)throw l;Zn(s,"network-request-failed",{message:String(l)})}}async function Bl(s,t,i,a,l={}){const c=await tr(s,t,i,a,l);return"mfaPendingCredential"in c&&Zn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function q0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Rm(s.config,l):`${s.config.apiScheme}://${l}`;return uw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function hw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),cw.get())})}}function Ac(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ti(s,t,a);return l.customData._tokenResponse=i,l}function sv(s){return s!==void 0&&s.enterprise!==void 0}class dw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return hw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mw(s,t){return tr(s,"GET","/v2/recaptchaConfig",Ws(s,t))}async function pw(s,t){return tr(s,"POST","/v1/accounts:delete",t)}async function Fc(s,t){return tr(s,"POST","/v1/accounts:lookup",t)}function bl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gw(s,t=!1){const i=hn(s),a=await i.getIdToken(t),l=Im(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:bl(Ld(l.auth_time)),issuedAtTime:bl(Ld(l.iat)),expirationTime:bl(Ld(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ld(s){return Number(s)*1e3}function Im(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=w0(i);return l?JSON.parse(l):(xc("Failed to decode base64 JWT payload"),null)}catch(l){return xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function rv(s){const t=Im(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ns&&yw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function yw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class _w{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gc(s){const t=s.auth,i=await s.getIdToken(),a=await Nl(s,Fc(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?H0(l.providerUserInfo):[],d=Ew(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function vw(s){const t=hn(s);await Gc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ew(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function H0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Tw(s,t){const i=await B0(s,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await q0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&eo(s.emulatorConfig.host)&&(y.credentials="include"),j0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Sw(s,t){return tr(s,"POST","/v2/accounts:revokeToken",Ws(s,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=rv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Tw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new qa;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Us(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new _w(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new em(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return gw(this,t)}reload(){return vw(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Gc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject($i(this.auth));const t=await this.getIdToken();return await Nl(this,pw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:k,isAnonymous:Q,providerData:J,stsTokenManager:tt}=i;yt(A&&tt,t,"internal-error");const Z=qa.fromJSON(this.name,tt);yt(typeof A=="string",t,"internal-error"),Us(a,t.name),Us(l,t.name),yt(typeof k=="boolean",t,"internal-error"),yt(typeof Q=="boolean",t,"internal-error"),Us(c,t.name),Us(d,t.name),Us(p,t.name),Us(y,t.name),Us(_,t.name),Us(S,t.name);const ht=new Xn({uid:A,auth:t,email:l,emailVerified:k,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:S});return J&&Array.isArray(J)&&(ht.providerData=J.map(vt=>({...vt}))),y&&(ht._redirectEventId=y),ht}static async _fromIdTokenResponse(t,i,a=!1){const l=new qa;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Gc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?H0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new qa;p.updateFromIdToken(a);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const av=new Map;function Xi(s){Wi(s instanceof Function,"Expected a class definition");let t=av.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,av.set(s,t),t)}class F0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}F0.type="NONE";const ov=F0;function Dc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Dc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Dc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha(Xi(ov),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Xi(ov);const d=Dc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const k=await Fc(t,{idToken:S}).catch(()=>{});if(!k)break;A=await Xn._fromGetAccountInfoResponse(t,k,S)}else A=Xn._fromJSON(t,S);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ha(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ha(c,t,a))}}function lv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Y0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(G0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($0(t))return"Blackberry";if(Z0(t))return"Webos";if(Q0(t))return"Safari";if((t.includes("chrome/")||K0(t))&&!t.includes("edge/"))return"Chrome";if(X0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function G0(s=Je()){return/firefox\//i.test(s)}function Q0(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function K0(s=Je()){return/crios\//i.test(s)}function Y0(s=Je()){return/iemobile/i.test(s)}function X0(s=Je()){return/android/i.test(s)}function $0(s=Je()){return/blackberry/i.test(s)}function Z0(s=Je()){return/webos/i.test(s)}function Cm(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function bw(s=Je()){return Cm(s)&&!!window.navigator?.standalone}function Aw(){return Ub()&&document.documentMode===10}function J0(s=Je()){return Cm(s)||X0(s)||Z0(s)||$0(s)||/windows phone/i.test(s)||Y0(s)}function W0(s,t=[]){let i;switch(s){case"Browser":i=lv(Je());break;case"Worker":i=`${lv(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${a}`}class ww{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Rw(s,t={}){return tr(s,"GET","/v2/passwordPolicy",Ws(s,t))}const Iw=6;class Cw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Iw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Nw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new ww(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Gc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ow()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject($i(this));const i=t?hn(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Rw(this),i=new Cw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Sw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=W0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&sw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qr(s){return hn(s)}class uv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Fb(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xw(s){hh=s}function tE(s){return hh.loadJS(s)}function Dw(){return hh.recaptchaEnterpriseScript}function Ow(){return hh.gapiScript}function Mw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Vw{constructor(){this.enterprise=new kw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class kw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Uw="recaptcha-enterprise",eE="NO_RECAPTCHA";class Lw{constructor(t){this.type=Uw,this.auth=qr(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{mw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new dw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;sv(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(eE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&sv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Dw();y.length!==0&&(y+=p),tE(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function cv(s,t,i,a=!1,l=!1){const c=new Lw(s);let d;if(l)d=eE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function nm(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await cv(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await cv(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Pw(s,t){const i=Am(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ur(c,t??{}))return l;Zn(l,"already-initialized")}return i.initialize({options:t})}function zw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function jw(s,t,i){const a=qr(s);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=nE(t),{host:d,port:p}=Bw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Ur(_,a.config.emulator)&&Ur(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,eo(d)?(N0(`${c}//${d}${y}`),x0("Auth",!0)):qw()}function nE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Bw(s){const t=nE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:hv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:hv(d)}}}function hv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function qw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Nm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function Hw(s,t){return tr(s,"POST","/v1/accounts:signUp",t)}async function Fw(s,t){return Bl(s,"POST","/v1/accounts:signInWithPassword",Ws(s,t))}async function Gw(s,t){return Bl(s,"POST","/v1/accounts:signInWithEmailLink",Ws(s,t))}async function Qw(s,t){return Bl(s,"POST","/v1/accounts:signInWithEmailLink",Ws(s,t))}class xl extends Nm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new xl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new xl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(t,i,"signInWithPassword",Fw);case"emailLink":return Gw(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(t,a,"signUpPassword",Hw);case"emailLink":return Qw(t,{idToken:i,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Fa(s,t){return Bl(s,"POST","/v1/accounts:signInWithIdp",Ws(s,t))}const Kw="http://localhost";class Pr extends Nm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Pr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Pr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:Kw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zl(i)}return t}}function Yw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Xw(s){const t=pl(gl(s)).link,i=t?pl(gl(t)).deep_link_id:null,a=pl(gl(s)).deep_link_id;return(a?pl(gl(a)).link:null)||a||i||t||s}class xm{constructor(t){const i=pl(gl(t)),a=i.apiKey??null,l=i.oobCode??null,c=Yw(i.mode??null);yt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=Xw(t);try{return new xm(i)}catch{return null}}}class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(t,i){return xl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=xm.parseLink(i);return yt(a,"argument-error"),xl._fromEmailAndCode(t,a.code,a.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class iE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ql extends iE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends ql{constructor(){super("facebook.com")}static credential(t){return Pr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class zs extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Pr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";class js extends ql{constructor(){super("github.com")}static credential(t){return Pr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";class Bs extends ql{constructor(){super("twitter.com")}static credential(t,i){return Pr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";async function $w(s,t){return Bl(s,"POST","/v1/accounts:signUp",Ws(s,t))}class zr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=fv(a);return new zr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=fv(a);return new zr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function fv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Qc extends ns{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Qc(t,i,a,l)}}function sE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(s,c,t,a):c})}async function Zw(s,t,i=!1){const a=await Nl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return zr._forOperation(s,"link",a)}async function Jw(s,t,i=!1){const{auth:a}=s;if(Vn(a.app))return Promise.reject($i(a));const l="reauthenticate";try{const c=await Nl(s,sE(a,l,t,s),i);yt(c.idToken,a,"internal-error");const d=Im(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(s.uid===p,a,"user-mismatch"),zr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zn(a,"user-mismatch"),c}}async function rE(s,t,i=!1){if(Vn(s.app))return Promise.reject($i(s));const a="signIn",l=await sE(s,a,t),c=await zr._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Ww(s,t){return rE(qr(s),t)}async function aE(s){const t=qr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function t2(s,t,i){if(Vn(s.app))return Promise.reject($i(s));const a=qr(s),d=await nm(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$w).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&aE(s),y}),p=await zr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function e2(s,t,i){return Vn(s.app)?Promise.reject($i(s)):Ww(hn(s),io.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&aE(s),a})}function n2(s,t,i,a){return hn(s).onIdTokenChanged(t,i,a)}function i2(s,t,i){return hn(s).beforeAuthStateChanged(t,i)}function s2(s,t,i,a){return hn(s).onAuthStateChanged(t,i,a)}function r2(s){return hn(s).signOut()}const Kc="__sak";class oE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const a2=1e3,o2=10;class lE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Aw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,o2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}lE.type="LOCAL";const l2=lE;class uE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}uE.type="SESSION";const cE=uE;function u2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new fh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await u2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Dm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class c2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Dm("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const k=A;if(k.data.eventId===_)switch(k.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(k.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function h2(s){Si().location.href=s}function hE(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function f2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d2(){return navigator?.serviceWorker?.controller||null}function m2(){return hE()?self:null}const fE="firebaseLocalStorageDb",p2=1,Yc="firebaseLocalStorage",dE="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(s,t){return s.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function g2(){const s=indexedDB.deleteDatabase(fE);return new Hl(s).toPromise()}function im(){const s=indexedDB.open(fE,p2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Yc,{keyPath:dE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Yc)?t(a):(a.close(),await g2(),t(await im()))})})}async function dv(s,t,i){const a=dh(s,!0).put({[dE]:t,value:i});return new Hl(a).toPromise()}async function y2(s,t){const i=dh(s,!1).get(t),a=await new Hl(i).toPromise();return a===void 0?null:a.value}function mv(s,t){const i=dh(s,!0).delete(t);return new Hl(i).toPromise()}const _2=800,v2=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>v2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(m2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await f2(),!this.activeServiceWorker)return;this.sender=new c2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||d2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await dv(t,Kc,"1"),await mv(t,Kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>dv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>y2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>mv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const E2=mE;new jl(3e4,6e4);function T2(s,t){return t?Xi(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Om extends Nm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function S2(s){return rE(s.auth,new Om(s),s.bypassAuthState)}function b2(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),Jw(i,new Om(s),s.bypassAuthState)}async function A2(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),Zw(i,new Om(s),s.bypassAuthState)}class pE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return S2;case"linkViaPopup":case"linkViaRedirect":return A2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:Zn(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const w2=new jl(2e3,1e4);class Ba extends pE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,w2.get())};t()}}Ba.currentPopupAction=null;const R2="pendingRedirect",Oc=new Map;class I2 extends pE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await C2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C2(s,t){const i=D2(t),a=x2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function N2(s,t){Oc.set(s._key(),t)}function x2(s){return Xi(s._redirectPersistence)}function D2(s){return Dc(R2,s.config.apiKey,s.name)}async function O2(s,t,i=!1){if(Vn(s.app))return Promise.reject($i(s));const a=qr(s),l=T2(a,t),d=await new I2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const M2=600*1e3;class V2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!k2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!gE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=M2&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(t))}saveEventToCache(t){this.cachedEventUids.add(pv(t)),this.lastProcessedEventTime=Date.now()}}function pv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function gE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function k2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(s);default:return!1}}async function U2(s,t={}){return tr(s,"GET","/v1/projects",t)}const L2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function z2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await U2(s);for(const i of t)try{if(j2(i))return}catch{}Zn(s,"unauthorized-domain")}function j2(s){const t=tm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!P2.test(i))return!1;if(L2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const B2=new jl(3e4,6e4);function gv(){const s=Si().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function q2(s){return new Promise((t,i)=>{function a(){gv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gv(),i(Ti(s,"network-request-failed"))},timeout:B2.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)a();else{const l=Mw("iframefcb");return Si()[l]=()=>{gapi.load?a():i(Ti(s,"network-request-failed"))},tE(`${Ow()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function H2(s){return Mc=Mc||q2(s),Mc}const F2=new jl(5e3,15e3),G2="__/auth/iframe",Q2="emulator/auth/iframe",K2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X2(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Rm(t,Q2):`https://${s.config.authDomain}/${G2}`,a={apiKey:t.apiKey,appName:s.name,v:no},l=Y2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zl(a).slice(1)}`}async function $2(s){const t=await H2(s),i=Si().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:X2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(s,"network-request-failed"),p=Si().setTimeout(()=>{c(d)},F2.get());function y(){Si().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const Z2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J2=500,W2=600,tR="_blank",eR="http://localhost";class yv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nR(s,t,i,a=J2,l=W2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Z2,width:a.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(p=K0(_)?tR:i),G0(_)&&(t=t||eR,y.scrollbars="yes");const S=Object.entries(y).reduce((k,[Q,J])=>`${k}${Q}=${J},`,"");if(bw(_)&&p!=="_self")return iR(t||"",p),new yv(null);const A=window.open(t||"",p,S);yt(A,s,"popup-blocked");try{A.focus()}catch{}return new yv(A)}function iR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const sR="__/auth/handler",rR="emulator/auth/handler",aR=encodeURIComponent("fac");async function _v(s,t,i,a,l,c){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:no,eventId:l};if(t instanceof iE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Hb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(t instanceof ql){const S=t.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const y=await s._getAppCheckToken(),_=y?`#${aR}=${encodeURIComponent(y)}`:"";return`${oR(s)}?${zl(p).slice(1)}${_}`}function oR({config:s}){return s.emulator?Rm(s,rR):`https://${s.authDomain}/${sR}`}const Pd="webStorageSupport";class lR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=O2,this._overrideRedirectResult=N2}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _v(t,i,a,tm(),l);return nR(t,c,Dm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await _v(t,i,a,tm(),l);return h2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await $2(t),a=new V2(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Pd,{type:Pd},l=>{const c=l?.[0]?.[Pd];c!==void 0&&i(!!c),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=z2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return J0()||Q0()||Cm()}}const uR=lR;var vv="@firebase/auth",Ev="1.11.1";class cR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fR(s){Ya(new Lr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W0(s)},_=new Nw(a,l,c,y);return zw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ya(new Lr("auth-internal",t=>{const i=qr(t.getProvider("auth").getImmediate());return(a=>new cR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(vv,Ev,hR(s)),Gs(vv,Ev,"esm2020")}const dR=300,mR=C0("authIdTokenMaxAge")||dR;let Tv=null;const pR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>mR)return;const l=i?.token;Tv!==l&&(Tv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function gR(s=V0()){const t=Am(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Pw(s,{popupRedirectResolver:uR,persistence:[E2,l2,cE]}),a=C0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=pR(c.toString());i2(i,d,()=>d(i.currentUser)),n2(i,p=>d(p))}}const l=R0("auth");return l&&jw(i,`http://${l}`),i}function yR(){return document.getElementsByTagName("head")?.[0]??document}xw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ti("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",yR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fR("Browser");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,yE;(function(){var s;function t(w,b){function I(){}I.prototype=b.prototype,w.F=b.prototype,w.prototype=new I,w.prototype.constructor=w,w.D=function(M,x,U){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return b.prototype[x].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)M[x]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(x=0;x<16;++x)M[x]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=w.g[0],I=w.g[1],x=w.g[2];let U=w.g[3],R;R=b+(U^I&(x^U))+M[0]+3614090360&4294967295,b=I+(R<<7&4294967295|R>>>25),R=U+(x^b&(I^x))+M[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=x+(I^U&(b^I))+M[2]+606105819&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(b^x&(U^b))+M[3]+3250441966&4294967295,I=x+(R<<22&4294967295|R>>>10),R=b+(U^I&(x^U))+M[4]+4118548399&4294967295,b=I+(R<<7&4294967295|R>>>25),R=U+(x^b&(I^x))+M[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=x+(I^U&(b^I))+M[6]+2821735955&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(b^x&(U^b))+M[7]+4249261313&4294967295,I=x+(R<<22&4294967295|R>>>10),R=b+(U^I&(x^U))+M[8]+1770035416&4294967295,b=I+(R<<7&4294967295|R>>>25),R=U+(x^b&(I^x))+M[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=x+(I^U&(b^I))+M[10]+4294925233&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(b^x&(U^b))+M[11]+2304563134&4294967295,I=x+(R<<22&4294967295|R>>>10),R=b+(U^I&(x^U))+M[12]+1804603682&4294967295,b=I+(R<<7&4294967295|R>>>25),R=U+(x^b&(I^x))+M[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=x+(I^U&(b^I))+M[14]+2792965006&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(b^x&(U^b))+M[15]+1236535329&4294967295,I=x+(R<<22&4294967295|R>>>10),R=b+(x^U&(I^x))+M[1]+4129170786&4294967295,b=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(b^I))+M[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=x+(b^I&(U^b))+M[11]+643717713&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^b&(x^U))+M[0]+3921069994&4294967295,I=x+(R<<20&4294967295|R>>>12),R=b+(x^U&(I^x))+M[5]+3593408605&4294967295,b=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(b^I))+M[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=x+(b^I&(U^b))+M[15]+3634488961&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^b&(x^U))+M[4]+3889429448&4294967295,I=x+(R<<20&4294967295|R>>>12),R=b+(x^U&(I^x))+M[9]+568446438&4294967295,b=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(b^I))+M[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=x+(b^I&(U^b))+M[3]+4107603335&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^b&(x^U))+M[8]+1163531501&4294967295,I=x+(R<<20&4294967295|R>>>12),R=b+(x^U&(I^x))+M[13]+2850285829&4294967295,b=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(b^I))+M[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=x+(b^I&(U^b))+M[7]+1735328473&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^b&(x^U))+M[12]+2368359562&4294967295,I=x+(R<<20&4294967295|R>>>12),R=b+(I^x^U)+M[5]+4294588738&4294967295,b=I+(R<<4&4294967295|R>>>28),R=U+(b^I^x)+M[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=x+(U^b^I)+M[11]+1839030562&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^b)+M[14]+4259657740&4294967295,I=x+(R<<23&4294967295|R>>>9),R=b+(I^x^U)+M[1]+2763975236&4294967295,b=I+(R<<4&4294967295|R>>>28),R=U+(b^I^x)+M[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=x+(U^b^I)+M[7]+4139469664&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^b)+M[10]+3200236656&4294967295,I=x+(R<<23&4294967295|R>>>9),R=b+(I^x^U)+M[13]+681279174&4294967295,b=I+(R<<4&4294967295|R>>>28),R=U+(b^I^x)+M[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=x+(U^b^I)+M[3]+3572445317&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^b)+M[6]+76029189&4294967295,I=x+(R<<23&4294967295|R>>>9),R=b+(I^x^U)+M[9]+3654602809&4294967295,b=I+(R<<4&4294967295|R>>>28),R=U+(b^I^x)+M[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=x+(U^b^I)+M[15]+530742520&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^b)+M[2]+3299628645&4294967295,I=x+(R<<23&4294967295|R>>>9),R=b+(x^(I|~U))+M[0]+4096336452&4294967295,b=I+(R<<6&4294967295|R>>>26),R=U+(I^(b|~x))+M[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=x+(b^(U|~I))+M[14]+2878612391&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~b))+M[5]+4237533241&4294967295,I=x+(R<<21&4294967295|R>>>11),R=b+(x^(I|~U))+M[12]+1700485571&4294967295,b=I+(R<<6&4294967295|R>>>26),R=U+(I^(b|~x))+M[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=x+(b^(U|~I))+M[10]+4293915773&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~b))+M[1]+2240044497&4294967295,I=x+(R<<21&4294967295|R>>>11),R=b+(x^(I|~U))+M[8]+1873313359&4294967295,b=I+(R<<6&4294967295|R>>>26),R=U+(I^(b|~x))+M[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=x+(b^(U|~I))+M[6]+2734768916&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~b))+M[13]+1309151649&4294967295,I=x+(R<<21&4294967295|R>>>11),R=b+(x^(I|~U))+M[4]+4149444226&4294967295,b=I+(R<<6&4294967295|R>>>26),R=U+(I^(b|~x))+M[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=x+(b^(U|~I))+M[2]+718787259&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~b))+M[9]+3951481745&4294967295,w.g[0]=w.g[0]+b&4294967295,w.g[1]=w.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,w.g[2]=w.g[2]+x&4294967295,w.g[3]=w.g[3]+U&4294967295}a.prototype.v=function(w,b){b===void 0&&(b=w.length);const I=b-this.blockSize,M=this.C;let x=this.h,U=0;for(;U<b;){if(x==0)for(;U<=I;)l(this,w,U),U+=this.blockSize;if(typeof w=="string"){for(;U<b;)if(M[x++]=w.charCodeAt(U++),x==this.blockSize){l(this,M),x=0;break}}else for(;U<b;)if(M[x++]=w[U++],x==this.blockSize){l(this,M),x=0;break}}this.h=x,this.o+=b},a.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var b=1;b<w.length-8;++b)w[b]=0;b=this.o*8;for(var I=w.length-8;I<w.length;++I)w[I]=b&255,b/=256;for(this.v(w),w=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)w[b++]=this.g[I]>>>M&255;return w};function c(w,b){var I=p;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=b(w)}function d(w,b){this.h=b;const I=[];let M=!0;for(let x=w.length-1;x>=0;x--){const U=w[x]|0;M&&U==b||(I[x]=U,M=!1)}this.g=I}var p={};function y(w){return-128<=w&&w<128?c(w,function(b){return new d([b|0],b<0?-1:0)}):new d([w|0],w<0?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return A;if(w<0)return Z(_(-w));const b=[];let I=1;for(let M=0;w>=I;M++)b[M]=w/I|0,I*=4294967296;return new d(b,0)}function S(w,b){if(w.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(w.charAt(0)=="-")return Z(S(w.substring(1),b));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let M=A;for(let U=0;U<w.length;U+=8){var x=Math.min(8,w.length-U);const R=parseInt(w.substring(U,U+x),b);x<8?(x=_(Math.pow(b,x)),M=M.j(x).add(_(R))):(M=M.j(I),M=M.add(_(R)))}return M}var A=y(0),k=y(1),Q=y(16777216);s=d.prototype,s.m=function(){if(tt(this))return-Z(this).m();let w=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);w+=(M>=0?M:4294967296+M)*b,b*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(J(this))return"0";if(tt(this))return"-"+Z(this).toString(w);const b=_(Math.pow(w,6));var I=this;let M="";for(;;){const x=lt(I,b).g;I=ht(I,x.j(b));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(w);if(I=x,J(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function J(w){if(w.h!=0)return!1;for(let b=0;b<w.g.length;b++)if(w.g[b]!=0)return!1;return!0}function tt(w){return w.h==-1}s.l=function(w){return w=ht(this,w),tt(w)?-1:J(w)?0:1};function Z(w){const b=w.g.length,I=[];for(let M=0;M<b;M++)I[M]=~w.g[M];return new d(I,~w.h).add(k)}s.abs=function(){return tt(this)?Z(this):this},s.add=function(w){const b=Math.max(this.g.length,w.g.length),I=[];let M=0;for(let x=0;x<=b;x++){let U=M+(this.i(x)&65535)+(w.i(x)&65535),R=(U>>>16)+(this.i(x)>>>16)+(w.i(x)>>>16);M=R>>>16,U&=65535,R&=65535,I[x]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(w,b){return w.add(Z(b))}s.j=function(w){if(J(this)||J(w))return A;if(tt(this))return tt(w)?Z(this).j(Z(w)):Z(Z(this).j(w));if(tt(w))return Z(this.j(Z(w)));if(this.l(Q)<0&&w.l(Q)<0)return _(this.m()*w.m());const b=this.g.length+w.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<w.g.length;x++){const U=this.i(M)>>>16,R=this.i(M)&65535,te=w.i(x)>>>16,ee=w.i(x)&65535;I[2*M+2*x]+=R*ee,vt(I,2*M+2*x),I[2*M+2*x+1]+=U*ee,vt(I,2*M+2*x+1),I[2*M+2*x+1]+=R*te,vt(I,2*M+2*x+1),I[2*M+2*x+2]+=U*te,vt(I,2*M+2*x+2)}for(w=0;w<b;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=b;w<2*b;w++)I[w]=0;return new d(I,0)};function vt(w,b){for(;(w[b]&65535)!=w[b];)w[b+1]+=w[b]>>>16,w[b]&=65535,b++}function mt(w,b){this.g=w,this.h=b}function lt(w,b){if(J(b))throw Error("division by zero");if(J(w))return new mt(A,A);if(tt(w))return b=lt(Z(w),b),new mt(Z(b.g),Z(b.h));if(tt(b))return b=lt(w,Z(b)),new mt(Z(b.g),b.h);if(w.g.length>30){if(tt(w)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var I=k,M=b;M.l(w)<=0;)I=gt(I),M=gt(M);var x=it(I,1),U=it(M,1);for(M=it(M,2),I=it(I,2);!J(M);){var R=U.add(M);R.l(w)<=0&&(x=x.add(I),U=R),M=it(M,1),I=it(I,1)}return b=ht(w,x.j(b)),new mt(x,b)}for(x=A;w.l(b)>=0;){for(I=Math.max(1,Math.floor(w.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(I),R=U.j(b);tt(R)||R.l(w)>0;)I-=M,U=_(I),R=U.j(b);J(U)&&(U=k),x=x.add(U),w=ht(w,R)}return new mt(x,w)}s.B=function(w){return lt(this,w).h},s.and=function(w){const b=Math.max(this.g.length,w.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&w.i(M);return new d(I,this.h&w.h)},s.or=function(w){const b=Math.max(this.g.length,w.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|w.i(M);return new d(I,this.h|w.h)},s.xor=function(w){const b=Math.max(this.g.length,w.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^w.i(M);return new d(I,this.h^w.h)};function gt(w){const b=w.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=w.i(M)<<1|w.i(M-1)>>>31;return new d(I,w.h)}function it(w,b){const I=b>>5;b%=32;const M=w.g.length-I,x=[];for(let U=0;U<M;U++)x[U]=b>0?w.i(U+I)>>>b|w.i(U+I+1)<<32-b:w.i(U+I);return new d(x,w.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,yE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Qs=d}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _E,yl,vE,Vc,sm,EE,TE,SE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var W=Array(arguments.length-2),At=2;At<arguments.length;At++)W[At-2]=arguments[At];return m.prototype[L].apply(T,W)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=L[W]}else u.push(L)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const T=mt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new tt(()=>new lt,u=>u.reset());class lt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,it=!1,w=new vt,b=()=>{const u=Promise.resolve(void 0);gt=()=>{u.then(I)}};function I(){for(var u;u=ht();){try{u.h.call(u.g)}catch(v){Z(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}it=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(te,x),te.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=Rt(u,m,T,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ne={};function re(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,L);return null}return v=co(v),u&&u[ee]?u.J(m,v,p(T)?!!T.capture:!1,L):er(u,m,v,!1,T,L)}function er(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let At=nr(u);if(At||(u[Ut]=At=new rt(u)),v=At.add(m,v,T,W,B),v.proxy)return v;if(T=Kr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kr(){function u(v){return m.call(u.src,u.listener,v)}const m=lo;return u}function Yr(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Yr(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=co(v),u&&u[ee]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Rt(m,v,T,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=nr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,v,T,L)),(v=u>-1?m[u]:null)&&Xr(v))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ee])Et(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=nr(m))?(Et(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ft(u)}}}function Jn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function lo(u,m){if(u.da)u=!0;else{m=new te(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Xr(u),u=v.call(T,m)}return u}function nr(u){return u=u[Ut],u instanceof rt?u:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function _e(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}A(_e,M),_e.prototype[ee]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Yr(this,u,m,v,T)};function xe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(T,u),nt(m,L)}L=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],L=is(B,T,!0,m)&&L;if(B=m.g=u,L=is(B,T,!0,m)&&L,L=is(B,T,!1,m)&&L,v)for(W=0;W<v.length;W++)B=m.g=v[W],L=is(B,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function is(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const At=W.listener,me=W.ha||W.src;W.fa&&Et(u.i,W),L=At.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(u){M.call(this),this.h=u,this.g={}}A(ir,M);var ho=[];function fo(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xr(m)},u),u.g={}}ir.prototype.N=function(){ir.Z.N.call(this),fo(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,Ch=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function Jl(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){x.call(this,"d")}A(ze,x);function Tn(){x.call(this,"c")}A(Tn,x);var de={},Wl=null;function $r(){return Wl=Wl||new _e}de.Ia="serverreachability";function tu(u){x.call(this,de.Ia,u)}A(tu,x);function Wn(u){const m=$r();xe(m,new tu(m))}de.STAT_EVENT="statevent";function sr(u,m){x.call(this,de.STAT_EVENT,u),this.stat=m}A(sr,x);function ve(u){const m=$r();xe(m,new sr(m,u))}de.Ja="timingevent";function ti(u,m){x.call(this,de.Ja,u),this.size=m}A(ti,x);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var W="",At=B.split("&");for(let qt=0;qt<At.length;qt++){var me=At[qt].split("=");if(me.length>1){const ae=me[0];me=me[1];const wn=ae.split("_");W=wn.length>=2&&wn[1]=="type"?W+(ae+"="+me+"&"):W+(ae+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function eu(u,m,v,T,L,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+W})}function ni(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xh(u,v)+(T?" "+T:"")})}function rr(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function xh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ss(B)}catch{return m}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function or(){}A(or,Zl),or.prototype.g=function(){return new XMLHttpRequest},po=new or;function Ni(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function ii(u,m,v){u.M=1,u.A=lr(Se(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),si(u),u.B=Se(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(v.i,"t",T),u.C=0,v=u.j.L,u.h=new jn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ho[0]=L.toString()),L=ho);for(let B=0;B<L.length;B++){const W=re(v,L[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Hn(this.g),me=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||At!=4||me==7||(me==8||qt<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var v=Dh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ve(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=su(this,v),ae==Ve){At==4&&(this.m=4,ve(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ee){this.m=4,ve(15),ni(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,ae,null),ai(this,ae);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xo(W),W.P=!0,ve(11))}}else ni(this.i,this.l,v,null),ai(this,v);At==4&&fn(this),this.o&&!this.K&&(At==4?du(this.j,this):(this.o=!1,si(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),fn(this),Sn(this)}}}catch{}finally{}};function Dh(u){if(!iu(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const T=m.length,L=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(_(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rr(this.i,this.B),this.M!=2&&(Wn(),ve(17)),fn(this),this.m=2,Sn(this)):Jr(this,this.T-u)};function Sn(u){u.j.I==0||u.K||du(u.j,u)}function fn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||li(v.h,u))){if(!u.L&&li(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)aa(v),fs(v);else break t;pr(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ei(_(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((u.L||v.g==u)&&aa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const wn=qt[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const pi=qt[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Fn=qt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Gn=u.g;if(Gn){const gr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var B=T.h;B.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(_o(B,B.h),B.h=null))}if(T.G){const oa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Qt(T.J,T.G,oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=gu(T,T.L?T.ba:null,T.W),W.L){vo(T.h,W);var At=W,me=T.O;me&&(At.H=me),At.D&&(ri(At),si(At)),T.g=W}else hu(T);v.i.length>0&&di(v)}else qt[0]!="stop"&&qt[0]!="close"||mi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?mi(v,7):Co(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}Wn(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,To(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),rs(this,m[4]),this.h=ui(m[5]||"",!0),To(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ur(m,ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ur(m,ta,!0),"@"),u.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ur(v,v.charAt(0)=="/"?So:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ur(v,ou)),u.join("")},dn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)rs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const At=L[W++];At=="."?T&&W==L.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==L.length&&B.push("")):(B.push(At),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?To(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new dn(u)}function ke(u,m,v){u.j=v?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function To(u,m,v){m instanceof os?(u.i=m,na(u.i,u.l)):(v||(m=ur(m,as)),u.i=new os(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function lr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ur(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,au=/[#\?:]/g,So=/[#\?]/g,as=/[#\?@]/g,ou=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(u,m){sn(this),this.i=null,u=ls(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){sn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bo(u,m){return sn(u),m=ls(u,m),u.g.has(m)}s.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ao(u,m){sn(u);let v=[];if(typeof m=="string")bo(u,m)&&(v=v.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return sn(this),this.i=null,u=ls(this,u),bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ao(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(ls(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ni(v);v=Ao(this,v);for(let B=0;B<v.length;B++){let W=L;v[B]!==""&&(W+="="+Ni(v[B])),u.push(W)}}return this.i=u.join("&")};function uu(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(lu(this,T),ea(this,L,v))},u)),u.j=m}function Bn(u,m){const v=new Pn;if(d.Image){const T=new Image;T.onload=S(bn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(bn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(bn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(bn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wo(u,m){const v=new Pn,T=new AbortController,L=setTimeout(()=>{T.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function us(){this.g=new $l}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ci,Zl),ci.prototype.g=function(){return new cr(this.i,this.h)};function cr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(cr,_e),s=cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):qn(this),this.readyState==3&&ia(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},s.Na=function(u){this.g&&(this.response=u,cs(this))},s.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Pt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function hr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=An(v),typeof u=="string"?v!=null&&Ni(v):Qt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xt,_e);var hi=/^https?$/i,Ro=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=k(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){fr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){fr(this,B)}};function fr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Io(u),xi(u)}function Io(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},s.Xa=function(){dr(this)};function dr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(ru)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!hi.test(W?W.toLowerCase():"")}v=T}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var L=Hn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Io(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=nu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Gt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=hs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=gu(this,null,this.W),di(this)};function Co(u){if(sa(u),u.I==3){var m=u.V++,v=Se(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),mr(u,v),m=new zn(u,u.j,m),m.M=2,m.A=lr(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}pu(u)}function fs(u){u.g&&(xo(u),u.g.cancel(),u.g=null)}function sa(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;gt||b(),it||(gt(),it=!0),w.add(m,u),u.D=0}}function ra(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(_(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=cu(this,L,m),v=Se(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),mr(this,v),B&&(this.R?m="headers="+Ni(An(B))+"&"+m:this.u&&hr(v,this.u,B)),_o(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,ii(L,v,null)):ii(L,v,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||yo(this.h)||No(this))};function No(u,m){var v;m?v=m.l:v=u.V++;const T=Se(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),mr(u,T),u.u&&u.o&&hr(T,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,v),ii(v,T,m)}function mr(u,m){u.H&&Pt(u.H,function(v,T){Qt(m,T,v)}),u.l&&Pt({},function(v,T){Qt(m,T,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const me=["count="+v];At==-1?v>0?(At=L[0].g,me.push("ofs="+At)):At=0:me.push("ofs="+At);let qt=!0;for(let ae=0;ae<v;ae++){var B=L[ae].g;const wn=L[ae].map;if(B-=At,B<0)At=Math.max(0,L[ae].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var W=wn instanceof Map?wn:Object.entries(wn);for(const[pi,Fn]of W){let Gn=Fn;p(Fn)&&(Gn=ss(Fn)),me.push(B+pi+"="+encodeURIComponent(Gn))}}catch(pi){throw me.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(wn)}}if(qt){W=me.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;gt||b(),it||(gt(),it=!0),w.add(m,u),u.A=0}}function pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(_(u.Da,u),mu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),fs(this),fu(this))};function xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),mr(u,m),u.u&&u.o&&hr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=lr(Se(m)),v.u=null,v.R=!0,Zr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,fs(this),pr(this),ve(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){aa(u),xo(u),u.g=null;var T=2}else if(li(u.h,m))v=m.G,vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=$r(),xe(T,new ti(T,v)),di(u)}else hu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),lr(T),L?Bn(T.toString(),v):wo(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),pu(u),sa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,v){var T=v instanceof dn?Se(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new dn(null);T&&ke(B,T),m&&(B.g=m),L&&rs(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),mr(u,T),T}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new ci({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}s=_u.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_e.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}A(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Co(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ss(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&di(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,tn.Z.N.call(this)};function vu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(vu,ze);function Eu(){Tn.call(this),this.status=1}A(Eu,Tn);function Oi(u){this.g=u}A(Oi,_u),Oi.prototype.ra=function(){xe(this.g,"a")},Oi.prototype.qa=function(u){xe(this.g,new vu(u))},Oi.prototype.pa=function(u){xe(this.g,new Eu)},Oi.prototype.oa=function(){xe(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,SE=function(){return new ds},TE=function(){return $r()},EE=de,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,Vc=ar,mo.COMPLETE="complete",vE=mo,Jl.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",_e.prototype.listen=_e.prototype.J,yl=Jl,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,_E=Xt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const bv="@firebase/firestore",Av="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let so="12.3.0";const jr=new Sm("@firebase/firestore");function La(){return jr.logLevel}function st(s,...t){if(jr.logLevel<=Ot.DEBUG){const i=t.map(Mm);jr.debug(`Firestore (${so}): ${s}`,...i)}}function ts(s,...t){if(jr.logLevel<=Ot.ERROR){const i=t.map(Mm);jr.error(`Firestore (${so}): ${s}`,...i)}}function Xa(s,...t){if(jr.logLevel<=Ot.WARN){const i=t.map(Mm);jr.warn(`Firestore (${so}): ${s}`,...i)}}function Mm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,bE(s,a,i)}function bE(s,t,i){let a=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Ft(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||bE(t,l,a)}function bt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class AE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _R{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class vR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ER{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new AE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class TR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new TR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new wv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=AR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(s,t){return s<t?-1:s>t?1:0}function rm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return zd(l)===zd(c)?Mt(l,c):zd(l)?1:-1}return Mt(s.length,t.length)}const wR=55296,RR=57343;function zd(s){const t=s.charCodeAt(0);return t>=wR&&t<=RR}function $a(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const Rv="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):rm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class le extends Ei{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const IR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ei{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return IR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rv}static keyField(){return new Qe([Rv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(le.fromString(t))}static fromName(t){return new dt(le.fromString(t).popFirst(5))}static empty(){return new dt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new le(t.slice()))}}function CR(s,t,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function NR(s,t,i,a){if(t===!0&&a===!0)throw new ut($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Iv(s){if(!dt.isDocumentKey(s))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function wE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function km(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Ga(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(s);throw new ut($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ce(s,t){const i={typeString:s};return t&&(i.value=t),i}function Fl(s,t){if(!wE(s))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}const Cv=-62135596800,Nv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Nv);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Cv)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new se(0,0))}static max(){return new Tt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function xR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new Ks(l,dt.empty(),t)}function DR(s){return new Ks(s.readTime,s.key,Dl)}class Ks{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ks(Tt.min(),dt.empty(),Dl)}static max(){return new Ks(Tt.max(),dt.empty(),Dl)}}function OR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Mt(s.largestBatchId,t.largestBatchId))}const MR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ro(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==MR)throw s;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((S=>{d[_]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function kR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Um=-1;function ph(s){return s==null}function Xc(s){return s===0&&1/s==-1/0}function UR(s){return typeof s=="number"&&Number.isInteger(s)&&!Xc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const RE="";function LR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=xv(t)),t=PR(s.get(i),t);return xv(t)}function PR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function xv(s){return s+RE+""}function Dv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Hr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function IE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(t){return new Ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const zR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=zR.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xs(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const NE="server_timestamp",xE="__type__",DE="__previous_value__",OE="__local_write_time__";function Lm(s){return(s?.mapValue?.fields||{})[xE]?.stringValue===NE}function gh(s){const t=s.mapValue.fields[DE];return Lm(t)?gh(t):t}function Ol(s){const t=Ys(s.mapValue.fields[OE].timestampValue);return new se(t.seconds,t.nanos)}class jR{constructor(t,i,a,l,c,d,p,y,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const $c="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||$c}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}const ME="__type__",BR="__max__",Ic={mapValue:{}},VE="__vector__",Zc="value";function $s(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lm(s)?4:HR(s)?9007199254740991:qR(s)?10:11:_t(28295,{value:s})}function Ii(s,t){if(s===t)return!0;const i=$s(s);if(i!==$s(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ol(s).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ys(l.timestampValue),p=Ys(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Xs(l.bytesValue).isEqual(Xs(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?Xc(d)===Xc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return $a(s.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Dv(d)!==Dv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ii(d[y],p[y])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Vl(s,t){return(s.values||[]).find((i=>Ii(i,t)))!==void 0}function Za(s,t){if(s===t)return 0;const i=$s(s),a=$s(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return Mv(s.timestampValue,t.timestampValue);case 4:return Mv(Ol(s),Ol(t));case 5:return rm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Xs(c),y=Xs(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const S=Mt(p[_],y[_]);if(S!==0)return S}return Mt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(ye(c.latitude),ye(d.latitude));return p!==0?p:Mt(ye(c.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Vv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Zc]?.arrayValue,S=y[Zc]?.arrayValue,A=Mt(_?.values?.length||0,S?.values?.length||0);return A!==0?A:Vv(_,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let A=0;A<y.length&&A<S.length;++A){const k=rm(y[A],S[A]);if(k!==0)return k;const Q=Za(p[y[A]],_[S[A]]);if(Q!==0)return Q}return Mt(y.length,S.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Mv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Mt(s,t);const i=Ys(s),a=Ys(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function Vv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Za(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function Ja(s){return am(s)}function am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Ys(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=am(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function kc(s){switch($s(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(s);return t?16+kc(t):16;case 5:return 2*s.stringValue.length;case 6:return Xs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+kc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Hr(a.fields,((c,d)=>{l+=c.length+kc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function om(s){return!!s&&"integerValue"in s}function Pm(s){return!!s&&"arrayValue"in s}function kv(s){return!!s&&"nullValue"in s}function Uv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uc(s){return!!s&&"mapValue"in s}function qR(s){return(s?.mapValue?.fields||{})[ME]?.stringValue===VE}function Al(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Hr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Al(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Al(s.arrayValue.values[i]);return t}return{...s}}function HR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===BR}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Al(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Hr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new kn(Al(this.value))}}function kE(s){const t=[];return Hr(s.fields,((i,a)=>{const l=new Qe([i]);if(Uc(a)){const c=kE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,Tt.min(),Tt.min(),Tt.min(),kn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,Tt.min(),Tt.min(),kn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,Tt.min(),Tt.min(),kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(t,i){this.position=t,this.inclusive=i}}function Lv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Pv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ii(s.position[i],t.position[i]))return!1;return!0}class Wc{constructor(t,i="asc"){this.field=t,this.dir=i}}function FR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class UE{}class Oe extends UE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new QR(t,i,a):i==="array-contains"?new XR(t,a):i==="in"?new $R(t,a):i==="not-in"?new ZR(t,a):i==="array-contains-any"?new JR(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new KR(t,a):new YR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&$s(this.value)===$s(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends UE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return LE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(s){return s.op==="and"}function PE(s){return GR(s)&&LE(s)}function GR(s){for(const t of s.filters)if(t instanceof Ci)return!1;return!0}function lm(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+Ja(s.value);if(PE(s))return s.filters.map((t=>lm(t))).join(",");{const t=s.filters.map((i=>lm(i))).join(",");return`${s.op}(${t})`}}function zE(s,t){return s instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ii(a.value,l.value)})(s,t):s instanceof Ci?(function(a,l){return l instanceof Ci&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&zE(d,l.filters[p])),!0):!1})(s,t):void _t(19439)}function jE(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(s):s instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(s):"Filter"}class QR extends Oe{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class KR extends Oe{constructor(t,i){super(t,"in",i),this.keys=BE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class YR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=BE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function BE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class XR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&Vl(i.arrayValue,this.value)}}class $R extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class ZR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class JR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class WR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function zv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new WR(s,t,i,a,l,c,d)}function zm(s){const t=bt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function jm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!FR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!zE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Pv(s.startAt,t.startAt)&&Pv(s.endAt,t.endAt)}function um(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tI(s,t,i,a,l,c,d,p){return new yh(s,t,i,a,l,c,d,p)}function Bm(s){return new yh(s)}function jv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function eI(s){return s.collectionGroup!==null}function wl(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Wc(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Wc(Qe.keyField(),a))}return t.Ie}function bi(s){const t=bt(s);return t.Ee||(t.Ee=nI(t,wl(s))),t.Ee}function nI(s,t){if(s.limitType==="F")return zv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Wc(l.field,c)}));const i=s.endAt?new Jc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Jc(s.startAt.position,s.startAt.inclusive):null;return zv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function cm(s,t,i){return new yh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function _h(s,t){return jm(bi(s),bi(t))&&s.limitType===t.limitType}function qE(s){return`${zm(bi(s))}|lt:${s.limitType}`}function Pa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(bi(s))}; limitType=${s.limitType})`}function vh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Lv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,wl(a),l)||a.endAt&&!(function(d,p,y){const _=Lv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,wl(a),l))})(s,t)}function iI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function HE(s){return(t,i)=>{let a=!1;for(const l of wl(s)){const c=sI(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function sI(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Za(y,_):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:s.dir})}}class Fr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Hr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const rI=new ue(dt.comparator);function es(){return rI}const FE=new ue(dt.comparator);function _l(...s){let t=FE;for(const i of s)t=t.insert(i.key,i);return t}function GE(s){let t=FE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Mr(){return Rl()}function QE(){return Rl()}function Rl(){return new Fr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const aI=new ue(dt.comparator),oI=new Me(dt.comparator);function Vt(...s){let t=oI;for(const i of s)t=t.add(i);return t}const lI=new Me(Mt);function uI(){return lI}function qm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(t)?"-0":t}}function KE(s){return{integerValue:""+s}}function cI(s,t){return UR(t)?KE(t):qm(s,t)}class Eh{constructor(){this._=void 0}}function hI(s,t,i){return s instanceof th?(function(l,c){const d={fields:{[xE]:{stringValue:NE},[OE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lm(c)&&(c=gh(c)),c&&(d.fields[DE]=c),{mapValue:d}})(i,t):s instanceof kl?XE(s,t):s instanceof Ul?$E(s,t):(function(l,c){const d=YE(l,c),p=Bv(d)+Bv(l.Ae);return om(d)&&om(l.Ae)?KE(p):qm(l.serializer,p)})(s,t)}function fI(s,t,i){return s instanceof kl?XE(s,t):s instanceof Ul?$E(s,t):i}function YE(s,t){return s instanceof eh?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class th extends Eh{}class kl extends Eh{constructor(t){super(),this.elements=t}}function XE(s,t){const i=ZE(t);for(const a of s.elements)i.some((l=>Ii(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends Eh{constructor(t){super(),this.elements=t}}function $E(s,t){let i=ZE(t);for(const a of s.elements)i=i.filter((l=>!Ii(l,a)));return{arrayValue:{values:i}}}class eh extends Eh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Bv(s){return ye(s.integerValue||s.doubleValue)}function ZE(s){return Pm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function dI(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof kl&&l instanceof kl||a instanceof Ul&&l instanceof Ul?$a(a.elements,l.elements,Ii):a instanceof eh&&l instanceof eh?Ii(a.Ae,l.Ae):a instanceof th&&l instanceof th})(s.transform,t.transform)}class mI{constructor(t,i){this.version=t,this.transformResults=i}}class Zi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Th{}function JE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new tT(s.key,Zi.none()):new Gl(s.key,s.data,Zi.none());{const i=s.data,a=kn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Gr(s.key,a,new $n(l.toArray()),Zi.none())}}function pI(s,t,i){s instanceof Gl?(function(l,c,d){const p=l.value.clone(),y=Hv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Gr?(function(l,c,d){if(!Lc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Hv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(WE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Il(s,t,i,a){return s instanceof Gl?(function(c,d,p,y){if(!Lc(c.precondition,d))return p;const _=c.value.clone(),S=Fv(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Gr?(function(c,d,p,y){if(!Lc(c.precondition,d))return p;const _=Fv(c.fieldTransforms,y,d),S=d.data;return S.setAll(WE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,p){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function gI(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=YE(a.transform,l||null);c!=null&&(i===null&&(i=kn.empty()),i.set(a.field,c))}return i||null}function qv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&$a(a,l,((c,d)=>dI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Gl extends Th{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gr extends Th{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function WE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Hv(s,t,i){const a=new Map;Ft(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,fI(d,p,i[l]))}return a}function Fv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,hI(c,d,t))}return a}class tT extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yI extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _I{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&pI(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Il(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Il(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=QE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=JE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,((i,a)=>qv(i,a)))&&$a(this.baseMutations,t.baseMutations,((i,a)=>qv(i,a)))}}class Hm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return aI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Hm(t,i,a,l)}}class vI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,Lt;function TI(s){switch(s){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function eT(s){if(s===void 0)return ts("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ie.OK:return $.OK;case Ie.CANCELLED:return $.CANCELLED;case Ie.UNKNOWN:return $.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return $.INTERNAL;case Ie.UNAVAILABLE:return $.UNAVAILABLE;case Ie.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ie.NOT_FOUND:return $.NOT_FOUND;case Ie.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ie.ABORTED:return $.ABORTED;case Ie.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ie.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:s})}}(Lt=Ie||(Ie={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function SI(){return new TextEncoder}const bI=new Qs([4294967295,4294967295],0);function Gv(s){const t=SI().encode(s),i=new yE;return i.update(t),new Uint8Array(i.digest())}function Qv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qs([i,a],0),new Qs([l,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(a<0)throw new vl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Qs.fromNumber(a)));return l.compare(bI)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Gv(t),[a,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Gv(t),[a,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(Tt.min(),l,new ue(Mt),es(),Vt())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,Vt(),Vt(),Vt())}}class Pc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class nT{constructor(t,i){this.targetId=t,this.Ce=i}}class iT{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Kv{constructor(){this.ve=0,this.Fe=Yv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Yv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AI{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=Cc(),this.He=Cc(),this.Ye=new ue(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(um(c))if(a===0){const d=new dt(c.path);this.et(i,d,Ze.newNoDocument(d,Tt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Xs(a).toUint8Array()}catch(y){if(y instanceof CE)return Xa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Fm(d,l,c)}catch(y){return Xa(y instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&um(p.target)){const y=new dt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Vt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Sh(t,i,this.Ye,this.je,a);return this.je=es(),this.Je=Cc(),this.He=Cc(),this.Ye=new ue(Mt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Kv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Kv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new ue(dt.comparator)}function Yv(){return new ue(dt.comparator)}const wI={asc:"ASCENDING",desc:"DESCENDING"},RI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},II={and:"AND",or:"OR"};class CI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hm(s,t){return s.useProto3Json||ph(t)?t:{value:t}}function nh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function NI(s,t){return nh(s,t.toTimestamp())}function Ai(s){return Ft(!!s,49232),Tt.fromTimestamp((function(i){const a=Ys(i);return new se(a.seconds,a.nanos)})(s))}function Gm(s,t){return fm(s,t).canonicalString()}function fm(s,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function rT(s){const t=le.fromString(s);return Ft(cT(t),10190,{key:t.toString()}),t}function dm(s,t){return Gm(s.databaseId,t.path)}function jd(s,t){const i=rT(t);if(i.get(1)!==s.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(oT(i))}function aT(s,t){return Gm(s.databaseId,t)}function xI(s){const t=rT(s);return t.length===4?le.emptyPath():oT(t)}function mm(s){return new le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function oT(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Xv(s,t,i){return{name:dm(s,t),fields:i.value.mapValue.fields}}function DI(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Ft(S===void 0||typeof S=="string",58123),Ke.fromBase64String(S||"")):(Ft(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ke.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:eT(_.code);return new ut(S,_.message||"")})(d);i=new iT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=jd(s,a.document.name),c=Ai(a.document.updateTime),d=a.document.createTime?Ai(a.document.createTime):Tt.min(),p=new kn({mapValue:{fields:a.document.fields}}),y=Ze.newFoundDocument(l,c,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Pc(_,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=jd(s,a.document),c=a.readTime?Ai(a.readTime):Tt.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Pc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=jd(s,a.document),c=a.removedTargetIds||[];i=new Pc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new EI(l,c),p=a.targetId;i=new nT(p,d)}}return i}function OI(s,t){let i;if(t instanceof Gl)i={update:Xv(s,t.key,t.value)};else if(t instanceof tT)i={delete:dm(s,t.key)};else if(t instanceof Gr)i={update:Xv(s,t.key,t.data),updateMask:BI(t.fieldMask)};else{if(!(t instanceof yI))return _t(16599,{Vt:t.type});i={verify:dm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:NI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function MI(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(Tt.min())&&(d=Ai(c)),new mI(d,l.transformResults||[])})(i,t)))):[]}function VI(s,t){return{documents:[aT(s,t.path)]}}function kI(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=aT(s,l);const c=(function(_){if(_.length!==0)return uT(Ci.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(k){return{field:za(k.field),direction:PI(k.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=hm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function UI(s){let t=xI(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const k=lT(A);return k instanceof Ci&&PE(k)?k.getFilters():[k]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((k=>(function(J){return new Wc(ja(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(k)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let k;return k=typeof A=="object"?A.value:A,ph(k)?null:k})(i.limit));let y=null;i.startAt&&(y=(function(A){const k=!!A.before,Q=A.values||[];return new Jc(Q,k)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const k=!A.before,Q=A.values||[];return new Jc(Q,k)})(i.endAt)),tI(t,l,d,c,p,"F",y,_)}function LI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function lT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((a=>lT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function PI(s){return wI[s]}function zI(s){return RI[s]}function jI(s){return II[s]}function za(s){return{fieldPath:s.canonicalString()}}function ja(s){return Qe.fromServerFormat(s.fieldPath)}function uT(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(Uv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(kv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(kv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:zI(i.op),value:i.value}}})(s):s instanceof Ci?(function(i){const a=i.getFilters().map((l=>uT(l)));return a.length===1?a[0]:{compositeFilter:{op:jI(i.op),filters:a}}})(s):_t(54877,{filter:s})}function BI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function cT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class qs{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class qI{constructor(t){this.yt=t}}function HI(s){const t=UI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?cm(t,t.limit,"L"):t}class FI{constructor(){this.Cn=new GI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ks.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class GI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(le.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(le.comparator)).toArray()}}const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(hT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Wa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}const Zv="LruGarbageCollector",QI=1048576;function Jv([s,t],[i,a]){const l=Mt(s,i);return l===0?Mt(t,a):l}class KI{constructor(t){this.Ir=t,this.buffer=new Me(Jv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Jv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class YI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?st(Zv,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Vr(3e5)}))}}class XI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(mh.ce);const a=new KI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve($v)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),La()<=Ot.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function $I(s,t){return new XI(s,t)}class ZI{constructor(){this.changes=new Fr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class JI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class WI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Il(a.mutation,l,$n.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Mr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=_l();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Mr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=es();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((y,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Gr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Il(S.mutation,_,S.mutation.getFieldMask(),se.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new JI(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Rl();let l=new ue(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=a.get(y)||$n.empty();S=p.applyToLocalView(_,S),a.set(y,S);const A=(l.get(p.batchId)||Vt()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,S=y.value,A=QE();S.forEach((k=>{if(!c.has(k)){const Q=JE(i.get(k),a.get(k));Q!==null&&A.set(k,Q),c=c.add(k)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):eI(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Mr());let p=Dl,y=c;return d.next((_=>X.forEach(_,((S,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((k=>{y=y.insert(S,k)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Vt()))).next((S=>({batchId:p,changes:GE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=_l();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(A,k){return new yh(k,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((S=>{S.forEach(((A,k)=>{d=d.insert(A,k)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Ze.newInvalidDocument(S)))}));let p=_l();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&Il(S.mutation,_,$n.empty(),se.now()),vh(i,_)&&(p=p.insert(y,_))})),p}))}}class tC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:HI(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),X.resolve()}}class eC{constructor(){this.overlays=new ue(dt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Mr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Mr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=Mr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=Mr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new vI(i,a));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class nC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Qm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new dt(new le([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new le([])),a=new Le(i,t),l=new Le(i,t+1);let c=Vt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class iC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new _I(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new dt(c),0);let p=new Me(Mt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class sC{constructor(t){this.ri=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=es();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||OR(DR(S),a)<=0||(l.has(S.key)||vh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new rC(this)}getSize(t){return X.resolve(this.size)}}class rC extends ZI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class aC{constructor(t){this.persistence=t,this.si=new Fr((i=>zm(i)),jm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class fT{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new nC,this.referenceDelegate=t(this),this.Pi=new aC(this),this.indexManager=new FI,this.remoteDocumentCache=(function(l){return new sC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new qI(i),this.Ii=new tC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new eC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new iC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new oC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class oC extends VR{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Qm,this.Vi=null}static mi(t){return new Km(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=dt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ih{constructor(t,i){this.persistence=t,this.pi=new Fr((a=>LR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=$I(this,i)}static mi(t,i){return new ih(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ym{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(t,i.fromCache,a,l)}}class lC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class uC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Lb()?8:kR(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new lC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(La()<=Ot.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(La()<=Ot.DEBUG&&st("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(La()<=Ot.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):X.resolve())}ys(t,i){if(jv(i))return X.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=cm(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,cm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return jv(i)||l.isEqual(Tt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(La()<=Ot.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.vs(t,d,i,xR(l,Dl)).next((p=>p)))}))}Ds(t,i){let a=new Me(HE(t));return i.forEach(((l,c)=>{vh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return La()<=Ot.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,Ks.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",cC=3e8;class hC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Mt),this.xs=new Fr((c=>zm(c)),jm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new WI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function fC(s,t,i,a){return new hC(s,t,i,a)}async function dT(s,t){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Vt();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function dC(s,t){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,S){const A=_.batch,k=A.keys();let Q=X.resolve();return k.forEach((J=>{Q=Q.next((()=>S.getEntry(y,J))).next((tt=>{const Z=_.docVersions.get(J);Ft(Z!==null,48541),tt.version.compareTo(Z)<0&&(A.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),S.addEntry(tt)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Vt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function mT(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function mC(s,t){const i=bt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((S,A)=>{const k=l.get(A);if(!k)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let Q=k.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Q=Q.withResumeToken(Ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,a)),l=l.insert(A,Q),(function(tt,Z,ht){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=cC?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(k,Q,S)&&p.push(i.Pi.updateTargetData(c,Q))}));let y=es(),_=Vt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(pC(c,d,t.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!a.isEqual(Tt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function pC(s,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=es();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):st(Xm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function gC(s,t){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function yC(s,t){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function pm(s,t,i){const a=bt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;st(Xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Wv(s,t,i){const a=bt(s);let l=Tt.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const A=bt(y),k=A.xs.get(S);return k!==void 0?X.resolve(A.Ms.get(k)):A.Pi.getTargetData(_,S)})(a,d,bi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Vt()))).next((p=>(_C(a,iI(t),p),{documents:p,Qs:c})))))}function _C(s,t,i){let a=s.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class t0{constructor(){this.activeTargetIds=uI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vC{constructor(){this.Mo=new t0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new t0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class EC{Oo(t){}shutdown(){}}const e0="ConnectivityMonitor";class n0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(e0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(e0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function gm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Bd="RestConnection",TC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=gm(),p=this.zo(t,i.toUriEncodedString());st(Bd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),S=eo(_);return this.Jo(t,p,y,a,S).then((A=>(st(Bd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Xa(Bd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=TC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class bC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class AC extends SC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=gm();return new Promise(((p,y)=>{const _=new _E;_.setWithCredentials(!0),_.listenOnce(vE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Vc.NO_ERROR:const A=_.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Vc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),y(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const k=_.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,k,"response text:",_.getResponseText()),k>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const tt=(function(ht){const vt=ht.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(vt)>=0?vt:$.UNKNOWN})(J.status);y(new ut(tt,J.message))}else y(new ut($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ut($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);st(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=gm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=SE(),p=TE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const S=c.join("");st(Xe,`Creating RPC '${t}' stream ${l}: ${S}`,y);const A=d.createWebChannel(S,y);this.I_(A);let k=!1,Q=!1;const J=new bC({Yo:Z=>{Q?st(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(k||(st(Xe,`Opening RPC '${t}' stream ${l} transport.`),A.open(),k=!0),st(Xe,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),tt=(Z,ht,vt)=>{Z.listen(ht,(mt=>{try{vt(mt)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return tt(A,yl.EventType.OPEN,(()=>{Q||(st(Xe,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),tt(A,yl.EventType.CLOSE,(()=>{Q||(Q=!0,st(Xe,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(A))})),tt(A,yl.EventType.ERROR,(Z=>{Q||(Q=!0,Xa(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),tt(A,yl.EventType.MESSAGE,(Z=>{if(!Q){const ht=Z.data[0];Ft(!!ht,16349);const vt=ht,mt=vt?.error||vt[0]?.error;if(mt){st(Xe,`RPC '${t}' stream ${l} received error:`,mt);const lt=mt.status;let gt=(function(b){const I=Ie[b];if(I!==void 0)return eT(I)})(lt),it=mt.message;gt===void 0&&(gt=$.INTERNAL,it="Unknown error status: "+lt+" with message "+mt.message),Q=!0,J.a_(new ut(gt,it)),A.close()}else st(Xe,`RPC '${t}' stream ${l} received:`,ht),J.u_(ht)}})),tt(p,EE.STAT_EVENT,(Z=>{Z.stat===sm.PROXY?st(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===sm.NOPROXY&&st(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function bh(s){return new CI(s,!0)}class pT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const i0="PersistentStream";class gT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(i0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(i0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wC extends gT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=DI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Ai(d.readTime):Tt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=um(y)?{documents:VI(c,y)}:{query:kI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=sT(c,d.resumeToken);const _=hm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=nh(c,d.snapshotVersion.toTimestamp());const _=hm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=LI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=mm(this.serializer),i.removeTarget=t,this.q_(i)}}class RC extends gT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=MI(t.writeResults,t.commitTime),a=Ai(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=mm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>OI(this.serializer,a)))};this.q_(i)}}class IC{}class CC extends IC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,fm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class xC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Qr(this)&&(st(Br,"Restarting streams for network reachability change."),await(async function(y){const _=bt(y);_.Ea.add(4),await Kl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ah(_)})(this))}))})),this.Ra=new NC(a,l)}}async function Ah(s){if(Qr(s))for(const t of s.da)await t(!0)}async function Kl(s){for(const t of s.da)await t(!1)}function yT(s,t){const i=bt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Wm(i)?Jm(i):oo(i).O_()&&Zm(i,t))}function $m(s,t){const i=bt(s),a=oo(i);i.Ia.delete(t),a.O_()&&_T(i,t),i.Ia.size===0&&(a.O_()?a.L_():Qr(i)&&i.Ra.set("Unknown"))}function Zm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(s).Y_(t)}function _T(s,t){s.Va.Ue(t),oo(s).Z_(t)}function Jm(s){s.Va=new AI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),oo(s).start(),s.Ra.ua()}function Wm(s){return Qr(s)&&!oo(s).x_()&&s.Ia.size>0}function Qr(s){return bt(s).Ea.size===0}function vT(s){s.Va=void 0}async function DC(s){s.Ra.set("Online")}async function OC(s){s.Ia.forEach(((t,i)=>{Zm(s,t)}))}async function MC(s,t){vT(s),Wm(s)?(s.Ra.ha(t),Jm(s)):s.Ra.set("Unknown")}async function VC(s,t,i){if(s.Ra.set("Online"),t instanceof iT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){st(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(s,a)}else if(t instanceof Pc?s.Va.Ze(t):t instanceof nT?s.Va.st(t):s.Va.tt(t),!i.isEqual(Tt.min()))try{const a=await mT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Ke.EMPTY_BYTE_STRING,S.snapshotVersion)),_T(c,y);const A=new qs(S.target,y,_,S.sequenceNumber);Zm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){st(Br,"Failed to raise snapshot:",a),await sh(s,a)}}async function sh(s,t,i){if(!ao(t))throw t;s.Ea.add(1),await Kl(s),s.Ra.set("Offline"),i||(i=()=>mT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Br,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ah(s)}))}function ET(s,t){return t().catch((i=>sh(s,i,t)))}async function wh(s){const t=bt(s),i=Zs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Um;for(;kC(t);)try{const l=await gC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,UC(t,l)}catch(l){await sh(t,l)}TT(t)&&ST(t)}function kC(s){return Qr(s)&&s.Ta.length<10}function UC(s,t){s.Ta.push(t);const i=Zs(s);i.O_()&&i.X_&&i.ea(t.mutations)}function TT(s){return Qr(s)&&!Zs(s).x_()&&s.Ta.length>0}function ST(s){Zs(s).start()}async function LC(s){Zs(s).ra()}async function PC(s){const t=Zs(s);for(const i of s.Ta)t.ea(i.mutations)}async function zC(s,t,i){const a=s.Ta.shift(),l=Hm.from(a,t,i);await ET(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await wh(s)}async function jC(s,t){t&&Zs(s).X_&&await(async function(a,l){if((function(d){return TI(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();Zs(a).B_(),await ET(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(s,t),TT(s)&&ST(s)}async function s0(s,t){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),st(Br,"RemoteStore received new credentials");const a=Qr(i);i.Ea.add(3),await Kl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function BC(s,t){const i=bt(s);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function oo(s){return s.ma||(s.ma=(function(i,a,l){const c=bt(i);return c.sa(),new wC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:DC.bind(null,s),t_:OC.bind(null,s),r_:MC.bind(null,s),H_:VC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Wm(s)?Jm(s):s.Ra.set("Unknown")):(await s.ma.stop(),vT(s))}))),s.ma}function Zs(s){return s.fa||(s.fa=(function(i,a,l){const c=bt(i);return c.sa(),new RC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:LC.bind(null,s),r_:jC.bind(null,s),ta:PC.bind(null,s),na:zC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await wh(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Br,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tp{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new tp(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(s,t){if(ts("AsyncQueue",`${t}: ${s}`),ao(s))return new ut($.UNAVAILABLE,`${t}: ${s}`);throw s}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=_l(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class r0{constructor(){this.ga=new ue(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new to(t,i,Qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class qC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class HC{constructor(){this.queries=a0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=a0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function a0(){return new Fr((s=>qE(s)),_h)}async function FC(s,t){const i=bt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new qC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ep(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&np(i)}async function GC(s,t){const i=bt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function QC(s,t){const i=bt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&np(i)}function KC(s,t,i){const a=bt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function np(s){s.Ca.forEach((t=>{t.next()}))}var ym,o0;(o0=ym||(ym={})).Ma="default",o0.Cache="cache";class YC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ym.Cache}}class bT{constructor(t){this.key=t}}class AT{constructor(t){this.key=t}}class XC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=HE(t),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new r0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,A)=>{const k=l.get(S),Q=vh(this.query,A)?A:null,J=!!k&&this.mutatedKeys.has(k.key),tt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Z=!1;k&&Q?k.data.isEqual(Q.data)?J!==tt&&(a.track({type:3,doc:Q}),Z=!0):this.su(k,Q)||(a.track({type:2,doc:Q}),Z=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!k&&Q?(a.track({type:0,doc:Q}),Z=!0):k&&!Q&&(a.track({type:1,doc:k}),Z=!0,(y||_)&&(p=!0)),Z&&(Q?(d=d.add(Q),c=tt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,A)=>(function(Q,J){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:Z})}};return tt(Q)-tt(J)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new AT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new bT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ip="SyncEngine";class $C{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class ZC{constructor(t){this.key=t,this.hu=!1}}class JC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((p=>qE(p)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new ue(dt.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WC(s,t,i=!0){const a=xT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await wT(a,t,i,!0),l}async function tN(s,t){const i=xT(s);await wT(i,t,!0,!1)}async function wT(s,t,i,a){const l=await yC(s.localStore,bi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await eN(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&yT(s.remoteStore,l),p}async function eN(s,t,i,a,l){s.pu=(A,k,Q)=>(async function(tt,Z,ht,vt){let mt=Z.view.ru(ht);mt.Cs&&(mt=await Wv(tt.localStore,Z.query,!1).then((({documents:w})=>Z.view.ru(w,mt))));const lt=vt&&vt.targetChanges.get(Z.targetId),gt=vt&&vt.targetMismatches.get(Z.targetId)!=null,it=Z.view.applyChanges(mt,tt.isPrimaryClient,lt,gt);return u0(tt,Z.targetId,it.au),it.snapshot})(s,A,k,Q);const c=await Wv(s.localStore,t,!0),d=new XC(t,c.Qs),p=d.ru(c.documents),y=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);u0(s,i,_.au);const S=new $C(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function nN(s,t,i){const a=bt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!_h(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await pm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&$m(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(ro)):(_m(a,l.targetId),await pm(a.localStore,l.targetId,!0))}async function iN(s,t){const i=bt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),$m(i.remoteStore,a.targetId))}async function sN(s,t,i){const a=hN(s);try{const l=await(function(d,p){const y=bt(d),_=se.now(),S=p.reduce(((Q,J)=>Q.add(J.key)),Vt());let A,k;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let J=es(),tt=Vt();return y.Ns.getEntries(Q,S).next((Z=>{J=Z,J.forEach(((ht,vt)=>{vt.isValidDocument()||(tt=tt.add(ht))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,J))).next((Z=>{A=Z;const ht=[];for(const vt of p){const mt=gI(vt,A.get(vt.key).overlayedDocument);mt!=null&&ht.push(new Gr(vt.key,mt,kE(mt.value.mapValue),Zi.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,ht,p)})).next((Z=>{k=Z;const ht=Z.applyToLocalDocumentSet(A,tt);return y.documentOverlayCache.saveOverlays(Q,Z.batchId,ht)}))})).then((()=>({batchId:k.batchId,changes:GE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(Mt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Yl(a,l.changes),await wh(a.remoteStore)}catch(l){const c=ep(l,"Failed to persist write");i.reject(c)}}async function RT(s,t){const i=bt(s);try{const a=await mC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await ro(a)}}function l0(s,t,i){const a=bt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=bt(d);y.onlineState=p;let _=!1;y.queries.forEach(((S,A)=>{for(const k of A.Sa)k.va(p)&&(_=!0)})),_&&np(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function rN(s,t,i){const a=bt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(dt.comparator);d=d.insert(c,Ze.newNoDocument(c,Tt.min()));const p=Vt().add(c),y=new Sh(Tt.min(),new Map,new ue(Mt),d,p);await RT(a,y),a.du=a.du.remove(c),a.Au.delete(t),sp(a)}else await pm(a.localStore,t,!1).then((()=>_m(a,t,i))).catch(ro)}async function aN(s,t){const i=bt(s),a=t.batch.batchId;try{const l=await dC(i.localStore,t);CT(i,a,null),IT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await ro(l)}}async function oN(s,t,i){const a=bt(s);try{const l=await(function(d,p){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Ft(A!==null,37113),S=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(a.localStore,t);CT(a,t,i),IT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await ro(l)}}function IT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function CT(s,t,i){const a=bt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function _m(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||NT(s,a)}))}function NT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&($m(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),sp(s))}function u0(s,t,i){for(const a of i)a instanceof bT?(s.Ru.addReference(a.key,t),lN(s,a)):a instanceof AT?(st(ip,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||NT(s,a.key)):_t(19791,{wu:a})}function lN(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(st(ip,"New document in limbo: "+i),s.Eu.add(a),sp(s))}function sp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(le.fromString(t)),a=s.fu.next();s.Au.set(a,new ZC(i)),s.du=s.du.insert(i,a),yT(s.remoteStore,new qs(bi(Bm(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Yl(s,t,i){const a=bt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Ym.As(y.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const S=bt(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(k=>X.forEach(k.Es,(Q=>S.persistence.referenceDelegate.addReference(A,k.targetId,Q))).next((()=>X.forEach(k.ds,(Q=>S.persistence.referenceDelegate.removeReference(A,k.targetId,Q)))))))))}catch(A){if(!ao(A))throw A;st(Xm,"Failed to update sequence numbers: "+A)}for(const A of _){const k=A.targetId;if(!A.fromCache){const Q=S.Ms.get(k),J=Q.snapshotVersion,tt=Q.withLastLimboFreeSnapshotVersion(J);S.Ms=S.Ms.insert(k,tt)}}})(a.localStore,c))}async function uN(s,t){const i=bt(s);if(!i.currentUser.isEqual(t)){st(ip,"User change. New user:",t.toKey());const a=await dT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ut($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ls)}}function cN(s,t){const i=bt(s),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function xT(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rN.bind(null,t),t.Pu.H_=QC.bind(null,t.eventManager),t.Pu.yu=KC.bind(null,t.eventManager),t}function hN(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oN.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return fC(this.persistence,new uC,t.initialUser,this.serializer)}Cu(t){return new fT(Km.mi,this.serializer)}Du(t){return new vC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class fN extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new YI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new fT((a=>ih.mi(a,i)),this.serializer)}}class vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>l0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=uN.bind(null,this.syncEngine),await BC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HC})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),a=(function(c){return new AC(c)})(t.databaseInfo);return(function(c,d,p,y){return new CC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new xC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>l0(this.syncEngine,i,0)),(function(){return n0.v()?new n0:new EC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,S){const A=new JC(l,c,d,p,y,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);st(Br,"RemoteStore shutting down."),a.Ea.add(5),await Kl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class dN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Js="FirestoreClient";class mN{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(Js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(Js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ep(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(s,t){s.asyncQueue.verifyOperationInProgress(),st(Js,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await dT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function c0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await pN(s);st(Js,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>s0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>s0(t.remoteStore,l))),s._onlineComponents=t}async function pN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(Js,"Using user provided OfflineComponentProvider");try{await Hd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xa("Error using user provided cache. Falling back to memory cache: "+i),await Hd(s,new rh)}}else st(Js,"Using default OfflineComponentProvider"),await Hd(s,new fN(void 0));return s._offlineComponents}async function DT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(Js,"Using user provided OnlineComponentProvider"),await c0(s,s._uninitializedComponentsProvider._online)):(st(Js,"Using default OnlineComponentProvider"),await c0(s,new vm))),s._onlineComponents}function gN(s){return DT(s).then((t=>t.syncEngine))}async function h0(s){const t=await DT(s),i=t.eventManager;return i.onListen=WC.bind(null,t.syncEngine),i.onUnlisten=nN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=tN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=iN.bind(null,t.syncEngine),i}function OT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const f0=new Map;const MT="firestore.googleapis.com",d0=!0;class m0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=d0}else this.host=t.host,this.ssl=t.ssl??d0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QI)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rp{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _R;switch(a.type){case"firstParty":return new SR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=f0.get(i);a&&(st("ComponentProvider","Removing Datastore"),f0.delete(i),a.terminate())})(this),Promise.resolve()}}function yN(s,t,i,a={}){s=Ga(s,rp);const l=eo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(N0(`https://${p}`),x0("Firestore",!0)),c.host!==MT&&c.host!==p&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Ur(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=$e.MOCK_USER;else{_=Cb(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $e(A)}s._authCredentials=new vR(new AE(_,S))}}class Rh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Rh(this.firestore,t,this._query)}}class Pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,Pe._jsonSchema))return new Pe(t,a||null,new dt(le.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Ce("string",Pe._jsonSchemaVersion),referencePath:Ce("string")};class Ll extends Rh{constructor(t,i,a){super(t,i,Bm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new dt(t))}withConverter(t){return new Ll(this.firestore,t,this._path)}}function Fd(s,t,...i){if(s=hn(s),arguments.length===1&&(t=Vm.newId()),CR("doc","path",t),s instanceof rp){const a=le.fromString(t,...i);return Iv(a),new Pe(s,null,new dt(a))}{if(!(s instanceof Pe||s instanceof Ll))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(le.fromString(t,...i));return Iv(a),new Pe(s.firestore,s instanceof Ll?s.converter:null,new dt(a))}}const p0="AsyncQueue";class g0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pT(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&st(p0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;st(p0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",y0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=tp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function y0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function _0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ah extends rp{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new g0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new g0(t),this._firestoreClient=void 0,await t}}}function _N(s,t){const i=typeof s=="object"?s:V0(),a=typeof s=="string"?s:$c,l=Am(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Rb("firestore");c&&yN(l,...c)}return l}function VT(s){if(s._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||vN(s),s._firestoreClient}function vN(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new jR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,OT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new mN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ke.fromBase64String(t))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};class ap{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class kT{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ri(t.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Ce("string",Ri._jsonSchemaVersion),vectorValues:Ce("object")};const EN=/^__.*__$/;class TN{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}function UT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class op{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new op({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(UT(this.Ac)&&EN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class SN{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||bh(t)}Cc(t,i,a,l=!1){return new op({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bN(s){const t=s._freezeSettings(),i=bh(s._databaseId);return new SN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function AN(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);jT("Data must be an object, but it was:",d,a);const p=PT(a,d);let y,_;if(c.merge)y=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const k=wN(t,A,i);if(!d.contains(k))throw new ut($.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);IN(S,k)||S.push(k)}y=new $n(S),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new TN(new kn(p),y,_)}function LT(s,t){if(zT(s=hn(s)))return jT("Unsupported field value:",t,s),PT(s,t);if(s instanceof kT)return(function(a,l){if(!UT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=LT(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return cI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:nh(l.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:sT(l.serializer,a._byteString)};if(a instanceof Pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ri)return(function(d,p){return{mapValue:{fields:{[ME]:{stringValue:VE},[Zc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return qm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${km(a)}`)})(s,t)}function PT(s,t){const i={};return IE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(s,((a,l)=>{const c=LT(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function zT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof wi||s instanceof Un||s instanceof Pe||s instanceof kT||s instanceof Ri)}function jT(s,t,i){if(!zT(i)||!wE(i)){const a=km(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function wN(s,t,i){if((t=hn(t))instanceof ap)return t._internalPath;if(typeof t=="string")return BT(s,t);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const RN=new RegExp("[~\\*/\\[\\]]");function BT(s,t,i){if(t.search(RN)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ap(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ut($.INVALID_ARGUMENT,p+s+y)}function IN(s,t){return s.some((i=>i.isEqual(t)))}class qT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(HT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CN extends qT{data(){return super.data()}}function HT(s,t){return typeof t=="string"?BT(s,t):t instanceof ap?t._internalPath:t._delegate._internalPath}function NN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xN{convertValue(t,i="none"){switch($s(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Hr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Ri(i)}convertGeoPoint(t){return new wi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=gh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=Ys(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);Ft(cT(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function DN(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class El{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kr extends qT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(HT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",kr._jsonSchema={type:Ce("string",kr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class zc extends kr{data(t={}){return super.data(t)}}class Ka{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new El(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:ON(p.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ON(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Ce("string",Ka._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class FT extends xN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function v0(s,t,i){s=Ga(s,Pe);const a=Ga(s.firestore,ah),l=DN(s.converter,t,i);return VN(a,[AN(bN(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Zi.none())])}function MN(s,...t){s=hn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||_0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Pe)d=Ga(s.firestore,ah),p=Bm(s._key.path),c={next:y=>{t[a]&&t[a](kN(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Ga(s,Rh);d=Ga(y.firestore,ah),p=y._query;const _=new FT(d);c={next:S=>{t[a]&&t[a](new Ka(d,_,y,S))},error:t[a+1],complete:t[a+2]},NN(s._query)}return(function(_,S,A,k){const Q=new dN(k),J=new YC(S,Q,A);return _.asyncQueue.enqueueAndForget((async()=>FC(await h0(_),J))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>GC(await h0(_),J)))}})(VT(d),p,l,c)}function VN(s,t){return(function(a,l){const c=new Vr;return a.asyncQueue.enqueueAndForget((async()=>sN(await gN(a),l,c))),c.promise})(VT(s),t)}function kN(s,t,i){const a=i.docs.get(t._key),l=new FT(s);return new kr(s,l,t._key,a,new El(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){so=l})(no),Ya(new Lr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ah(new ER(a.getProvider("auth-internal")),new bR(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(_.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gs(bv,Av,t),Gs(bv,Av,"esm2020")})();const UN={apiKey:"AIzaSyC9cqkStoTD-qXH8NCZeNKkti4ayfREE-Q",authDomain:"efaqa-life.firebaseapp.com",projectId:"efaqa-life",storageBucket:"efaqa-life.firebasestorage.app",messagingSenderId:"525492331370",appId:"1:525492331370:web:020ac74f445b1e19febb13"},GT=M0(UN),lh=gR(GT),Gd=_N(GT),Qd=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{var t=Math.random()*16|0,i=s=="x"?t:t&3|8;return i.toString(16)}),LN=(s,t)=>{const i=Qd(),a=Qd(),l=Qd(),c=`com.techguard.profile.${t.stableId}`,d=t.blockedSites.map(y=>`<string>${y}</string>`).join(""),p=t.blockedApps?t.blockedApps.map(y=>`<string>${y.bundleId}</string>`).join(""):"";return`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>PayloadContent</key>
    <array>
        <dict>
            <key>AutoFilterEnabled</key>
            <${t.adultFilterEnabled}/>
            <key>FilterType</key>
            <string>BuiltIn</string>
            <key>UserDefinedName</key>
            <string>Efaqa Web Filter</string>
            <key>PayloadDisplayName</key>
            <string>Web Content Filter</string>
            <key>PayloadIdentifier</key>
            <string>com.efaqa.webfilter.${i}</string>
            <key>PayloadType</key>
            <string>com.apple.webcontent-filter</string>
            <key>PayloadUUID</key>
            <string>${i}</string>
            <key>PayloadVersion</key>
            <integer>1</integer>
            ${t.blockedSites.length>0?`<key>DenyListURLs</key><array>${d}</array>`:""}
        </dict>
        ${p?`
        <dict>
            <key>PayloadDisplayName</key>
            <string>App Restrictions</string>
            <key>PayloadIdentifier</key>
            <string>com.efaqa.restrictions.${a}</string>
            <key>PayloadType</key>
            <string>com.apple.applicationaccess</string>
            <key>PayloadUUID</key>
            <string>${a}</string>
            <key>PayloadVersion</key>
            <integer>1</integer>
            <key>blacklistedAppBundleIDs</key>
            <array>
                ${p}
            </array>
        </dict>
        `:""}
    </array>
    <key>PayloadDisplayName</key>
    <string>Efaqa Profile (${s.email})</string>
    <key>PayloadIdentifier</key>
    <string>${c}</string>
    <key>PayloadRemovalDisallowed</key>
    <true/> 
    <key>PayloadType</key>
    <string>Configuration</string>
    <key>PayloadUUID</key>
    <string>${l}</string>
    <key>PayloadVersion</key>
    <integer>1</integer>
    <key>PayloadOrganization</key>
    <string>Efaqa Life</string>
    <key>PayloadDescription</key>
    <string>Profile generated for ${s.email}. Includes Web & App restrictions.</string>
</dict>
</plist>`},PN=({onComplete:s})=>{const[t,i]=zt.useState("tension");return zt.useEffect(()=>{const a=setTimeout(()=>i("break"),1500),l=setTimeout(()=>i("glow"),2200),c=setTimeout(()=>s(),3500);return()=>{clearTimeout(a),clearTimeout(l),clearTimeout(c)}},[s]),N.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-[#050b14]/80 backdrop-blur-xl transition-all duration-500",children:[N.jsxs("div",{className:"relative w-full max-w-sm aspect-video flex items-center justify-center",children:[N.jsx("div",{className:`absolute inset-0 bg-cyan-500/30 rounded-full blur-[80px] transition-all duration-1000 ${t==="glow"?"opacity-60 scale-125":"opacity-0 scale-0"}`}),N.jsx("div",{className:`transition-all duration-700 ease-out ${t==="tension"?"animate-shake":t==="break"||t==="glow"?"-translate-x-24 rotate-[-15deg] opacity-0":""}`,children:N.jsx(B_,{className:`w-24 h-24 text-slate-400 ${t==="tension"?"text-red-400 drop-shadow-[0_0_10px_rgba(248,113,113,0.4)]":""}`,strokeWidth:2})}),N.jsx("div",{className:`transition-all duration-700 ease-out -ml-8 ${t==="tension"?"animate-shake-reverse":t==="break"||t==="glow"?"translate-x-24 rotate-[15deg] opacity-0":""}`,children:N.jsx(B_,{className:`w-24 h-24 text-slate-400 transform rotate-180 ${t==="tension"?"text-red-400 drop-shadow-[0_0_10px_rgba(248,113,113,0.4)]":""}`,strokeWidth:2})}),N.jsx("div",{className:`absolute inset-0 bg-white transition-opacity duration-150 pointer-events-none ${t==="break"?"opacity-40":"opacity-0"}`}),N.jsxs("div",{className:`absolute flex flex-col items-center transition-all duration-1000 ${t==="glow"?"opacity-100 scale-100":"opacity-0 scale-75"}`,children:[N.jsx("div",{className:"bg-cyan-500/10 p-4 rounded-full border border-cyan-500/20 mb-3 backdrop-blur-md",children:N.jsx(qS,{className:"w-10 h-10 text-cyan-400"})}),N.jsx("h2",{className:"text-xl font-semibold text-white tracking-wide",children:" "}),N.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"  ..."})]})]}),N.jsx("style",{children:`
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-1px) rotate(-1deg); } 75% { transform: translateX(1px) rotate(1deg); } }
        @keyframes shake-reverse { 0%, 100% { transform: rotate(180deg) translateX(0); } 25% { transform: rotate(180deg) translateX(-1px) rotate(1deg); } 75% { transform: rotate(180deg) translateX(1px) rotate(-1deg); } }
        .animate-shake { animation: shake 0.1s infinite; }
        .animate-shake-reverse { animation: shake-reverse 0.1s infinite; }
      `})]})},QT=({size:s="normal"})=>N.jsxs("div",{className:`flex items-center gap-3 ${s==="large"?"flex-col mb-6":""}`,children:[N.jsx("div",{className:`relative group ${s==="large"?"w-20 h-20":"w-9 h-9"}`,children:N.jsxs("div",{className:"relative w-full h-full bg-black/40 rounded-2xl border border-white/10 shadow-lg overflow-hidden flex items-center justify-center backdrop-blur-sm",children:[N.jsx("img",{src:"/logo.jpg",alt:" ",className:"w-full h-full object-cover",onError:i=>{i.target.style.display="none",i.target.nextSibling.style.display="block"}}),N.jsx(Tm,{className:"w-1/2 h-1/2 text-cyan-400 hidden",strokeWidth:2})]})}),N.jsx("div",{className:`flex flex-col ${s==="large"?"items-center":""}`,children:N.jsx("h1",{className:`${s==="large"?"text-2xl mt-3":"text-lg"} font-semibold tracking-tight text-white`,style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:""})})]}),uh=({children:s,onClick:t,disabled:i,icon:a,className:l="",variant:c="primary"})=>{const d="relative group w-full flex items-center justify-center gap-2 font-medium text-sm py-2.5 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]",p={primary:"bg-cyan-600 hover:bg-cyan-500 text-white shadow-sm hover:shadow-md hover:shadow-cyan-900/20 border border-transparent",secondary:"bg-white/5 hover:bg-white/10 text-slate-300 hover:text-white border border-white/10 backdrop-blur-sm",danger:"bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20"};return N.jsxs("button",{onClick:t,disabled:i,className:`${d} ${p[c]} ${l}`,children:[a&&N.jsx(a,{className:"w-4 h-4"}),N.jsx("span",{children:s})]})},Tl=({children:s,className:t=""})=>N.jsx("div",{className:`relative bg-[#0A0F1C]/60 backdrop-blur-2xl border border-white/5 rounded-2xl overflow-hidden shadow-xl ${t}`,children:s}),zN=()=>{const[s,t]=zt.useState(!0),[i,a]=zt.useState(""),[l,c]=zt.useState(""),[d,p]=zt.useState(""),[y,_]=zt.useState(!1),S=async A=>{A.preventDefault(),p(""),_(!0);try{s?await e2(lh,i,l):await t2(lh,i,l)}catch(k){p(k.message.replace("Firebase: ",""))}finally{_(!1)}};return N.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden bg-[#05080F]",dir:"rtl",children:[N.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[500px] h-[500px] bg-cyan-900/10 rounded-full blur-[100px] pointer-events-none"}),N.jsxs(Tl,{className:"w-full max-w-sm p-8 border-white/10",children:[N.jsx("div",{className:"flex flex-col items-center mb-6",children:N.jsx(QT,{size:"large"})}),N.jsx("h2",{className:"text-xl font-semibold text-white text-center mb-2",children:s?" ":" "}),N.jsx("p",{className:"text-slate-400 text-center mb-6 text-xs leading-relaxed",children:s?"   ":"   "}),d&&N.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 p-3 rounded-lg mb-5 text-xs text-center flex items-center justify-center gap-2",children:[N.jsx(mb,{className:"w-3 h-3"}),d]}),N.jsxs("form",{onSubmit:S,className:"space-y-4",children:[N.jsxs("div",{className:"space-y-1.5",children:[N.jsx("label",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider mr-1",children:" "}),N.jsx("input",{type:"email",required:!0,value:i,onChange:A=>a(A.target.value),className:"w-full bg-black/20 border border-white/10 focus:border-cyan-500/50 rounded-lg px-3 py-2.5 text-sm text-white placeholder-slate-600 focus:outline-none focus:ring-1 focus:ring-cyan-500/50 transition-all",placeholder:"name@example.com"})]}),N.jsxs("div",{className:"space-y-1.5",children:[N.jsx("label",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider mr-1",children:" "}),N.jsx("input",{type:"password",required:!0,value:l,onChange:A=>c(A.target.value),className:"w-full bg-black/20 border border-white/10 focus:border-cyan-500/50 rounded-lg px-3 py-2.5 text-sm text-white placeholder-slate-600 focus:outline-none focus:ring-1 focus:ring-cyan-500/50 transition-all",placeholder:"",minLength:6})]}),N.jsx(uh,{type:"submit",disabled:y,icon:y?jc:s?yb:Tm,className:y?"cursor-wait":"mt-2",children:y?" ...":s?"":""})]}),N.jsx("div",{className:"mt-6 pt-4 border-t border-white/5 text-center",children:N.jsx("button",{onClick:()=>t(!s),className:"text-slate-500 hover:text-cyan-400 text-xs transition-colors duration-200",children:s?"    ":"   "})})]})]})},jN=({user:s,onLogout:t,children:i,activeTab:a,setActiveTab:l})=>N.jsxs("div",{className:"min-h-screen bg-[#05080F] text-slate-200 font-sans selection:bg-cyan-500/30",dir:"rtl",children:[N.jsxs("nav",{className:"sticky top-0 z-50 border-b border-white/5 bg-[#05080F]/80 backdrop-blur-xl",children:[N.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6",children:N.jsxs("div",{className:"flex justify-between h-16 items-center",children:[N.jsxs("div",{className:"flex items-center gap-6",children:[N.jsx(QT,{}),N.jsxs("div",{className:"hidden md:flex items-center bg-white/5 p-1 rounded-xl border border-white/5",children:[N.jsx(Ls,{active:a==="web",onClick:()=>l("web"),icon:N.jsx(Kd,{size:14}),label:"",isNew:!0}),N.jsx(Ls,{active:a==="apps",onClick:()=>l("apps"),icon:N.jsx(j_,{size:14}),label:""}),N.jsx(Ls,{active:a==="network",onClick:()=>l("network"),icon:N.jsx(G_,{size:14}),label:""}),N.jsx(Ls,{active:a==="settings",onClick:()=>l("settings"),icon:N.jsx(H_,{size:14}),label:""})]})]}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("div",{className:"hidden sm:flex flex-col items-end pr-4 border-r border-white/5",children:[N.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:""}),N.jsx("span",{className:"text-xs text-slate-300 font-medium truncate max-w-[120px]",children:s.email.split("@")[0]})]}),N.jsx("button",{onClick:t,className:"group p-2 text-slate-400 hover:text-white hover:bg-white/5 rounded-lg transition-all",children:N.jsx(JS,{className:"w-4 h-4"})})]})]})}),N.jsx("div",{className:"md:hidden border-t border-white/5 overflow-x-auto pb-0.5 bg-[#05080F]",children:N.jsxs("div",{className:"flex gap-1 p-2 min-w-max",children:[N.jsx(Ls,{active:a==="web",onClick:()=>l("web"),icon:N.jsx(Kd,{size:14}),label:"",isNew:!0,mobile:!0}),N.jsx(Ls,{active:a==="apps",onClick:()=>l("apps"),icon:N.jsx(j_,{size:14}),label:"",mobile:!0}),N.jsx(Ls,{active:a==="network",onClick:()=>l("network"),icon:N.jsx(G_,{size:14}),label:"",mobile:!0}),N.jsx(Ls,{active:a==="settings",onClick:()=>l("settings"),icon:N.jsx(H_,{size:14}),label:"",mobile:!0})]})})]}),N.jsx("main",{className:"max-w-5xl mx-auto p-4 sm:p-6 relative z-10 animate-fadeIn",children:i})]}),Ls=({active:s,onClick:t,icon:i,label:a,isNew:l,mobile:c})=>N.jsx("button",{onClick:t,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${s?"bg-white/10 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-white/5"} ${c?"flex-1 justify-center":""}`,children:N.jsxs("div",{className:"flex items-center gap-1.5",children:[i," ",N.jsx("span",{children:a}),l&&s&&N.jsx("span",{className:"w-1.5 h-1.5 bg-cyan-400 rounded-full animate-pulse"})]})});function BN(){const[s,t]=zt.useState(null),[i,a]=zt.useState(!0),[l,c]=zt.useState("web"),[d,p]=zt.useState(null),[y,_]=zt.useState(!1),[S,A]=zt.useState(!1);zt.useEffect(()=>{const lt=s2(lh,gt=>{t(gt),a(!1)});return()=>lt()},[]),zt.useEffect(()=>{if(!s)return;const lt=MN(Fd(Gd,"profiles",s.uid),gt=>{if(gt.exists())p(gt.data());else{const it={stableId:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,w=>{var b=Math.random()*16|0,I=w=="x"?b:b&3|8;return I.toString(16)}),adultFilterEnabled:!0,blockedSites:[],blockedApps:[]};v0(Fd(Gd,"profiles",s.uid),it),p(it)}});return()=>lt()},[s]);const k=async lt=>{if(s){_(!0),p(lt);try{await v0(Fd(Gd,"profiles",s.uid),lt,{merge:!0})}catch(gt){console.error("Error syncing:",gt)}finally{setTimeout(()=>_(!1),800)}}},Q=()=>k({...d,adultFilterEnabled:!d.adultFilterEnabled}),J=lt=>{const it=(Array.isArray(lt)?lt:[lt]).filter(w=>w&&!d.blockedSites.includes(w));it.length>0&&k({...d,blockedSites:[...d.blockedSites,...it]})},tt=lt=>k({...d,blockedSites:d.blockedSites.filter(gt=>gt!==lt)}),Z=lt=>{const gt=Array.isArray(lt)?lt:[lt];d.blockedApps||(d.blockedApps=[]);const it=gt.filter(w=>!d.blockedApps.find(b=>b.bundleId===w.bundleId));it.length>0&&k({...d,blockedApps:[...d.blockedApps,...it]})},ht=lt=>k({...d,blockedApps:d.blockedApps.filter(gt=>gt.bundleId!==lt)}),vt=()=>A(!0),mt=()=>{const lt=LN({email:s.email},d),gt=document.createElement("a");gt.href=URL.createObjectURL(new Blob([lt],{type:"application/x-apple-aspen-config"})),gt.download=`Efaqa_${s.email.split("@")[0]}.mobileconfig`,gt.click(),A(!1)};return i?N.jsx("div",{className:"min-h-screen bg-[#05080F] flex items-center justify-center",children:N.jsx("div",{className:"w-8 h-8 border-2 border-white/10 border-t-cyan-500 rounded-full animate-spin"})}):s?d?N.jsxs(N.Fragment,{children:[S&&N.jsx(PN,{onComplete:mt}),N.jsx(jN,{user:s,onLogout:()=>r2(lh),activeTab:l,setActiveTab:c,children:N.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto",children:[N.jsxs(Tl,{className:"p-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[N.jsxs("div",{className:"text-center md:text-right",children:[N.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[N.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-cyan-950/30 border border-cyan-500/20 text-cyan-400 text-[10px] font-bold",children:[N.jsx(zS,{className:"w-3 h-3"})," ",N.jsx("span",{children:" "})]}),y&&N.jsxs("div",{className:"inline-flex items-center gap-1.5 text-[10px] font-medium text-slate-400 animate-pulse",children:[N.jsx(jc,{className:"w-3 h-3 animate-spin"}),"  ..."]})]}),N.jsx("h2",{className:"text-2xl font-semibold text-white mb-1",children:" "}),N.jsx("p",{className:"text-slate-400 text-sm leading-relaxed max-w-md",children:"        ."})]}),N.jsx("div",{className:"w-full md:w-auto min-w-[140px]",children:N.jsx(uh,{onClick:vt,icon:FS,children:" "})})]}),l==="web"&&N.jsxs("div",{className:"grid md:grid-cols-1 gap-4 animate-fadeIn",children:[N.jsxs(Tl,{className:"group p-5 flex items-center justify-between hover:bg-white/[0.02] transition-colors",children:[N.jsxs("div",{className:"flex items-start gap-4",children:[N.jsx("div",{className:"bg-white/5 p-2.5 rounded-lg border border-white/5 text-cyan-400",children:N.jsx(rb,{className:"w-5 h-5"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-sm font-semibold text-white mb-0.5",children:" "}),N.jsx("p",{className:"text-slate-400 text-xs max-w-[250px]",children:"     ."})]})]}),N.jsx(HN,{checked:d.adultFilterEnabled,onChange:Q})]}),N.jsxs(Tl,{className:"overflow-hidden",children:[N.jsxs("div",{className:"p-5 border-b border-white/5 bg-white/[0.01]",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/5 text-red-400",children:N.jsx(Tm,{className:"w-4 h-4"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-sm font-semibold text-white",children:" "}),N.jsx("p",{className:"text-slate-400 text-[10px]",children:"  "})]})]}),N.jsxs("span",{className:"text-[10px] text-slate-500 font-mono bg-white/5 px-2 py-1 rounded-md",children:[d.blockedSites.length," "]})]}),N.jsx(FN,{onAdd:J})]}),N.jsx("div",{className:"bg-black/20 max-h-[300px] overflow-y-auto custom-scrollbar",children:d.blockedSites.length===0?N.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-600 gap-2",children:[N.jsx(nb,{className:"w-8 h-8 opacity-20"}),N.jsx("p",{className:"text-xs",children:" "})]}):N.jsx("div",{className:"divide-y divide-white/5",children:d.blockedSites.map((lt,gt)=>N.jsxs("div",{className:"flex justify-between items-center p-3 px-5 hover:bg-white/[0.02] transition-colors group",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"flex h-1.5 w-1.5 rounded-full bg-red-500/80"}),N.jsx("span",{className:"text-slate-300 font-mono text-xs",children:lt})]}),N.jsx("button",{onClick:()=>tt(lt),className:"text-slate-500 hover:text-red-400 p-1.5 rounded-md hover:bg-red-500/10 transition-all opacity-0 group-hover:opacity-100",children:N.jsx(F_,{className:"w-3.5 h-3.5"})})]},gt))})})]})]}),l==="apps"&&N.jsxs("div",{className:"grid md:grid-cols-1 gap-4 animate-fadeIn",children:[N.jsx(qN,{onAddApp:Z}),N.jsxs(Tl,{className:"overflow-hidden",children:[N.jsxs("div",{className:"p-5 border-b border-white/5 bg-white/[0.01] flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/5 text-cyan-400",children:N.jsx(z_,{className:"w-4 h-4"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-sm font-semibold text-white",children:" "}),N.jsx("p",{className:"text-slate-400 text-[10px]",children:"   "})]})]}),N.jsxs("span",{className:"text-[10px] text-slate-500 font-mono bg-white/5 px-2 py-1 rounded-md",children:[d.blockedApps?d.blockedApps.length:0," "]})]}),N.jsx("div",{className:"bg-black/20 max-h-[400px] overflow-y-auto custom-scrollbar",children:!d.blockedApps||d.blockedApps.length===0?N.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-600 gap-2",children:[N.jsx(z_,{className:"w-8 h-8 opacity-20"}),N.jsx("p",{className:"text-xs",children:"    "})]}):N.jsx("div",{className:"divide-y divide-white/5",children:d.blockedApps.map((lt,gt)=>N.jsxs("div",{className:"flex justify-between items-center p-3 px-5 hover:bg-white/[0.02] transition-colors group",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("img",{src:lt.icon,alt:lt.name,className:"w-8 h-8 rounded-lg bg-white/5 object-cover"}),N.jsxs("div",{children:[N.jsx("div",{className:"text-slate-200 text-xs font-semibold",children:lt.name}),N.jsx("div",{className:"text-slate-500 font-mono text-[10px]",children:lt.bundleId})]})]}),N.jsx("button",{onClick:()=>ht(lt.bundleId),className:"text-slate-500 hover:text-red-400 p-1.5 rounded-md hover:bg-red-500/10 transition-all opacity-0 group-hover:opacity-100",children:N.jsx(F_,{className:"w-3.5 h-3.5"})})]},gt))})})]})]}),(l==="network"||l==="settings")&&N.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center",children:[N.jsx("div",{className:"bg-white/5 p-4 rounded-full mb-4 border border-white/5",children:N.jsx(ob,{className:"w-8 h-8 text-slate-600"})}),N.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:""}),N.jsx("p",{className:"text-slate-500 text-sm",children:"   "})]})]})})]}):N.jsx("div",{className:"min-h-screen bg-[#05080F] flex items-center justify-center text-slate-500 text-sm animate-pulse",children:" ..."}):N.jsx(zN,{})}const E0=async(s,t=5)=>{try{const i="https://api.allorigins.win/raw?url=",a=`https://itunes.apple.com/search?term=${encodeURIComponent(s)}&entity=software&limit=${t}`,l=await fetch(i+encodeURIComponent(a));return l.ok?(await l.json()).results||[]:[]}catch(i){return console.error("Fetch error:",i),[]}},qN=({onAddApp:s})=>{const[t,i]=zt.useState(""),[a,l]=zt.useState([]),[c,d]=zt.useState(!1),[p,y]=zt.useState(!1),[_,S]=zt.useState(""),[A,k]=zt.useState([]),[Q,J]=zt.useState(!1),[tt,Z]=zt.useState({}),[ht,vt]=zt.useState({current:0,total:0});zt.useEffect(()=>{if(p)return;const it=setTimeout(async()=>{if(t.length>2){d(!0);const w=await E0(t,5);l(w),d(!1)}else l([])},500);return()=>clearTimeout(it)},[t,p]);const mt=async()=>{if(!_.trim())return;d(!0);const it=_.split(/\n/).map(x=>x.trim()).filter(x=>x.length>0),w=[],b=5;vt({current:0,total:it.length});for(let x=0;x<it.length;x+=b){const R=it.slice(x,x+b).map(async ee=>{const H=await E0(ee,1);return{term:ee,result:H.length>0?H[0]:null}}),te=await Promise.all(R);w.push(...te),vt(ee=>({...ee,current:Math.min(x+b,it.length)})),await new Promise(ee=>setTimeout(ee,300))}const I=w.filter(x=>x.result!==null);k(I);const M={};I.forEach((x,U)=>{M[U]=!0}),Z(M),J(!0),d(!1)},lt=()=>{const it=A.filter((w,b)=>tt[b]).map(w=>({name:w.result.trackName,icon:w.result.artworkUrl60,bundleId:w.result.bundleId}));it.length>0&&s(it),y(!1),J(!1),S(""),k([])},gt=it=>{Z(w=>({...w,[it]:!w[it]}))};return N.jsxs("div",{className:"relative z-20 w-full",children:[N.jsx("div",{className:"flex justify-end mb-2",children:N.jsx("button",{type:"button",onClick:()=>{y(!p),i(""),S(""),J(!1)},className:"text-[10px] text-slate-500 hover:text-cyan-400 transition-colors flex items-center gap-1",children:p?"  ":N.jsxs(N.Fragment,{children:[N.jsx(S0,{className:"w-3 h-3"}),"   (Bulk)"]})})}),p?N.jsx("div",{className:"bg-[#0A0F1C]/60 backdrop-blur-2xl border border-white/5 rounded-2xl overflow-hidden shadow-xl p-4",children:Q?N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-white/5 pb-2",children:[N.jsxs("span",{className:"text-xs text-white font-bold",children:["  (",A.length,")"]}),N.jsx("button",{onClick:()=>J(!1),className:"text-[10px] text-slate-500 hover:text-white",children:" "})]}),N.jsxs("div",{className:"max-h-[250px] overflow-y-auto custom-scrollbar mb-4 space-y-2",children:[A.map((it,w)=>N.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-white/5 border border-white/5",children:[N.jsx("button",{onClick:()=>gt(w),className:"text-cyan-400 hover:text-cyan-300",children:tt[w]?N.jsx(ub,{className:"w-4 h-4"}):N.jsx(hb,{className:"w-4 h-4 text-slate-600"})}),N.jsx("img",{src:it.result.artworkUrl60,alt:"",className:"w-8 h-8 rounded-md bg-black/20"}),N.jsxs("div",{className:"flex-1 min-w-0 text-right",children:[N.jsx("div",{className:"text-xs text-white truncate",children:it.result.trackName}),N.jsxs("div",{className:"text-[10px] text-slate-500 flex items-center gap-1",children:[" : ",N.jsx("span",{className:"text-cyan-500/80",children:it.term})]})]})]},w)),A.length===0&&N.jsx("div",{className:"text-center text-xs text-slate-500 py-4",children:"    "})]}),N.jsx("div",{className:"flex gap-2",children:N.jsxs(uh,{onClick:lt,disabled:A.length===0,icon:Yd,children:["  (",Object.values(tt).filter(Boolean).length,")"]})})]}):N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"mb-3",children:[N.jsx("label",{className:"text-xs text-slate-400 font-medium block mb-2",children:"   (   ):"}),N.jsx("textarea",{value:_,onChange:it=>S(it.target.value),placeholder:`PUBG
TikTok
Snapchat`,className:"w-full bg-black/20 border border-white/10 rounded-lg py-3 px-4 text-slate-200 placeholder-slate-600 focus:outline-none focus:border-cyan-500/40 focus:ring-1 focus:ring-cyan-500/40 transition-all font-mono text-xs min-h-[120px] resize-y",dir:"ltr"})]}),N.jsx(uh,{onClick:mt,disabled:c||!_.trim(),icon:c?jc:q_,className:c?"cursor-wait":"",children:c?`  (${ht.current}/${ht.total})...`:" "})]})}):N.jsxs("div",{className:"relative",children:[N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:c?N.jsx(jc,{className:"h-4 w-4 text-cyan-500 animate-spin"}):N.jsx(q_,{className:"h-4 w-4 text-slate-500"})}),N.jsx("input",{type:"text",value:t,onChange:it=>i(it.target.value),placeholder:"   (: TikTok)...",className:"w-full bg-black/20 border border-white/10 rounded-xl py-3.5 pr-12 pl-4 text-slate-200 placeholder-slate-600 focus:outline-none focus:border-cyan-500/40 focus:ring-1 focus:ring-cyan-500/40 transition-all text-sm backdrop-blur-sm"})]}),a.length>0&&!p&&N.jsx("div",{className:"absolute top-full mt-2 w-full bg-[#0F1523] border border-white/10 rounded-xl shadow-2xl overflow-hidden z-30",children:N.jsxs("div",{className:"p-2",children:[N.jsx("div",{className:"text-[10px] text-slate-500 font-bold px-2 py-1 mb-1 uppercase",children:" "}),a.map(it=>N.jsxs("button",{onClick:()=>{s({name:it.trackName,icon:it.artworkUrl60,bundleId:it.bundleId}),i(""),l([])},className:"w-full flex items-center gap-3 p-2 rounded-lg hover:bg-white/5 transition-colors text-right group",children:[N.jsx("img",{src:it.artworkUrl60,alt:it.trackName,className:"w-10 h-10 rounded-lg bg-white/5"}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("div",{className:"text-slate-200 text-xs font-bold truncate",children:it.trackName}),N.jsx("div",{className:"text-slate-500 text-[10px] truncate",children:it.bundleId})]}),N.jsx(Yd,{className:"w-4 h-4 text-slate-500 group-hover:text-cyan-400 transition-colors"})]},it.trackId))]})})]})]})},HN=({checked:s,onChange:t})=>N.jsx("button",{onClick:t,className:`w-11 h-6 rounded-full relative transition-all duration-300 border ${s?"bg-cyan-600 border-cyan-500":"bg-slate-800 border-slate-700"}`,children:N.jsx("div",{className:`absolute top-0.5 w-4.5 h-4.5 rounded-full bg-white transition-all duration-300 shadow-sm flex items-center justify-center ${s?"left-[calc(100%-1.35rem)]":"left-0.5"}`})}),FN=({onAdd:s})=>{const[t,i]=zt.useState(""),[a,l]=zt.useState(!1),c=d=>{if(d.preventDefault(),!t.trim())return;const p=y=>{let _=y.trim().toLowerCase().replace(/^(?:https?:\/\/)?/i,"").replace(/^(?:www\.)?/i,"").split("/")[0];return _&&_.length>3&&_.includes(".")?_:null};if(a){const y=t.split(/\n/).map(p).filter(Boolean);y.length>0&&s(y)}else{const y=p(t);y&&s(y)}i(""),l(!1)};return N.jsxs("div",{className:"w-full",children:[N.jsx("div",{className:"flex justify-end mb-2",children:N.jsx("button",{type:"button",onClick:()=>{l(!a),i("")},className:"text-[10px] text-slate-500 hover:text-cyan-400 transition-colors flex items-center gap-1",children:a?"  ":N.jsxs(N.Fragment,{children:[N.jsx(S0,{className:"w-3 h-3"}),"   (Bulk)"]})})}),N.jsxs("form",{onSubmit:c,className:"relative group",children:[a?N.jsx("div",{className:"relative",children:N.jsx("textarea",{value:t,onChange:d=>i(d.target.value),placeholder:`facebook.com
tiktok.com
instagram.com`,className:"w-full bg-black/20 border border-white/10 rounded-lg py-3 px-4 text-slate-200 placeholder-slate-600 focus:outline-none focus:border-cyan-500/40 focus:ring-1 focus:ring-cyan-500/40 transition-all font-mono text-xs min-h-[100px] resize-y",dir:"ltr"})}):N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:N.jsx(Kd,{className:"h-3.5 w-3.5 text-slate-600 group-focus-within:text-cyan-500 transition-colors"})}),N.jsx("input",{type:"text",value:t,onChange:d=>i(d.target.value),placeholder:"  (facebook.com)",className:"w-full bg-black/20 border border-white/10 rounded-lg py-2.5 pr-10 pl-20 text-slate-200 placeholder-slate-600 focus:outline-none focus:border-cyan-500/40 focus:ring-1 focus:ring-cyan-500/40 transition-all font-mono text-xs"})]}),N.jsxs("button",{type:"submit",disabled:!t.trim(),className:`absolute left-1.5 ${a?"bottom-3":"top-1.5 bottom-1.5"} bg-white/10 hover:bg-white/20 disabled:opacity-0 disabled:translate-x-4 text-slate-200 px-3 rounded-md text-[10px] font-medium transition-all duration-200 flex items-center gap-1`,children:[N.jsx(Yd,{className:"w-3 h-3"})," ",a?" ":""]})]})]})};OS.createRoot(document.getElementById("root")).render(N.jsx(zt.StrictMode,{children:N.jsx(BN,{})}));
