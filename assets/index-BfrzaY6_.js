(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Db(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Nd={exports:{}},po={};var D_;function Ob(){if(D_)return po;D_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return po.Fragment=t,po.jsx=i,po.jsxs=i,po}var O_;function Mb(){return O_||(O_=1,Nd.exports=Ob()),Nd.exports}var S=Mb(),Dd={exports:{}},Et={};var M_;function Vb(){if(M_)return Et;M_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,J={};function ct(M,Y,et){this.props=M,this.context=Y,this.refs=J,this.updater=et||Z}ct.prototype.isReactComponent={},ct.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ct.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function yt(){}yt.prototype=ct.prototype;function dt(M,Y,et){this.props=M,this.context=Y,this.refs=J,this.updater=et||Z}var Lt=dt.prototype=new yt;Lt.constructor=dt,nt(Lt,ct.prototype),Lt.isPureReactComponent=!0;var Ft=Array.isArray;function rt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(M,Y,et){var st=et.ref;return{$$typeof:s,type:M,key:Y,ref:st!==void 0?st:null,props:et}}function O(M,Y){return w(M.type,Y,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function P(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return Y[et]})}var I=/\/+/g;function ee(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Y.toString(36)}function ne(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(rt,rt):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,Y,et,st,_t){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var kt=!1;if(M===null)kt=!0;else switch(St){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(M.$$typeof){case s:case t:kt=!0;break;case A:return kt=M._init,F(kt(M._payload),Y,et,st,_t)}}if(kt)return _t=_t(M),kt=st===""?"."+ee(M,0):st,Ft(_t)?(et="",kt!=null&&(et=kt.replace(I,"$&/")+"/"),F(_t,Y,et,"",function(nr){return nr})):_t!=null&&(N(_t)&&(_t=O(_t,et+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(I,"$&/")+"/")+kt)),Y.push(_t)),1;kt=0;var xe=st===""?".":st+":";if(Ft(M))for(var ae=0;ae<M.length;ae++)st=M[ae],St=xe+ee(st,ae),kt+=F(st,Y,et,St,_t);else if(ae=H(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(st=M.next()).done;)st=st.value,St=xe+ee(st,ae++),kt+=F(st,Y,et,St,_t);else if(St==="object"){if(typeof M.then=="function")return F(ne(M),Y,et,st,_t);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return kt}function tt(M,Y,et){if(M==null)return M;var st=[],_t=0;return F(M,st,"","",function(St){return Y.call(et,St,_t++)}),st}function ht(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Ut=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Gt={map:tt,forEach:function(M,Y,et){tt(M,function(){Y.apply(this,arguments)},et)},count:function(M){var Y=0;return tt(M,function(){Y++}),Y},toArray:function(M){return tt(M,function(Y){return Y})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=R,Et.Children=Gt,Et.Component=ct,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=dt,Et.StrictMode=a,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,Y,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=nt({},M.props),_t=M.key;if(Y!=null)for(St in Y.key!==void 0&&(_t=""+Y.key),Y)!b.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(st[St]=Y[St]);var St=arguments.length-2;if(St===1)st.children=et;else if(1<St){for(var kt=Array(St),xe=0;xe<St;xe++)kt[xe]=arguments[xe+2];st.children=kt}return w(M.type,_t,st)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Et.createElement=function(M,Y,et){var st,_t={},St=null;if(Y!=null)for(st in Y.key!==void 0&&(St=""+Y.key),Y)b.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=Y[st]);var kt=arguments.length-2;if(kt===1)_t.children=et;else if(1<kt){for(var xe=Array(kt),ae=0;ae<kt;ae++)xe[ae]=arguments[ae+2];_t.children=xe}if(M&&M.defaultProps)for(st in kt=M.defaultProps,kt)_t[st]===void 0&&(_t[st]=kt[st]);return w(M,St,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:p,render:M}},Et.isValidElement=N,Et.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ht}},Et.memo=function(M,Y){return{$$typeof:_,type:M,compare:Y===void 0?null:Y}},Et.startTransition=function(M){var Y=C.T,et={};C.T=et;try{var st=M(),_t=C.S;_t!==null&&_t(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(rt,Ut)}catch(St){Ut(St)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),C.T=Y}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(M){return C.H.use(M)},Et.useActionState=function(M,Y,et){return C.H.useActionState(M,Y,et)},Et.useCallback=function(M,Y){return C.H.useCallback(M,Y)},Et.useContext=function(M){return C.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,Y){return C.H.useDeferredValue(M,Y)},Et.useEffect=function(M,Y){return C.H.useEffect(M,Y)},Et.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(M,Y,et){return C.H.useImperativeHandle(M,Y,et)},Et.useInsertionEffect=function(M,Y){return C.H.useInsertionEffect(M,Y)},Et.useLayoutEffect=function(M,Y){return C.H.useLayoutEffect(M,Y)},Et.useMemo=function(M,Y){return C.H.useMemo(M,Y)},Et.useOptimistic=function(M,Y){return C.H.useOptimistic(M,Y)},Et.useReducer=function(M,Y,et){return C.H.useReducer(M,Y,et)},Et.useRef=function(M){return C.H.useRef(M)},Et.useState=function(M){return C.H.useState(M)},Et.useSyncExternalStore=function(M,Y,et){return C.H.useSyncExternalStore(M,Y,et)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.0",Et}var V_;function Am(){return V_||(V_=1,Dd.exports=Vb()),Dd.exports}var It=Am();const Av=Db(It);var Od={exports:{}},go={},Md={exports:{}},Vd={};var k_;function kb(){return k_||(k_=1,(function(s){function t(F,tt){var ht=F.length;F.push(tt);t:for(;0<ht;){var Ut=ht-1>>>1,Gt=F[Ut];if(0<o(Gt,tt))F[Ut]=tt,F[ht]=Gt,ht=Ut;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var tt=F[0],ht=F.pop();if(ht!==tt){F[0]=ht;t:for(var Ut=0,Gt=F.length,M=Gt>>>1;Ut<M;){var Y=2*(Ut+1)-1,et=F[Y],st=Y+1,_t=F[st];if(0>o(et,ht))st<Gt&&0>o(_t,et)?(F[Ut]=_t,F[st]=ht,Ut=st):(F[Ut]=et,F[Y]=ht,Ut=Y);else if(st<Gt&&0>o(_t,ht))F[Ut]=_t,F[st]=ht,Ut=st;else break t}}return tt}function o(F,tt){var ht=F.sortIndex-tt.sortIndex;return ht!==0?ht:F.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,R=null,V=3,H=!1,Z=!1,nt=!1,J=!1,ct=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Lt(F){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=F)a(_),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=i(_)}}function Ft(F){if(nt=!1,Lt(F),!Z)if(i(y)!==null)Z=!0,rt||(rt=!0,P());else{var tt=i(_);tt!==null&&ne(Ft,tt.startTime-F)}}var rt=!1,C=-1,b=5,w=-1;function O(){return J?!0:!(s.unstable_now()-w<b)}function N(){if(J=!1,rt){var F=s.unstable_now();w=F;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,yt(C),C=-1),H=!0;var ht=V;try{e:{for(Lt(F),R=i(y);R!==null&&!(R.expirationTime>F&&O());){var Ut=R.callback;if(typeof Ut=="function"){R.callback=null,V=R.priorityLevel;var Gt=Ut(R.expirationTime<=F);if(F=s.unstable_now(),typeof Gt=="function"){R.callback=Gt,Lt(F),tt=!0;break e}R===i(y)&&a(y),Lt(F)}else a(y);R=i(y)}if(R!==null)tt=!0;else{var M=i(_);M!==null&&ne(Ft,M.startTime-F),tt=!1}}break t}finally{R=null,V=ht,H=!1}tt=void 0}}finally{tt?P():rt=!1}}}var P;if(typeof dt=="function")P=function(){dt(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ee=I.port2;I.port1.onmessage=N,P=function(){ee.postMessage(null)}}else P=function(){ct(N,0)};function ne(F,tt){C=ct(function(){F(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(F){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ht=V;V=tt;try{return F()}finally{V=ht}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=V;V=F;try{return tt()}finally{V=ht}},s.unstable_scheduleCallback=function(F,tt,ht){var Ut=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ut+ht:Ut):ht=Ut,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,F={id:A++,callback:tt,priorityLevel:F,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>Ut?(F.sortIndex=ht,t(_,F),i(y)===null&&F===i(_)&&(nt?(yt(C),C=-1):nt=!0,ne(Ft,ht-Ut))):(F.sortIndex=Gt,t(y,F),Z||H||(Z=!0,rt||(rt=!0,P()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var tt=V;return function(){var ht=V;V=tt;try{return F.apply(this,arguments)}finally{V=ht}}}})(Vd)),Vd}var P_;function Pb(){return P_||(P_=1,Md.exports=kb()),Md.exports}var kd={exports:{}},Ye={};var U_;function Ub(){if(U_)return Ye;U_=1;var s=Am();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ye.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,R=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:V,fetchPriority:H}):A==="script"&&a.d.X(y,{crossOrigin:R,integrity:V,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,R=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ye.requestFormReset=function(y){a.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var L_;function Lb(){if(L_)return kd.exports;L_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=Ub(),kd.exports}var j_;function jb(){if(j_)return go;j_=1;var s=Pb(),t=Am(),i=Lb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,l=f;break}if(E===l){g=!0,l=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,l=h;break}if(E===l){g=!0,l=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),Ft=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ct:return"Profiler";case J:return"StrictMode";case Ft:return"Suspense";case rt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case dt:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var ne=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ut=[],Gt=-1;function M(e){return{current:e}}function Y(e){0>Gt||(e.current=Ut[Gt],Ut[Gt]=null,Gt--)}function et(e,n){Gt++,Ut[Gt]=e.current,e.current=n}var st=M(null),_t=M(null),St=M(null),kt=M(null);function xe(e,n){switch(et(St,n),et(_t,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=t_(n),e=e_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),et(st,e)}function ae(){Y(st),Y(_t),Y(St)}function nr(e){e.memoizedState!==null&&et(kt,e);var n=st.current,r=e_(n,e.type);n!==r&&(et(_t,e),et(st,r))}function Kr(e){_t.current===e&&(Y(st),Y(_t)),kt.current===e&&(Y(kt),co._currentValue=ht)}var Yr,Xr;function Jn(e){if(Yr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Xr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Xr}var cl=!1;function ir(e,n){if(!e||cl)return"";cl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){z=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),j=E.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===j.length)for(l=x.length-1,h=j.length-1;1<=l&&0<=h&&x[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==j[h]){var G=`
`+x[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Jn(r):""}function hl(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return ir(e.type,!1);case 11:return ir(e.type.render,!1);case 1:return ir(e.type,!0);case 31:return Jn("Activity");default:return""}}function fl(e){try{var n="",r=null;do n+=hl(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,rs=s.unstable_cancelCallback,Dh=s.unstable_shouldYield,Zo=s.unstable_requestPaint,We=s.unstable_now,sr=s.unstable_getCurrentPriorityLevel,dl=s.unstable_ImmediatePriority,ml=s.unstable_UserBlockingPriority,as=s.unstable_NormalPriority,Oh=s.unstable_LowPriority,Jo=s.unstable_IdlePriority,Wo=s.log,tu=s.unstable_setDisableYieldValue,Un=null,je=null;function Tn(e){if(typeof Wo=="function"&&tu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Un,e)}catch{}}var de=Math.clz32?Math.clz32:nu,eu=Math.log,$r=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/$r|0)|0}var Wn=256,rr=262144,ve=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ti(l):(g&=E,g!==0?h=ti(g):r||(r=E&~e,r!==0&&(h=ti(r))))):(E=l&~f,E!==0?h=ti(E):g!==0?h=ti(g):r||(r=l&~e,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ni(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,r,l,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,j=e.hiddenUpdates;for(r=g&~r;0<r;){var G=31-de(r),K=1<<G;E[G]=0,x[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}r&=~K}l!==0&&lr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function lr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-de(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function pl(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-de(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function gl(e,n){var r=n&-n;return r=(r&42)!==0?1:or(r),(r&(e.suspendedLanes|n))!==0?0:r}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function jn(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var zn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+zn,Ve="__reactProps$"+zn,ii="__reactContainer$"+zn,Zr="__reactEvents$"+zn,kh="__reactListeners$"+zn,ru="__reactHandles$"+zn,au="__reactResources$"+zn,si="__reactMarker$"+zn;function Jr(e){delete e[Ee],delete e[Ve],delete e[Zr],delete e[kh],delete e[ru]}function ri(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ii]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=o_(e);e!==null;){if(r=e[Ee])return r;e=o_(e)}return n}e=r,r=e.parentNode}return null}function bn(e){if(e=e[Ee]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[si]=!0}var yl=new Set,_l={};function li(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(_l[e]=n,e=0;e<n.length;e++)yl.add(n[e])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function lu(e){return _e.call(Tl,e)?!0:_e.call(El,e)?!1:vl.test(e)?Tl[e]=!0:(El[e]=!0,!1)}function Wr(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function be(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ls(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bl(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=ls(e)?"checked":"value";e._valueTracker=bl(e,n,""+e[n])}}function ur(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=ls(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cr=/[\n"\\]/g;function nn(e){return e.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,r,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Al(e,g,ke(n)):r!=null?Al(e,g,ke(r)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function ou(e,n,r,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function Al(e,n,r){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function os(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function us(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ne(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Qt(e)}function sn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function wl(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Sl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Rl=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,ci=null;function hr(e){var n=bn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[Ve]||null;if(!h)throw Error(a(90));ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&ur(l)}break t;case"textarea":uu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&os(e,!!r.multiple,n,!1)}}}var ia=!1;function fs(e,n,r){if(ia)return e(n,r);ia=!0;try{var l=e(n);return l}finally{if(ia=!1,(hs!==null||ci!==null)&&(sc(),hs&&(n=hs,e=ci,ci=hs=null,hr(n),e)))for(n=0;n<e.length;n++)hr(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Ve]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(Sn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{fr=!1}var hi=null,Cl=null,dr=null;function Il(){if(dr)return dr;var e,n=Cl,r=n.length,l,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return dr=h.slice(e,1<l?1-l:void 0)}function mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Hn(){return!1}function ze(e){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:Hn,this.isPropagationStopped=Hn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ze(Di),ds=R({},Di,{view:0,detail:0}),xl=ze(ds),ms,sa,di,ra=R({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ms=e.screenX-di.screenX,sa=e.screenY-di.screenY):sa=ms=0,di=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Nl=ze(ra),pr=R({},ra,{dataTransfer:0}),fu=ze(pr),du=R({},ds,{relatedTarget:0}),gr=ze(du),Dl=R({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=ze(Dl),aa=R({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=ze(aa),gu=R({},Di,{data:0}),mi=ze(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function ps(){return Eu}var tn=R({},ds,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=ze(tn),bu=R({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=ze(bu),u=R({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),m=ze(u),v=R({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),U=R({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(U),W=R({},Di,{newState:0,oldState:0}),bt=ze(W),me=[9,13,27,32],Bt=Sn&&"CompositionEvent"in window,le=null;Sn&&"documentMode"in document&&(le=document.documentMode);var wn=Sn&&"TextEvent"in window&&!le,pi=Sn&&(!Bt||le&&8<le&&11>=le),Fn=" ",Gn=!1;function yr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function e1(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Gn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Gn?null:e;default:return null}}function n1(e,n){if(oa)return e==="compositionend"||!Bt&&yr(e,n)?(e=Il(),dr=Cl=hi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var i1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!i1[e.type]:n==="textarea"}function fp(e,n,r,l){hs?ci?ci.push(l):ci=[l]:hs=l,n=hc(n,"onChange"),0<n.length&&(r=new fi("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Ol=null,Ml=null;function s1(e){Yy(e,0)}function Au(e){var n=fn(e);if(ur(n))return e}function dp(e,n){if(e==="change")return n}var mp=!1;if(Sn){var Ph;if(Sn){var Uh="oninput"in document;if(!Uh){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),Uh=typeof pp.oninput=="function"}Ph=Uh}else Ph=!1;mp=Ph&&(!document.documentMode||9<document.documentMode)}function gp(){Ol&&(Ol.detachEvent("onpropertychange",yp),Ml=Ol=null)}function yp(e){if(e.propertyName==="value"&&Au(Ml)){var n=[];fp(n,Ml,e,An(e)),fs(s1,n)}}function r1(e,n,r){e==="focusin"?(gp(),Ol=n,Ml=r,Ol.attachEvent("onpropertychange",yp)):e==="focusout"&&gp()}function a1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Ml)}function l1(e,n){if(e==="click")return Au(n)}function o1(e,n){if(e==="input"||e==="change")return Au(n)}function u1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:u1;function Vl(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!_e.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function _p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vp(e,n){var r=_p(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=_p(r)}}function Ep(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ep(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ui(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var c1=Sn&&"documentMode"in document&&11>=document.documentMode,ua=null,jh=null,kl=null,zh=!1;function bp(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zh||ua==null||ua!==ui(l)||(l=ua,"selectionStart"in l&&Lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Vl(kl,l)||(kl=l,l=hc(jh,"onSelect"),0<l.length&&(n=new fi("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=ua)))}function _r(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ca={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},Bh={},Ap={};Sn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function vr(e){if(Bh[e])return Bh[e];if(!ca[e])return e;var n=ca[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ap)return Bh[e]=n[r];return e}var Sp=vr("animationend"),wp=vr("animationiteration"),Rp=vr("animationstart"),h1=vr("transitionrun"),f1=vr("transitionstart"),d1=vr("transitioncancel"),Cp=vr("transitionend"),Ip=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Qn(e,n){Ip.set(e,n),li(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ha=0,Hh=0;function wu(){for(var e=ha,n=Hh=ha=0;n<e;){var r=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&xp(r,h,f)}}function Ru(e,n,r,l){Rn[ha++]=e,Rn[ha++]=n,Rn[ha++]=r,Rn[ha++]=l,Hh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Fh(e,n,r,l){return Ru(e,n,r,l),Cu(e)}function Er(e,n){return Ru(e,null,null,n),Cu(e)}function xp(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(r),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<io)throw io=0,td=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function m1(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,l){return new m1(e,n,r,l)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Np(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,r,l,h,f){var g=0;if(l=e,typeof e=="function")Gh(e)&&(g=1);else if(typeof e=="string")g=vb(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=pn(31,r,n,h),e.elementType=w,e.lanes=f,e;case nt:return Tr(r.children,h,f,n);case J:g=8,h|=24;break;case ct:return e=pn(12,r,n,h|2),e.elementType=ct,e.lanes=f,e;case Ft:return e=pn(13,r,n,h),e.elementType=Ft,e.lanes=f,e;case rt:return e=pn(19,r,n,h),e.elementType=rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case yt:g=9;break t;case Lt:g=11;break t;case C:g=14;break t;case b:g=16,l=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=pn(g,r,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Tr(e,n,r,l){return e=pn(7,e,l,n),e.lanes=r,e}function Qh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function Dp(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Op=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var r=Op.get(e);return r!==void 0?r:(n={value:e,source:n,stack:fl(n)},Op.set(e,n),n)}return{value:e,source:n,stack:fl(n)}}var da=[],ma=0,xu=null,Pl=0,In=[],xn=0,gs=null,gi=1,yi="";function Vi(e,n){da[ma++]=Pl,da[ma++]=xu,xu=e,Pl=n}function Mp(e,n,r){In[xn++]=gi,In[xn++]=yi,In[xn++]=gs,gs=e;var l=gi;e=yi;var h=32-de(l)-1;l&=~(1<<h),r+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,gi=1<<32-de(n)+h|r<<h|l,yi=f+e}else gi=1<<f|r<<h|l,yi=e}function Yh(e){e.return!==null&&(Vi(e,1),Mp(e,1,0))}function Xh(e){for(;e===xu;)xu=da[--ma],da[ma]=null,Pl=da[--ma],da[ma]=null;for(;e===gs;)gs=In[--xn],In[xn]=null,yi=In[--xn],In[xn]=null,gi=In[--xn],In[xn]=null}function Vp(e,n){In[xn++]=gi,In[xn++]=yi,In[xn++]=gs,gi=n.id,yi=n.overflow,gs=e}var Be=null,ie=null,Vt=!1,ys=null,Nn=!1,$h=Error(a(519));function _s(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(Cn(n,e)),$h}function kp(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Ee]=e,n[Ve]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<ro.length;r++)Ct(ro[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ou(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),us(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Jy(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||_s(e,!0)}function Pp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Be=Be.return}}function pa(e){if(e!==Be)return!1;if(!Vt)return Pp(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||pd(e.type,e.memoizedProps)),r=!r),r&&ie&&_s(e),Pp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=l_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=l_(e)}else n===27?(n=ie,Os(e.type)?(e=Ed,Ed=null,ie=e):ie=n):ie=Be?On(e.stateNode.nextSibling):null;return!0}function br(){ie=Be=null,Vt=!1}function Zh(){var e=ys;return e!==null&&(on===null?on=e:on.push.apply(on,e),ys=null),e}function Ul(e){ys===null?ys=[e]:ys.push(e)}var Jh=M(null),Ar=null,ki=null;function vs(e,n,r){et(Jh,n._currentValue),n._currentValue=r}function Pi(e){e._currentValue=Jh.current,Y(Jh)}function Wh(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function tf(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Wh(f.return,r,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Wh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ga(e,n,r,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}h=h.return}e!==null&&tf(n,e,r,l),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){Ar=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Up(Ar,e)}function Du(e,n){return Ar===null&&Sr(e),Up(e,n)}function Up(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return r}var p1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},g1=s.unstable_scheduleCallback,y1=s.unstable_NormalPriority,Ae={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new p1,data:new Map,refCount:0}}function Ll(e){e.refCount--,e.refCount===0&&g1(y1,function(){e.controller.abort()})}var jl=null,nf=0,ya=0,_a=null;function _1(e,n){if(jl===null){var r=jl=[];nf=0,ya=ad(),_a={status:"pending",value:void 0,then:function(l){r.push(l)}}}return nf++,n.then(Lp,Lp),n}function Lp(){if(--nf===0&&jl!==null){_a!==null&&(_a.status="fulfilled");var e=jl;jl=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function v1(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var jp=F.S;F.S=function(e,n){by=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_1(e,n),jp!==null&&jp(e,n)};var wr=M(null);function sf(){var e=wr.current;return e!==null?e:Wt.pooledCache}function Ou(e,n){n===null?et(wr,wr.current):et(wr,n.pool)}function zp(){var e=sf();return e===null?null:{parent:Ae._currentValue,pool:e}}var va=Error(a(460)),rf=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function Bp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fp(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fp(e),e}throw Cr=n,va}}function Rr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Cr=r,va):r}}var Cr=null;function Hp(){if(Cr===null)throw Error(a(459));var e=Cr;return Cr=null,e}function Fp(e){if(e===va||e===Mu)throw Error(a(483))}var Ea=null,zl=0;function ku(e){var n=zl;return zl+=1,Ea===null&&(Ea=[]),qp(Ea,e,n)}function Bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gp(e){function n(k,D){if(e){var L=k.deletions;L===null?(k.deletions=[D],k.flags|=16):L.push(D)}}function r(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Mi(k,D),k.index=0,k.sibling=null,k}function f(k,D,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<D?(k.flags|=67108866,D):L):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,L,Q){return D===null||D.tag!==6?(D=Qh(L,k.mode,Q),D.return=k,D):(D=h(D,L),D.return=k,D)}function x(k,D,L,Q){var ut=L.type;return ut===nt?G(k,D,L.props.children,Q,L.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Rr(ut)===D.type)?(D=h(D,L.props),Bl(D,L),D.return=k,D):(D=Iu(L.type,L.key,L.props,null,k.mode,Q),Bl(D,L),D.return=k,D)}function j(k,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Kh(L,k.mode,Q),D.return=k,D):(D=h(D,L.children||[]),D.return=k,D)}function G(k,D,L,Q,ut){return D===null||D.tag!==7?(D=Tr(L,k.mode,Q,ut),D.return=k,D):(D=h(D,L),D.return=k,D)}function K(k,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,k.mode,L),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return L=Iu(D.type,D.key,D.props,null,k.mode,L),Bl(L,D),L.return=k,L;case Z:return D=Kh(D,k.mode,L),D.return=k,D;case b:return D=Rr(D),K(k,D,L)}if(ne(D)||P(D))return D=Tr(D,k.mode,L,null),D.return=k,D;if(typeof D.then=="function")return K(k,ku(D),L);if(D.$$typeof===dt)return K(k,Du(k,D),L);Pu(k,D)}return null}function z(k,D,L,Q){var ut=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:E(k,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===ut?x(k,D,L,Q):null;case Z:return L.key===ut?j(k,D,L,Q):null;case b:return L=Rr(L),z(k,D,L,Q)}if(ne(L)||P(L))return ut!==null?null:G(k,D,L,Q,null);if(typeof L.then=="function")return z(k,D,ku(L),Q);if(L.$$typeof===dt)return z(k,D,Du(k,L),Q);Pu(k,L)}return null}function q(k,D,L,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,E(D,k,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?L:Q.key)||null,x(D,k,Q,ut);case Z:return k=k.get(Q.key===null?L:Q.key)||null,j(D,k,Q,ut);case b:return Q=Rr(Q),q(k,D,L,Q,ut)}if(ne(Q)||P(Q))return k=k.get(L)||null,G(D,k,Q,ut,null);if(typeof Q.then=="function")return q(k,D,L,ku(Q),ut);if(Q.$$typeof===dt)return q(k,D,L,Du(D,Q),ut);Pu(D,Q)}return null}function at(k,D,L,Q){for(var ut=null,jt=null,lt=D,wt=D=0,Nt=null;lt!==null&&wt<L.length;wt++){lt.index>wt?(Nt=lt,lt=null):Nt=lt.sibling;var zt=z(k,lt,L[wt],Q);if(zt===null){lt===null&&(lt=Nt);break}e&&lt&&zt.alternate===null&&n(k,lt),D=f(zt,D,wt),jt===null?ut=zt:jt.sibling=zt,jt=zt,lt=Nt}if(wt===L.length)return r(k,lt),Vt&&Vi(k,wt),ut;if(lt===null){for(;wt<L.length;wt++)lt=K(k,L[wt],Q),lt!==null&&(D=f(lt,D,wt),jt===null?ut=lt:jt.sibling=lt,jt=lt);return Vt&&Vi(k,wt),ut}for(lt=l(lt);wt<L.length;wt++)Nt=q(lt,k,wt,L[wt],Q),Nt!==null&&(e&&Nt.alternate!==null&&lt.delete(Nt.key===null?wt:Nt.key),D=f(Nt,D,wt),jt===null?ut=Nt:jt.sibling=Nt,jt=Nt);return e&&lt.forEach(function(Us){return n(k,Us)}),Vt&&Vi(k,wt),ut}function mt(k,D,L,Q){if(L==null)throw Error(a(151));for(var ut=null,jt=null,lt=D,wt=D=0,Nt=null,zt=L.next();lt!==null&&!zt.done;wt++,zt=L.next()){lt.index>wt?(Nt=lt,lt=null):Nt=lt.sibling;var Us=z(k,lt,zt.value,Q);if(Us===null){lt===null&&(lt=Nt);break}e&&lt&&Us.alternate===null&&n(k,lt),D=f(Us,D,wt),jt===null?ut=Us:jt.sibling=Us,jt=Us,lt=Nt}if(zt.done)return r(k,lt),Vt&&Vi(k,wt),ut;if(lt===null){for(;!zt.done;wt++,zt=L.next())zt=K(k,zt.value,Q),zt!==null&&(D=f(zt,D,wt),jt===null?ut=zt:jt.sibling=zt,jt=zt);return Vt&&Vi(k,wt),ut}for(lt=l(lt);!zt.done;wt++,zt=L.next())zt=q(lt,k,wt,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&lt.delete(zt.key===null?wt:zt.key),D=f(zt,D,wt),jt===null?ut=zt:jt.sibling=zt,jt=zt);return e&&lt.forEach(function(Nb){return n(k,Nb)}),Vt&&Vi(k,wt),ut}function Jt(k,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var ut=L.key;D!==null;){if(D.key===ut){if(ut=L.type,ut===nt){if(D.tag===7){r(k,D.sibling),Q=h(D,L.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Rr(ut)===D.type){r(k,D.sibling),Q=h(D,L.props),Bl(Q,L),Q.return=k,k=Q;break t}r(k,D);break}else n(k,D);D=D.sibling}L.type===nt?(Q=Tr(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=Iu(L.type,L.key,L.props,null,k.mode,Q),Bl(Q,L),Q.return=k,k=Q)}return g(k);case Z:t:{for(ut=L.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){r(k,D.sibling),Q=h(D,L.children||[]),Q.return=k,k=Q;break t}else{r(k,D);break}else n(k,D);D=D.sibling}Q=Kh(L,k.mode,Q),Q.return=k,k=Q}return g(k);case b:return L=Rr(L),Jt(k,D,L,Q)}if(ne(L))return at(k,D,L,Q);if(P(L)){if(ut=P(L),typeof ut!="function")throw Error(a(150));return L=ut.call(L),mt(k,D,L,Q)}if(typeof L.then=="function")return Jt(k,D,ku(L),Q);if(L.$$typeof===dt)return Jt(k,D,Du(k,L),Q);Pu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,L),Q.return=k,k=Q):(r(k,D),Q=Qh(L,k.mode,Q),Q.return=k,k=Q),g(k)):r(k,D)}return function(k,D,L,Q){try{zl=0;var ut=Jt(k,D,L,Q);return Ea=null,ut}catch(lt){if(lt===va||lt===Mu)throw lt;var jt=pn(29,lt,null,k.mode);return jt.lanes=Q,jt.return=k,jt}finally{}}}var Ir=Gp(!0),Qp=Gp(!1),Es=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(e),xp(e,null,r),n}return Ru(e,l,n,r),Cu(e)}function ql(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,pl(e,r)}}function of(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var uf=!1;function Hl(){if(uf){var e=_a;if(e!==null)throw e}}function Fl(e,n,r,l){uf=!1;var h=e.updateQueue;Es=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,g===null?f=j:g.next=j,g=x;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=x))}if(f!==null){var K=h.baseState;g=0,G=j=x=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(xt&z)===z:(l&z)===z){z!==0&&z===ya&&(uf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;z=n;var Jt=r;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){K=at.call(Jt,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,z=typeof at=="function"?at.call(Jt,K,z):at,z==null)break t;K=R({},K,z);break t;case 2:Es=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=q,x=K):G=G.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(x=K),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Cs|=g,e.lanes=g,e.memoizedState=K}}function Kp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Yp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Kp(r[e],n)}var Ta=M(null),Uu=M(0);function Xp(e,n){e=Gi,et(Uu,e),et(Ta,n),Gi=e|n.baseLanes}function cf(){et(Uu,Gi),et(Ta,Ta.current)}function hf(){Gi=Uu.current,Y(Ta),Y(Uu)}var gn=M(null),Dn=null;function As(e){var n=e.alternate;et(pe,pe.current&1),et(gn,e),Dn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Dn=e)}function ff(e){et(pe,pe.current),et(gn,e),Dn===null&&(Dn=e)}function $p(e){e.tag===22?(et(pe,pe.current),et(gn,e),Dn===null&&(Dn=e)):Ss()}function Ss(){et(pe,pe.current),et(gn,gn.current)}function yn(e){Y(gn),Dn===e&&(Dn=null),Y(pe)}var pe=M(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||_d(r)||vd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,At=null,$t=null,Se=null,ju=!1,ba=!1,xr=!1,zu=0,Gl=0,Aa=null,E1=0;function he(){throw Error(a(321))}function df(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function mf(e,n,r,l,h,f){return Ui=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Mg:xf,xr=!1,f=r(l,h),xr=!1,ba&&(f=Jp(n,r,l,h)),Zp(e),f}function Zp(e){F.H=Yl;var n=$t!==null&&$t.next!==null;if(Ui=0,Se=$t=At=null,ju=!1,Gl=0,Aa=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Nu(e)&&(we=!0))}function Jp(e,n,r,l){At=e;var h=0;do{if(ba&&(Aa=null),Gl=0,ba=!1,25<=h)throw Error(a(301));if(h+=1,Se=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Vg,f=n(r,l)}while(ba);return f}function T1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Ql(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(At.flags|=1024),n}function pf(){var e=zu!==0;return zu=0,e}function gf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function yf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}Ui=0,Se=$t=At=null,ba=!1,Gl=zu=0,Aa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function ge(){if($t===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,$t=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(e){var n=Gl;return Gl+=1,Aa===null&&(Aa=[]),e=qp(Aa,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Mg:xf),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ql(e);if(e.$$typeof===dt)return qe(e)}throw Error(a(438,String(e)))}function _f(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=O;return n.index++,r}function Li(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=ge();return vf(n,$t,e)}function vf(e,n,r){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,x=null,j=n,G=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(xt&K)===K:(Ui&K)===K){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===ya&&(G=!0);else if((Ui&z)===z){j=j.next,z===ya&&(G=!0);continue}else K={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=K,g=f):x=x.next=K,At.lanes|=z,Cs|=z;K=j.action,xr&&r(f,K),f=j.hasEagerState?j.eagerState:r(f,K)}else z={lane:K,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,g=f):x=x.next=z,At.lanes|=K,Cs|=K;j=j.next}while(j!==null&&j!==n);if(x===null?g=f:x.next=E,!mn(f,e.memoizedState)&&(we=!0,G&&(r=_a,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=x,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ef(e){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Wp(e,n,r){var l=At,h=ge(),f=Vt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!mn(($t||h).memoizedState,r);if(g&&(h.memoizedState=r,we=!0),h=h.queue,Af(ng.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,Sa(9,{destroy:void 0},eg.bind(null,l,h,r,n),null),Wt===null)throw Error(a(349));f||(Ui&127)!==0||tg(l,n,r)}return r}function tg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=Bu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function eg(e,n,r,l){n.value=r,n.getSnapshot=l,ig(n)&&sg(e)}function ng(e,n,r){return r(function(){ig(n)&&sg(e)})}function ig(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function sg(e){var n=Er(e,2);n!==null&&un(n,e,2)}function Tf(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),xr){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function rg(e,n,r,l){return e.baseState=r,vf(e,$t,typeof l=="function"?l:Li)}function b1(e,n,r,l,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ag(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ag(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=r(h,l),x=F.S;x!==null&&x(g,E),lg(e,n,E)}catch(j){bf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=r(h,l),lg(e,n,f)}catch(j){bf(e,n,j)}}function lg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){og(e,n,l)},function(l){return bf(e,n,l)}):og(e,n,r)}function og(e,n,r){n.status="fulfilled",n.value=r,ug(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ag(e,r)))}function bf(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ug(n),n=n.next;while(n!==l)}e.action=null}function ug(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cg(e,n){return n}function hg(e,n){if(Vt){var r=Wt.formState;if(r!==null){t:{var l=At;if(Vt){if(ie){e:{for(var h=ie,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=On(h.nextSibling),l=h.data==="F!";break t}}_s(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},r.queue=l,r=Ng.bind(null,At,l),l.dispatch=r,l=Tf(!1),f=If.bind(null,At,!1,l.queue),l=en(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=b1.bind(null,At,h,f,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function fg(e){var n=ge();return dg(n,$t,e)}function dg(e,n,r){if(n=vf(e,n,cg)[0],e=Hu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ql(n)}catch(g){throw g===va?Mu:g}else l=n;n=ge();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Sa(9,{destroy:void 0},A1.bind(null,h,r),null)),[l,f,e]}function A1(e,n){e.action=n}function mg(e){var n=ge(),r=$t;if(r!==null)return dg(n,r,e);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Sa(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=Bu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function pg(){return ge().memoizedState}function Fu(e,n,r,l){var h=en();At.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},r,l===void 0?null:l)}function Gu(e,n,r,l){var h=ge();l=l===void 0?null:l;var f=h.memoizedState.inst;$t!==null&&l!==null&&df(l,$t.memoizedState.deps)?h.memoizedState=Sa(n,f,r,l):(At.flags|=e,h.memoizedState=Sa(1|n,f,r,l))}function gg(e,n){Fu(8390656,8,e,n)}function Af(e,n){Gu(2048,8,e,n)}function S1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Bu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function yg(e){var n=ge().memoizedState;return S1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function _g(e,n){return Gu(4,2,e,n)}function vg(e,n){return Gu(4,4,e,n)}function Eg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tg(e,n,r){r=r!=null?r.concat([e]):null,Gu(4,4,Eg.bind(null,n,e),r)}function Sf(){}function bg(e,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&df(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Ag(e,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=e(),xr){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[l,n],l}function wf(e,n,r){return r===void 0||(Ui&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Sy(),At.lanes|=e,Cs|=e,r)}function Sg(e,n,r,l){return mn(r,n)?r:Ta.current!==null?(e=wf(e,r,l),mn(e,n)||(we=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(xt&261930)===0?(we=!0,e.memoizedState=r):(e=Sy(),At.lanes|=e,Cs|=e,n)}function wg(e,n,r,l,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,If(e,!1,n,r);try{var x=h(),j=F.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=v1(x,l);Kl(e,n,G,En(e))}else Kl(e,n,l,En(e))}catch(K){Kl(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function w1(){}function Rf(e,n,r,l){if(e.tag!==5)throw Error(a(476));var h=Rg(e).queue;wg(e,h,n,ht,r===null?w1:function(){return Cg(e),r(l)})}function Rg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cg(e){var n=Rg(e);n.next===null&&(n=e.alternate.memoizedState),Kl(e,n.next.queue,{},En())}function Cf(){return qe(co)}function Ig(){return ge().memoizedState}function xg(){return ge().memoizedState}function R1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=Ts(r);var l=bs(n,e,r);l!==null&&(un(l,n,r),ql(l,n,r)),n={cache:ef()},e.payload=n;return}n=n.return}}function C1(e,n,r){var l=En();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Dg(n,r):(r=Fh(e,n,r,l),r!==null&&(un(r,e,l),Og(r,n,l)))}function Ng(e,n,r){var l=En();Kl(e,n,r,l)}function Kl(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Dg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return Ru(e,n,h,0),Wt===null&&wu(),!1}catch{}finally{}if(r=Fh(e,n,h,l),r!==null)return un(r,e,l),Og(r,n,l),!0}return!1}function If(e,n,r,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=Fh(e,r,l,2),n!==null&&un(n,e,2)}function Qu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Dg(e,n){ba=ju=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Og(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,pl(e,r)}}var Yl={readContext:qe,use:qu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Yl.useEffectEvent=he;var Mg={readContext:qe,use:qu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:gg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Fu(4194308,4,Eg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var l=e();if(xr){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=en();if(r!==void 0){var h=r(n);if(xr){Tn(!0);try{r(n)}finally{Tn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=C1.bind(null,At,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,r=Ng.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Sf,useDeferredValue:function(e,n){var r=en();return wf(r,e,n)},useTransition:function(){var e=Tf(!1);return e=wg.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=At,h=en();if(Vt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(xt&127)!==0||tg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,gg(ng.bind(null,l,f,e),[e]),l.flags|=2048,Sa(9,{destroy:void 0},eg.bind(null,l,f,r,n),null),r},useId:function(){var e=en(),n=Wt.identifierPrefix;if(Vt){var r=yi,l=gi;r=(l&~(1<<32-de(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=E1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:hg,useActionState:hg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=If.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return en().memoizedState=R1.bind(null,At)},useEffectEvent:function(e){var n=en(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},xf={readContext:qe,use:qu,useCallback:bg,useContext:qe,useEffect:Af,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Ag,useReducer:Hu,useRef:pg,useState:function(){return Hu(Li)},useDebugValue:Sf,useDeferredValue:function(e,n){var r=ge();return Sg(r,$t.memoizedState,e,n)},useTransition:function(){var e=Hu(Li)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:Wp,useId:Ig,useHostTransitionStatus:Cf,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var r=ge();return rg(r,$t,e,n)},useMemoCache:_f,useCacheRefresh:xg};xf.useEffectEvent=yg;var Vg={readContext:qe,use:qu,useCallback:bg,useContext:qe,useEffect:Af,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Ag,useReducer:Ef,useRef:pg,useState:function(){return Ef(Li)},useDebugValue:Sf,useDeferredValue:function(e,n){var r=ge();return $t===null?wf(r,e,n):Sg(r,$t.memoizedState,e,n)},useTransition:function(){var e=Ef(Li)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:Wp,useId:Ig,useHostTransitionStatus:Cf,useFormState:mg,useActionState:mg,useOptimistic:function(e,n){var r=ge();return $t!==null?rg(r,$t,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:_f,useCacheRefresh:xg};Vg.useEffectEvent=yg;function Nf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:R({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Df={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=En(),h=Ts(l);h.payload=n,r!=null&&(h.callback=r),n=bs(e,h,l),n!==null&&(un(n,e,l),ql(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=En(),h=Ts(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=bs(e,h,l),n!==null&&(un(n,e,l),ql(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),l=Ts(r);l.tag=2,n!=null&&(l.callback=n),n=bs(e,l,r),n!==null&&(un(n,e,r),ql(n,e,r))}};function kg(e,n,r,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vl(r,l)||!Vl(h,f):!0}function Pg(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Nr(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=R({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Ug(e){Su(e)}function Lg(e){console.error(e)}function jg(e){Su(e)}function Ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function zg(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,r){return r=Ts(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(e,n)},r}function Bg(e){return e=Ts(e),e.tag=3,e}function qg(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){zg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){zg(n,r,l),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function I1(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ga(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?rc():r.alternate===null&&fe===0&&(fe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Vu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),id(e,l,h)),!1;case 22:return r.flags|=65536,l===Vu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),id(e,l,h)),!1}throw Error(a(435,r.tag))}return id(e,l,h),rc(),!1}if(Vt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(e=Error(a(422),{cause:l}),Ul(Cn(e,r)))):(l!==$h&&(n=Error(a(423),{cause:l}),Ul(Cn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Cn(l,r),h=Of(e.stateNode,l,h),of(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:l});if(f=Cn(f,r),no===null?no=[f]:no.push(f),fe!==4&&(fe=2),n===null)return!0;l=Cn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Of(r.stateNode,l,e),of(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Bg(h),qg(h,e,r,l),of(r,h),!1}r=r.return}while(r!==null);return!1}var Mf=Error(a(461)),we=!1;function He(e,n,r,l){n.child=e===null?Qp(n,null,r,l):Ir(n,e.child,r,l)}function Hg(e,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Sr(n),l=mf(e,n,r,g,f,h),E=pf(),e!==null&&!we?(gf(e,n,h),ji(e,n,h)):(Vt&&E&&Yh(n),n.flags|=1,He(e,n,l,h),n.child)}function Fg(e,n,r,l,h){if(e===null){var f=r.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Gg(e,n,f,l,h)):(e=Iu(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Vl,r(g,l)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Mi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Gg(e,n,r,l,h){if(e!==null){var f=e.memoizedProps;if(Vl(f,l)&&e.ref===n.ref)if(we=!1,n.pendingProps=l=f,Bf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Vf(e,n,r,l,h)}function Qg(e,n,r,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Kg(e,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Xp(n,f):cf(),$p(n);else return l=n.lanes=536870912,Kg(e,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Ou(n,f.cachePool),Xp(n,f),Ss(),n.memoizedState=null):(e!==null&&Ou(n,null),cf(),Ss());return He(e,n,h,r),n.child}function Xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kg(e,n,r,l,h){var f=sf();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ou(n,null),cf(),$p(n),e!==null&&ga(e,n,l,!0),n.childLanes=h,null}function Yu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Yg(e,n,r){return Ir(n,e.child,null,r),e=Yu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function x1(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(l.mode==="hidden")return e=Yu(n,l),n.lanes=536870912,Xl(null,e);if(ff(n),(e=ie)?(e=a_(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Dp(e),r.return=n,n.child=r,Be=n,ie=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return Yu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Yg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||ga(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(l=Wt,l!==null&&(g=gl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Er(e,g),un(l,e,g),Mf;rc(),n=Yg(e,n,r)}else e=f.treeContext,ie=On(g.nextSibling),Be=n,Vt=!0,ys=null,Nn=!1,e!==null&&Vp(n,e),n=Yu(n,l),n.flags|=4096;return n}return e=Mi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Vf(e,n,r,l,h){return Sr(n),r=mf(e,n,r,l,void 0,h),l=pf(),e!==null&&!we?(gf(e,n,h),ji(e,n,h)):(Vt&&l&&Yh(n),n.flags|=1,He(e,n,r,h),n.child)}function Xg(e,n,r,l,h,f){return Sr(n),n.updateQueue=null,r=Jp(n,l,r,h),Zp(e),l=pf(),e!==null&&!we?(gf(e,n,f),ji(e,n,f)):(Vt&&l&&Yh(n),n.flags|=1,He(e,n,r,f),n.child)}function $g(e,n,r,l,h){if(Sr(n),n.stateNode===null){var f=fa,g=r.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},af(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?qe(g):fa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Fl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,x=Nr(r,E);f.props=x;var j=f.context,G=r.contextType;g=fa,typeof G=="object"&&G!==null&&(g=qe(G));var K=r.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Pg(n,f,l,g),Es=!1;var z=n.memoizedState;f.state=z,Fl(n,l,f,h),Hl(),j=n.memoizedState,E||z!==j||Es?(typeof K=="function"&&(Nf(n,r,K,l),j=n.memoizedState),(x=Es||kg(n,r,x,l,z,j,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(e,n),g=n.memoizedProps,G=Nr(r,g),f.props=G,K=n.pendingProps,z=f.context,j=r.contextType,x=fa,typeof j=="object"&&j!==null&&(x=qe(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==x)&&Pg(n,f,l,x),Es=!1,z=n.memoizedState,f.state=z,Fl(n,l,f,h),Hl();var q=n.memoizedState;g!==K||z!==q||Es||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(Nf(n,r,E,l),q=n.memoizedState),(G=Es||kg(n,r,G,l,z,q,x)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=x,l=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Xu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ir(n,e.child,null,h),n.child=Ir(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Zg(e,n,r,l){return br(),n.flags|=256,He(e,n,r,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:zp()}}function Uf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=vn),e}function Jg(e,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?As(n):Ss(),(e=ie)?(e=a_(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Dp(e),r.return=n,n.child=r,Be=n,ie=null)):e=null,e===null)throw _s(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ss(),h=n.mode,E=$u({mode:"hidden",children:E},h),l=Tr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Pf(r),l.childLanes=Uf(e,g,r),n.memoizedState=kf,Xl(null,l)):(As(n),Lf(n,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=jf(e,n,r)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=l.fallback,h=n.mode,l=$u({mode:"visible",children:l.children},h),E=Tr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ir(n,e.child,null,r),l=n.child,l.memoizedState=Pf(r),l.childLanes=Uf(e,g,r),n.memoizedState=kf,n=Xl(null,l));else if(As(n),vd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(a(419)),l.stack="",l.digest=g,Ul({value:l,source:null,stack:null}),n=jf(e,n,r)}else if(we||ga(e,n,r,!1),g=(r&e.childLanes)!==0,we||g){if(g=Wt,g!==null&&(l=gl(g,r),l!==0&&l!==x.retryLane))throw x.retryLane=l,Er(e,l),un(g,e,l),Mf;_d(E)||rc(),n=jf(e,n,r)}else _d(E)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ie=On(E.nextSibling),Be=n,Vt=!0,ys=null,Nn=!1,e!==null&&Vp(n,e),n=Lf(n,l.children),n.flags|=4096);return n}return h?(Ss(),E=l.fallback,h=n.mode,x=e.child,j=x.sibling,l=Mi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=Mi(j,E):(E=Tr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Xl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Pf(r):(h=E.cachePool,h!==null?(x=Ae._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=zp(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Uf(e,g,r),n.memoizedState=kf,Xl(e.child,l)):(As(n),r=e.child,e=r.sibling,r=Mi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Lf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function jf(e,n,r){return Ir(n,e.child,null,r),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wg(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Wh(e.return,n,r)}function zf(e,n,r,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ty(e,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(pe,g),He(e,n,l,r),l=Vt?Pl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wg(e,r,n);else if(e.tag===19)Wg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Lu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),zf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}zf(n,!0,r,null,f,l);break;case"together":zf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Cs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ga(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Mi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Mi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function N1(e,n,r){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),vs(n,Ae,e.memoizedState.cache),br();break;case 27:case 5:nr(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(As(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Jg(e,n,r):(As(n),e=ji(e,n,r),e!==null?e.sibling:null);As(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ga(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ty(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(pe,pe.current),l)break;return null;case 22:return n.lanes=0,Qg(e,n,r,n.pendingProps);case 24:vs(n,Ae,e.memoizedState.cache)}return ji(e,n,r)}function ey(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Bf(e,r)&&(n.flags&128)===0)return we=!1,N1(e,n,r);we=(e.flags&131072)!==0}else we=!1,Vt&&(n.flags&1048576)!==0&&Mp(n,Pl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Rr(n.elementType),n.type=e,typeof e=="function")Gh(e)?(l=Nr(e,l),n.tag=1,n=$g(null,n,e,l,r)):(n.tag=0,n=Vf(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===Lt){n.tag=11,n=Hg(null,n,e,l,r);break t}else if(h===C){n.tag=14,n=Fg(null,n,e,l,r);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Nr(l,n.pendingProps),$g(e,n,l,h,r);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),Fl(n,l,null,r);var g=n.memoizedState;if(l=g.cache,vs(n,Ae,l),l!==f.cache&&tf(n,[Ae],r,!0),Hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zg(e,n,l,r);break t}else if(l!==h){h=Cn(Error(a(424)),n),Ul(h),n=Zg(e,n,l,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=On(e.firstChild),Be=n,Vt=!0,ys=null,Nn=!0,r=Qp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(br(),l===h){n=ji(e,n,r);break t}He(e,n,l,r)}n=n.child}return n;case 26:return Xu(e,n),e===null?(r=f_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,l=fc(St.current).createElement(r),l[Ee]=n,l[Ve]=e,Fe(l,r,e),Te(l),n.stateNode=l):n.memoizedState=f_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return nr(n),e===null&&Vt&&(l=n.stateNode=u_(n.type,n.pendingProps,St.current),Be=n,Nn=!0,h=ie,Os(n.type)?(Ed=h,ie=On(l.firstChild)):ie=h),He(e,n,n.pendingProps.children,r),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=l=ie)&&(l=ab(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,Be=n,ie=On(l.firstChild),Nn=!1,h=!0):h=!1),h||_s(n)),nr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,pd(h,f)?l=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,T1,null,null,r),co._currentValue=h),Xu(e,n),He(e,n,l,r),n.child;case 6:return e===null&&Vt&&((e=r=ie)&&(r=lb(r,n.pendingProps,Nn),r!==null?(n.stateNode=r,Be=n,ie=null,e=!0):e=!1),e||_s(n)),null;case 13:return Jg(e,n,r);case 4:return xe(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ir(n,null,l,r):He(e,n,l,r),n.child;case 11:return Hg(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,vs(n,n.type,l.value),He(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Sr(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,r),n.child;case 14:return Fg(e,n,n.type,n.pendingProps,r);case 15:return Gg(e,n,n.type,n.pendingProps,r);case 19:return ty(e,n,r);case 31:return x1(e,n,r);case 22:return Qg(e,n,r,n.pendingProps);case 24:return Sr(n),l=qe(Ae),e===null?(h=sf(),h===null&&(h=Wt,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},af(n),vs(n,Ae,h)):((e.lanes&r)!==0&&(lf(e,n),Fl(n,null,null,r),Hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,Ae,l)):(l=f.cache,vs(n,Ae,l),l!==h.cache&&tf(n,[Ae],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function zi(e){e.flags|=4}function qf(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw Cr=Vu,rf}else e.flags&=-16777217}function ny(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(n))if(Iy())e.flags|=8192;else throw Cr=Vu,rf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Ia|=n)}function $l(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function D1(e,n,r){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Pi(Ae),ae(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pa(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(se(n),ny(n,f)):(se(n),qf(n,h,null,l,r))):f?f!==e.memoizedState?(zi(n),se(n),ny(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&zi(n),se(n),qf(n,h,e,l,r)),null;case 27:if(Kr(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=st.current,pa(n)?kp(n):(e=u_(h,l,r),n.stateNode=e,zi(n))}return se(n),null;case 5:if(Kr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=st.current,pa(n))kp(n);else{var g=fc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Ee]=n,f[Ve]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&zi(n)}}return se(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,pa(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Jy(e.nodeValue,r)),e||_s(n,!0)}else e=fc(e).createTextNode(l),e[Ee]=n,n.stateNode=e}return se(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=pa(n),r!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else r=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),se(n),null);case 4:return ae(),e===null&&cd(n.stateNode.containerInfo),se(n),null;case 10:return Pi(n.type),se(n),null;case 19:if(Y(pe),l=n.memoizedState,l===null)return se(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)$l(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,$l(l,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Np(r,e),r=r.sibling;return et(pe,pe.current&1|2),Vt&&Vi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&We()>nc&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),$l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Vt)return se(n),null}else 2*We()-l.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,r=pe.current,et(pe,h?r&1|2:r&1),Vt&&Vi(n,l.treeForkCount),e):(se(n),null);case 22:case 23:return yn(n),hf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&Y(wr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Pi(Ae),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function O1(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Ae),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(pe),null;case 4:return ae(),null;case 10:return Pi(n.type),null;case 22:case 23:return yn(n),hf(),e!==null&&Y(wr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Ae),null;case 25:return null;default:return null}}function iy(e,n){switch(Xh(n),n.tag){case 3:Pi(Ae),ae();break;case 26:case 27:case 5:Kr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Y(pe);break;case 10:Pi(n.type);break;case 22:case 23:yn(n),hf(),e!==null&&Y(wr);break;case 24:Pi(Ae)}}function Zl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(E){Yt(n,n.return,E)}}function ws(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var x=r,j=E;try{j()}catch(G){Yt(h,x,G)}}}l=l.next}while(l!==f)}}catch(G){Yt(n,n.return,G)}}function sy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Yp(n,r)}catch(l){Yt(e,e.return,l)}}}function ry(e,n,r){r.props=Nr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(e,n,l)}}function Jl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){Yt(e,n,h)}}function _i(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function ay(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function Hf(e,n,r){try{var l=e.stateNode;tb(l,e.type,r,n),l[Ve]=n}catch(h){Yt(e,e.return,h)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&Os(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Gf(e,n,r),e=e.sibling;e!==null;)Gf(e,n,r),e=e.sibling}function Ju(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Os(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ju(e,n,r),e=e.sibling;e!==null;)Ju(e,n,r),e=e.sibling}function oy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,l,r),n[Ee]=e,n[Ve]=r}catch(f){Yt(e,e.return,f)}}var Bi=!1,Re=!1,Qf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function M1(e,n){if(e=e.containerInfo,dd=vc,e=Tp(e),Lh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,x=-1,j=0,G=0,K=e,z=null;e:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(E=g+h),K!==f||l!==0&&K.nodeType!==3||(x=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===e)break e;if(z===r&&++j===h&&(E=g),z===f&&++G===l&&(x=g),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}r=E===-1||x===-1?null:{start:E,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:e,selectionRange:r},vc=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var at=Nr(r.type,h);e=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Yt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)yd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function cy(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(e,r),l&4&&Zl(5,r);break;case 1:if(Hi(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(r,r.return,g)}else{var h=Nr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(r,r.return,g)}}l&64&&sy(r),l&512&&Jl(r,r.return);break;case 3:if(Hi(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Yp(e,n)}catch(g){Yt(r,r.return,g)}}break;case 27:n===null&&l&4&&oy(r);case 26:case 5:Hi(e,r),n===null&&l&4&&ay(r),l&512&&Jl(r,r.return);break;case 12:Hi(e,r);break;case 31:Hi(e,r),l&4&&dy(e,r);break;case 13:Hi(e,r),l&4&&my(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=q1.bind(null,r),ob(e,r))));break;case 22:if(l=r.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||Re,h=Bi;var f=Re;Bi=l,(Re=n)&&!f?Fi(e,r,(r.subtreeFlags&8772)!==0):Hi(e,r),Bi=h,Re=f}break;case 30:break;default:Hi(e,r)}}function hy(e){var n=e.alternate;n!==null&&(e.alternate=null,hy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function qi(e,n,r){for(r=r.child;r!==null;)fy(e,n,r),r=r.sibling}function fy(e,n,r){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Un,r)}catch{}switch(r.tag){case 26:Re||_i(r,n),qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||_i(r,n);var l=oe,h=rn;Os(r.type)&&(oe=r.stateNode,rn=!1),qi(e,n,r),lo(r.stateNode),oe=l,rn=h;break;case 5:Re||_i(r,n);case 6:if(l=oe,h=rn,oe=null,qi(e,n,r),oe=l,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:oe!==null&&(rn?(e=oe,s_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Pa(e)):s_(oe,r.stateNode));break;case 4:l=oe,h=rn,oe=r.stateNode.containerInfo,rn=!0,qi(e,n,r),oe=l,rn=h;break;case 0:case 11:case 14:case 15:ws(2,r,n),Re||ws(4,r,n),qi(e,n,r);break;case 1:Re||(_i(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ry(r,n,l)),qi(e,n,r);break;case 21:qi(e,n,r);break;case 22:Re=(l=Re)||r.memoizedState!==null,qi(e,n,r),Re=l;break;default:qi(e,n,r)}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(r){Yt(n,n.return,r)}}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(r){Yt(n,n.return,r)}}function V1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new uy),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var r=V1(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=H1.bind(null,e,l);l.then(h,h)}})}function an(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){oe=E.stateNode,rn=!1;break t}break;case 5:oe=E.stateNode,rn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(oe===null)throw Error(a(160));fy(f,g,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var Kn=null;function py(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),ln(e),l&4&&(ws(3,e,e.return),Zl(3,e),ws(5,e,e.return));break;case 1:an(n,e),ln(e),l&512&&(Re||r===null||_i(r,r.return)),l&64&&Bi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Kn;if(an(n,e),ln(e),l&512&&(Re||r===null||_i(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,l,r),f[Ee]=e,Te(f),l=f;break t;case"link":var g=p_("link","href",h).get(l+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),Fe(f,l,r),h.head.appendChild(f);break;case"meta":if(g=p_("meta","content",h).get(l+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(l),Fe(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ee]=e,Te(f),l=f}e.stateNode=l}else g_(h,e.type,e.stateNode);else e.stateNode=m_(h,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?g_(h,e.type,e.stateNode):m_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,r.memoizedProps)}break;case 27:an(n,e),ln(e),l&512&&(Re||r===null||_i(r,r.return)),r!==null&&l&4&&Hf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(an(n,e),ln(e),l&512&&(Re||r===null||_i(r,r.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(at){Yt(e,e.return,at)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,r!==null?r.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(an(n,e),ln(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(at){Yt(e,e.return,at)}}break;case 3:if(pc=null,h=Kn,Kn=dc(n.containerInfo),an(n,e),Kn=h,ln(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(at){Yt(e,e.return,at)}Qf&&(Qf=!1,gy(e));break;case 4:l=Kn,Kn=dc(e.stateNode.containerInfo),an(n,e),ln(e),Kn=l;break;case 12:an(n,e),ln(e);break;case 31:an(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 13:an(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 22:h=e.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,j=Bi,G=Re;if(Bi=j||h,Re=G||x,an(n,e),Re=G,Bi=j,ln(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||x||Bi||Re||Dr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var K=x.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Yt(x,x.return,at)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(at){Yt(x,x.return,at)}}}else if(n.tag===18){if(r===null){x=n;try{var q=x.stateNode;h?r_(q,!0):r_(x.stateNode,!1)}catch(at){Yt(x,x.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Wu(e,r))));break;case 19:an(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 30:break;case 21:break;default:an(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(ly(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Ff(e);Ju(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(sn(g,""),r.flags&=-33);var E=Ff(e);Ju(e,E,g);break;case 3:case 4:var x=r.stateNode.containerInfo,j=Ff(e);Gf(e,j,x);break;default:throw Error(a(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(e,n.alternate,n),n=n.sibling}function Dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),Dr(n);break;case 1:_i(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ry(n,n.return,r),Dr(n);break;case 27:lo(n.stateNode);case 26:case 5:_i(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}e=e.sibling}}function Fi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,r),Zl(4,f);break;case 1:if(Fi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Kp(x[h],E)}catch(j){Yt(l,l.return,j)}}r&&g&64&&sy(f),Jl(f,f.return);break;case 27:oy(f);case 26:case 5:Fi(h,f,r),r&&l===null&&g&4&&ay(f),Jl(f,f.return);break;case 12:Fi(h,f,r);break;case 31:Fi(h,f,r),r&&g&4&&dy(h,f);break;case 13:Fi(h,f,r),r&&g&4&&my(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,r),Jl(f,f.return);break;case 30:break;default:Fi(h,f,r)}n=n.sibling}}function Kf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ll(r))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ll(e))}function Yn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(e,n,r,l),n=n.sibling}function yy(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,r,l),h&2048&&Zl(9,n);break;case 1:Yn(e,n,r,l);break;case 3:Yn(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ll(e)));break;case 12:if(h&2048){Yn(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Yt(n,n.return,x)}}else Yn(e,n,r,l);break;case 31:Yn(e,n,r,l);break;case 13:Yn(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,r,l):Wl(e,n):f._visibility&2?Yn(e,n,r,l):(f._visibility|=2,wa(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:Yn(e,n,r,l),h&2048&&Yf(n.alternate,n);break;default:Yn(e,n,r,l)}}function wa(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,x=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:wa(f,g,E,x,h),Zl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?wa(f,g,E,x,h):Wl(f,g):(G._visibility|=2,wa(f,g,E,x,h)),h&&j&2048&&Kf(g.alternate,g);break;case 24:wa(f,g,E,x,h),h&&j&2048&&Yf(g.alternate,g);break;default:wa(f,g,E,x,h)}n=n.sibling}}function Wl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:Wl(r,l),h&2048&&Kf(l.alternate,l);break;case 24:Wl(r,l),h&2048&&Yf(l.alternate,l);break;default:Wl(r,l)}n=n.sibling}}var to=8192;function Ra(e,n,r){if(e.subtreeFlags&to)for(e=e.child;e!==null;)_y(e,n,r),e=e.sibling}function _y(e,n,r){switch(e.tag){case 26:Ra(e,n,r),e.flags&to&&e.memoizedState!==null&&Eb(r,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,r);break;case 3:case 4:var l=Kn;Kn=dc(e.stateNode.containerInfo),Ra(e,n,r),Kn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,Ra(e,n,r),to=l):Ra(e,n,r));break;default:Ra(e,n,r)}}function vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pe=l,Ty(l,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&ws(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):eo(e);break;default:eo(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pe=l,Ty(l,e)}vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ws(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Ty(e,n){for(;Pe!==null;){var r=Pe;switch(r.tag){case 0:case 11:case 15:ws(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ll(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Pe=l;else t:for(r=e;Pe!==null;){l=Pe;var h=l.sibling,f=l.return;if(hy(l),l===r){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var k1={getCacheForType:function(e){var n=qe(Ae),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Ae).controller.signal}},P1=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Rt=null,xt=0,Kt=0,_n=null,Rs=!1,Ca=!1,Xf=!1,Gi=0,fe=0,Cs=0,Or=0,$f=0,vn=0,Ia=0,no=null,on=null,Zf=!1,ec=0,by=0,nc=1/0,ic=null,Is=null,De=0,xs=null,xa=null,Qi=0,Jf=0,Wf=null,Ay=null,io=0,td=null;function En(){return(qt&2)!==0&&xt!==0?xt&-xt:F.T!==null?ad():su()}function Sy(){if(vn===0)if((xt&536870912)===0||Vt){var e=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function un(e,n,r){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Ns(e,xt,vn,!1)),ar(e,r),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Or|=r),fe===4&&Ns(e,xt,vn,!1)),vi(e))}function wy(e,n,r){if((qt&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=l?j1(e,n):nd(e,n,!0),f=l;do{if(h===0){Ca&&!l&&Ns(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!U1(r)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=no;var x=E.current.memoizedState.isDehydrated;if(x&&(Na(E,g).flags|=256),g=nd(E,g,!1),g!==2){if(Xf&&!x){E.errorRecoveryDisabledLanes|=f,Or|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Na(e,0),Ns(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(l,n,vn,!Rs);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-We(),10<h)){if(Ns(l,n,vn,!Rs),ei(l,0,!0)!==0)break t;Qi=n,l.timeoutHandle=n_(Ry.bind(null,l,r,on,ic,Zf,n,vn,Or,Ia,Rs,f,"Throttled",-0,0),h);break t}Ry(l,r,on,ic,Zf,n,vn,Or,Ia,Rs,f,null,-0,0)}}break}while(!0);vi(e)}function Ry(e,n,r,l,h,f,g,E,x,j,G,K,z,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},_y(n,f,K);var at=(f&62914560)===f?ec-We():(f&4194048)===f?by-We():0;if(at=Tb(K,at),at!==null){Qi=f,e.cancelPendingCommit=at(Vy.bind(null,e,n,f,r,l,h,g,E,x,G,K,null,z,q)),Ns(e,f,g,!j);return}}Vy(e,n,f,r,l,h,g,E,x)}function U1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,r,l){n&=~$f,n&=~Or,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&lr(e,r,n)}function sc(){return(qt&6)===0?(so(0),!1):!0}function ed(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,ki=Ar=null,yf(e),Ea=null,zl=0,e=Rt;for(;e!==null;)iy(e.alternate,e),e=e.return;Rt=null}}function Na(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,ib(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qi=0,ed(),Wt=e,Rt=r=Mi(e.current,null),xt=n,Kt=0,_n=null,Rs=!1,Ca=Ln(e,n),Xf=!1,Ia=vn=$f=Or=Cs=fe=0,on=no=null,Zf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-de(l),f=1<<h;n|=e[h],l&=~f}return Gi=n,wu(),r}function Cy(e,n){At=null,F.H=Yl,n===va||n===Mu?(n=Hp(),Kt=3):n===rf?(n=Hp(),Kt=4):Kt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Rt===null&&(fe=1,Ku(e,Cn(n,e.current)))}function Iy(){var e=gn.current;return e===null?!0:(xt&4194048)===xt?Dn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Dn:!1}function xy(){var e=F.H;return F.H=Yl,e===null?Yl:e}function Ny(){var e=F.A;return F.A=k1,e}function rc(){fe=4,Rs||(xt&4194048)!==xt&&gn.current!==null||(Ca=!0),(Cs&134217727)===0&&(Or&134217727)===0||Wt===null||Ns(Wt,xt,vn,!1)}function nd(e,n,r){var l=qt;qt|=2;var h=xy(),f=Ny();(Wt!==e||xt!==n)&&(ic=null,Na(e,n)),n=!1;var g=fe;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,x=_n;switch(Kt){case 8:ed(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var j=Kt;if(Kt=0,_n=null,Da(e,E,x,j),r&&Ca){g=0;break t}break;default:j=Kt,Kt=0,_n=null,Da(e,E,x,j)}}L1(),g=fe;break}catch(G){Cy(e,G)}while(!0);return n&&e.shellSuspendCounter++,ki=Ar=null,qt=l,F.H=h,F.A=f,Rt===null&&(Wt=null,xt=0,wu()),g}function L1(){for(;Rt!==null;)Dy(Rt)}function j1(e,n){var r=qt;qt|=2;var l=xy(),h=Ny();Wt!==e||xt!==n?(ic=null,nc=We()+500,Na(e,n)):Ca=Ln(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=_n;e:switch(Kt){case 1:Kt=0,_n=null,Da(e,n,f,1);break;case 2:case 9:if(Bp(f)){Kt=0,_n=null,Oy(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),vi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Bp(f)?(Kt=0,_n=null,Oy(n)):(Kt=0,_n=null,Da(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?y_(g):E.stateNode.complete){Kt=0,_n=null;var x=E.sibling;if(x!==null)Rt=x;else{var j=E.return;j!==null?(Rt=j,ac(j)):Rt=null}break e}}Kt=0,_n=null,Da(e,n,f,5);break;case 6:Kt=0,_n=null,Da(e,n,f,6);break;case 8:ed(),fe=6;break t;default:throw Error(a(462))}}z1();break}catch(G){Cy(e,G)}while(!0);return ki=Ar=null,F.H=l,F.A=h,qt=r,Rt!==null?0:(Wt=null,xt=0,wu(),fe)}function z1(){for(;Rt!==null&&!Dh();)Dy(Rt)}function Dy(e){var n=ey(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?ac(e):Rt=n}function Oy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Xg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Xg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:yf(n);default:iy(r,n),n=Rt=Np(n,Gi),n=ey(r,n,Gi)}e.memoizedProps=e.pendingProps,n===null?ac(e):Rt=n}function Da(e,n,r,l){ki=Ar=null,yf(n),Ea=null,zl=0;var h=n.return;try{if(I1(e,h,n,r,xt)){fe=1,Ku(e,Cn(r,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;fe=1,Ku(e,Cn(r,e.current)),Rt=null;return}n.flags&32768?(Vt||l===1?e=!0:Ca||(xt&536870912)!==0?e=!1:(Rs=e=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),My(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){My(n,Rs);return}e=n.return;var r=D1(n.alternate,n,Gi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);fe===0&&(fe=5)}function My(e,n){do{var r=O1(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);fe=6,Rt=null}function Vy(e,n,r,l,h,f,g,E,x){e.cancelPendingCommit=null;do lc();while(De!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(e,r,f,g,E,x),e===Wt&&(Rt=Wt=null,xt=0),xa=n,xs=e,Qi=r,Jf=f,Wf=h,Ay=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,F1(as,function(){return jy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=tt.p,tt.p=2,g=qt,qt|=4;try{M1(e,n,r)}finally{qt=g,tt.p=h,F.T=l}}De=1,ky(),Py(),Uy()}}function ky(){if(De===1){De=0;var e=xs,n=xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=tt.p;tt.p=2;var h=qt;qt|=4;try{py(n,e);var f=md,g=Tp(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ep(E.ownerDocument.documentElement,E)){if(x!==null&&Lh(E)){var j=x.start,G=x.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),at=E.textContent.length,mt=Math.min(x.start,at),Jt=x.end===void 0?mt:Math.min(x.end,at);!q.extend&&mt>Jt&&(g=Jt,Jt=mt,mt=g);var k=vp(E,mt),D=vp(E,Jt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=K.createRange();L.setStart(k.node,k.offset),q.removeAllRanges(),mt>Jt?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}vc=!!dd,md=dd=null}finally{qt=h,tt.p=l,F.T=r}}e.current=n,De=2}}function Py(){if(De===2){De=0;var e=xs,n=xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=tt.p;tt.p=2;var h=qt;qt|=4;try{cy(e,n.alternate,n)}finally{qt=h,tt.p=l,F.T=r}}De=3}}function Uy(){if(De===4||De===3){De=0,Zo();var e=xs,n=xa,r=Qi,l=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,xa=xs=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),xi(r),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,tt.p=h}}(Qi&3)!==0&&lc(),vi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===td?io++:(io=0,td=e):io=0,so(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ll(n)))}function lc(){return ky(),Py(),Uy(),jy()}function jy(){if(De!==5)return!1;var e=xs,n=Jf;Jf=0;var r=xi(Qi),l=F.T,h=tt.p;try{tt.p=32>r?32:r,F.T=null,r=Wf,Wf=null;var f=xs,g=Qi;if(De=0,xa=xs=null,Qi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,Ey(f.current),yy(f,f.current,g,r),qt=E,so(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{tt.p=h,F.T=l,Ly(e,n)}}function zy(e,n,r){n=Cn(r,n),n=Of(e.stateNode,n,2),e=bs(e,n,2),e!==null&&(ar(e,2),vi(e))}function Yt(e,n,r){if(e.tag===3)zy(e,e,r);else for(;n!==null;){if(n.tag===3){zy(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){e=Cn(r,e),r=Bg(2),l=bs(n,r,2),l!==null&&(qg(r,l,n,e),ar(l,2),vi(l));break}}n=n.return}}function id(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new P1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Xf=!0,h.add(r),e=B1.bind(null,e,n,r),n.then(e,e))}function B1(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(xt&r)===r&&(fe===4||fe===3&&(xt&62914560)===xt&&300>We()-ec?(qt&2)===0&&Na(e,0):$f|=r,Ia===xt&&(Ia=0)),vi(e)}function By(e,n){n===0&&(n=iu()),e=Er(e,n),e!==null&&(ar(e,n),vi(e))}function q1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),By(e,r)}function H1(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),By(e,r)}function F1(e,n){return Ne(e,n)}var oc=null,Oa=null,sd=!1,uc=!1,rd=!1,Ds=0;function vi(e){e!==Oa&&e.next===null&&(Oa===null?oc=Oa=e:Oa=Oa.next=e),uc=!0,sd||(sd=!0,Q1())}function so(e,n){if(!rd&&uc){rd=!0;do for(var r=!1,l=oc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Gy(l,f))}else f=xt,f=ei(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ln(l,f)||(r=!0,Gy(l,f));l=l.next}while(r);rd=!1}}function G1(){qy()}function qy(){uc=sd=!1;var e=0;Ds!==0&&nb()&&(e=Ds);for(var n=We(),r=null,l=oc;l!==null;){var h=l.next,f=Hy(l,n);f===0?(l.next=null,r===null?oc=h:r.next=h,h===null&&(Oa=r)):(r=l,(e!==0||(f&3)!==0)&&(uc=!0)),l=h}De!==0&&De!==5||so(e),Ds!==0&&(Ds=0)}function Hy(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,x=h[g];x===-1?((E&r)===0||(E&l)!==0)&&(h[g]=Mh(E,n)):x<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=xt,r=ei(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ln(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&rs(l),xi(r)){case 2:case 8:r=ml;break;case 32:r=as;break;case 268435456:r=Jo;break;default:r=as}return l=Fy.bind(null,e),r=Ne(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&rs(l),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var l=xt;return l=ei(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(wy(e,l,n),Hy(e,We()),e.callbackNode!=null&&e.callbackNode===r?Fy.bind(null,e):null)}function Gy(e,n){if(lc())return null;wy(e,n,!0)}function Q1(){sb(function(){(qt&6)!==0?Ne(dl,G1):qy()})}function ad(){if(Ds===0){var e=ya;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ds=e}return Ds}function Qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function Ky(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function K1(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Qy((h[Ve]||null).action),g=l.submitter;g&&(n=(n=g[Ve]||null)?Qy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var x=g?Ky(h,g):new FormData(h);Rf(r,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?Ky(h,g):new FormData(h),Rf(r,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var ld=0;ld<qh.length;ld++){var od=qh[ld],Y1=od.toLowerCase(),X1=od[0].toUpperCase()+od.slice(1);Qn(Y1,"on"+X1)}Qn(Sp,"onAnimationEnd"),Qn(wp,"onAnimationIteration"),Qn(Rp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(h1,"onTransitionRun"),Qn(f1,"onTransitionStart"),Qn(d1,"onTransitionCancel"),Qn(Cp,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Yy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=x}else for(g=0;g<l.length;g++){if(E=l[g],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=x}}}}function Ct(e,n){var r=n[Zr];r===void 0&&(r=n[Zr]=new Set);var l=e+"__bubble";r.has(l)||(Xy(n,e,2,!1),r.add(l))}function ud(e,n,r){var l=0;n&&(l|=4),Xy(r,e,l,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[cc]){e[cc]=!0,yl.forEach(function(r){r!=="selectionchange"&&($1.has(r)||ud(r,!1,e),ud(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,ud("selectionchange",!1,n))}}function Xy(e,n,r,l){switch(S_(n)){case 2:var h=Sb;break;case 8:h=wb;break;default:h=wd}r=h.bind(null,n,r,e),h=void 0,!fr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function hd(e,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){l=f=g;continue t}E=E.parentNode}}l=l.return}fs(function(){var j=f,G=An(r),K=[];t:{var z=Ip.get(e);if(z!==void 0){var q=fi,at=e;switch(e){case"keypress":if(mr(r)===0)break t;case"keydown":case"keyup":q=Tu;break;case"focusin":at="focus",q=gr;break;case"focusout":at="blur",q=gr;break;case"beforeblur":case"afterblur":q=gr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Sp:case wp:case Rp:q=mu;break;case Cp:q=T;break;case"scroll":case"scrollend":q=xl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=bt}var mt=(n&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),k=mt?z!==null?z+"Capture":null:z;mt=[];for(var D=j,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=qn(D,k),Q!=null&&mt.push(ao(D,Q,L))),Jt)break;D=D.return}0<mt.length&&(z=new q(z,at,null,r,G),K.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==Rl&&(at=r.relatedTarget||r.fromElement)&&(ri(at)||at[ii]))break t;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(at=r.relatedTarget||r.toElement,q=j,at=at?ri(at):null,at!==null&&(Jt=c(at),mt=at.tag,at!==Jt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(q=null,at=j),q!==at)){if(mt=Nl,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Oi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),Jt=q==null?z:fn(q),L=at==null?z:fn(at),z=new mt(Q,D+"leave",q,r,G),z.target=Jt,z.relatedTarget=L,Q=null,ri(G)===j&&(mt=new mt(k,D+"enter",at,r,G),mt.target=L,mt.relatedTarget=Jt,Q=mt),Jt=Q,q&&at)e:{for(mt=Z1,k=q,D=at,L=0,Q=k;Q;Q=mt(Q))L++;Q=0;for(var ut=D;ut;ut=mt(ut))Q++;for(;0<L-Q;)k=mt(k),L--;for(;0<Q-L;)D=mt(D),Q--;for(;L--;){if(k===D||D!==null&&k===D.alternate){mt=k;break e}k=mt(k),D=mt(D)}mt=null}else mt=null;q!==null&&$y(K,z,q,mt,!1),at!==null&&Jt!==null&&$y(K,Jt,at,mt,!0)}}t:{if(z=j?fn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var jt=dp;else if(hp(z))if(mp)jt=o1;else{jt=a1;var lt=r1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ea(j.elementType)&&(jt=dp):jt=l1;if(jt&&(jt=jt(e,j))){fp(K,jt,r,G);break t}lt&&lt(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Al(z,"number",z.value)}switch(lt=j?fn(j):window,e){case"focusin":(hp(lt)||lt.contentEditable==="true")&&(ua=lt,jh=j,kl=null);break;case"focusout":kl=jh=ua=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,bp(K,r,G);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":bp(K,r,G)}var wt;if(Bt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else oa?yr(e,r)&&(Nt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Nt="onCompositionStart");Nt&&(pi&&r.locale!=="ko"&&(oa||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&oa&&(wt=Il()):(hi=G,Cl="value"in hi?hi.value:hi.textContent,oa=!0)),lt=hc(j,Nt),0<lt.length&&(Nt=new mi(Nt,e,null,r,G),K.push({event:Nt,listeners:lt}),wt?Nt.data=wt:(wt=la(r),wt!==null&&(Nt.data=wt)))),(wt=wn?e1(e,r):n1(e,r))&&(Nt=hc(j,"onBeforeInput"),0<Nt.length&&(lt=new mi("onBeforeInput","beforeinput",null,r,G),K.push({event:lt,listeners:Nt}),lt.data=wt)),K1(K,e,j,r,G)}Yy(K,n)})}function ao(e,n,r){return{instance:e,listener:n,currentTarget:r}}function hc(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&l.unshift(ao(e,h,f)),h=qn(e,n),h!=null&&l.push(ao(e,h,f))),e.tag===3)return l;e=e.return}return[]}function Z1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $y(e,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var E=r,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===l)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=qn(r,f),j!=null&&g.unshift(ao(r,j,x))):h||(j=qn(r,f),j!=null&&g.push(ao(r,j,x)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var J1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function Zy(e){return(typeof e=="string"?e:""+e).replace(J1,`
`).replace(W1,"")}function Jy(e,n){return n=Zy(n),Zy(e)===n}function Zt(e,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(e,""+l);break;case"className":dn(e,"class",l);break;case"tabIndex":dn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,l);break;case"style":wl(e,l,f);break;case"data":if(n!=="object"){dn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=na(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=na(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Bn);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Wr(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,Wr(e,r,l))}}function fd(e,n,r,l,h,f){switch(r){case"style":wl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Wr(e,r,l)}}}function Fe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,r,null)}}h&&Zt(e,n,"srcSet",r.srcSet,r,null),l&&Zt(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,x=null,j=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":x=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Zt(e,n,l,G,r,null)}}ou(e,f,E,x,j,g,h,!1);return;case"select":Ct("invalid",e),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Zt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!l,n!=null?os(e,!!l,n,!1):r!=null&&os(e,!!l,r,!0);return;case"textarea":Ct("invalid",e),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,r,null)}us(e,l,h,f);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(l=r[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(e,n,x,l,r,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(l=0;l<ro.length;l++)Ct(ro[l],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,j,l,r,null)}return;default:if(ea(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&fd(e,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Zt(e,n,E,l,r,null))}function tb(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,j=null,G=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=K;default:l.hasOwnProperty(q)||Zt(e,n,q,null,l,K)}}for(var z in l){var q=l[z];if(K=r[z],l.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Zt(e,n,z,q,l,K)}}ta(e,g,E,x,j,G,f,h);return;case"select":q=g=E=z=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:l.hasOwnProperty(f)||Zt(e,n,f,null,l,x)}for(h in l)if(f=l[h],x=r[h],l.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&Zt(e,n,h,f,l,x)}n=E,r=g,l=q,z!=null?os(e,!!r,z,!1):!!l!=!!r&&(n!=null?os(e,!!r,n,!0):os(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,l,f)}uu(e,z,q);return;case"option":for(var at in r)if(z=r[at],r.hasOwnProperty(at)&&z!=null&&!l.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Zt(e,n,at,null,l,z)}for(x in l)if(z=l[x],q=r[x],l.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null))switch(x){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Zt(e,n,x,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)z=r[mt],r.hasOwnProperty(mt)&&z!=null&&!l.hasOwnProperty(mt)&&Zt(e,n,mt,null,l,z);for(j in l)if(z=l[j],q=r[j],l.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Zt(e,n,j,z,l,q)}return;default:if(ea(n)){for(var Jt in r)z=r[Jt],r.hasOwnProperty(Jt)&&z!==void 0&&!l.hasOwnProperty(Jt)&&fd(e,n,Jt,void 0,l,z);for(G in l)z=l[G],q=r[G],!l.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||fd(e,n,G,z,l,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&Zt(e,n,k,null,l,z);for(K in l)z=l[K],q=r[K],!l.hasOwnProperty(K)||z===q||z==null&&q==null||Zt(e,n,K,z,l,q)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Wy(g)){for(g=0,E=h.responseEnd,l+=1;l<r.length;l++){var x=r[l],j=x.startTime;if(j>E)break;var G=x.transferSize,K=x.initiatorType;G&&Wy(K)&&(x=x.responseEnd,g+=G*(x<E?1:(E-j)/(x-j)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function nb(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch(rb)}:n_;function rb(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function s_(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),Pa(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")lo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,lo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&lo(e.ownerDocument.body);r=h}while(r);Pa(n)}function r_(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yd(r),Jr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ab(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function lb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function a_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ob(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function l_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function o_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function u_(e,n,r){switch(n=fc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function lo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var Mn=new Map,c_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=tt.d;tt.d={f:ub,r:cb,D:hb,C:fb,L:db,m:mb,X:gb,S:pb,M:yb};function ub(){var e=Ki.f(),n=sc();return e||n}function cb(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Cg(n):Ki.r(e)}var Ma=typeof document>"u"?null:document;function h_(e,n,r){var l=Ma;if(l&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),c_.has(h)||(c_.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Fe(n,"link",e),Te(n),l.head.appendChild(n)))}}function hb(e){Ki.D(e),h_("dns-prefetch",e,null)}function fb(e,n){Ki.C(e,n),h_("preconnect",e,n)}function db(e,n,r){Ki.L(e,n,r);var l=Ma;if(l&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}Mn.has(f)||(e=R({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Mn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),Fe(n,"link",e),Te(n),l.head.appendChild(n)))}}function mb(e,n){Ki.m(e,n);var r=Ma;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Mn.has(f)&&(e=R({rel:"modulepreload",href:e},n),Mn.set(f,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(uo(f)))return}l=r.createElement("link"),Fe(l,"link",e),Te(l),r.head.appendChild(l)}}}function pb(e,n,r){Ki.S(e,n,r);var l=Ma;if(l&&e){var h=ai(l).hoistableStyles,f=Va(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(oo(f)))E.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Mn.get(f))&&Td(e,r);var x=g=l.createElement("link");Te(x),Fe(x,"link",e),x._p=new Promise(function(j,G){x.onload=j,x.onerror=G}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function gb(e,n){Ki.X(e,n);var r=Ma;if(r&&e){var l=ai(r).hoistableScripts,h=ka(e),f=l.get(h);f||(f=r.querySelector(uo(h)),f||(e=R({src:e,async:!0},n),(n=Mn.get(h))&&bd(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function yb(e,n){Ki.M(e,n);var r=Ma;if(r&&e){var l=ai(r).hoistableScripts,h=ka(e),f=l.get(h);f||(f=r.querySelector(uo(h)),f||(e=R({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&bd(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function f_(e,n,r,l){var h=(h=St.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Va(r.href),r=ai(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Va(r.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(oo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(e,r),f||_b(h,e,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(r),r=ai(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+nn(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function _b(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",r),Te(n),e.head.appendChild(n))}function ka(e){return'[src="'+nn(e)+'"]'}function uo(e){return"script[async]"+e}function m_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(l)return n.instance=l,Te(l),l;var h=R({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Fe(l,"style",h),mc(l,r.precedence,e),n.instance=l;case"stylesheet":h=Va(r.href);var f=e.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;l=d_(r),(h=Mn.get(h))&&Td(l,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Fe(f,"link",l),n.state.loading|=4,mc(f,r.precedence,e),n.instance=f;case"script":return f=ka(r.src),(h=e.querySelector(uo(f)))?(n.instance=h,Te(h),h):(l=r,(h=Mn.get(f))&&(l=R({},r),bd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mc(l,r.precedence,e));return n.instance}function mc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function p_(e,n,r){if(pc===null){var l=new Map,h=pc=new Map;h.set(r,l)}else h=pc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[si]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function g_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function vb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Eb(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Va(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Te(f);return}f=n.ownerDocument||n,l=d_(l),(h=Mn.get(h))&&Td(l,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Fe(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=gc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Ad=0;function Tb(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*eb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(bb,e),yc=null,gc.call(e))}function bb(e,n){if(!(n.state.loading&4)){var r=yc.get(e);if(r)var l=r.get(null);else{r=new Map,yc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var co={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Ab(e,n,r,l,h,f,g,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function __(e,n,r,l,h,f,g,E,x,j,G,K){return e=new Ab(e,n,r,g,x,j,G,K,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},af(f),e}function v_(e){return e?(e=fa,e):fa}function E_(e,n,r,l,h,f){h=v_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ts(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=bs(e,l,n),r!==null&&(un(r,e,n),ql(r,e,n))}function T_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Sd(e,n){T_(e,n),(e=e.alternate)&&T_(e,n)}function b_(e){if(e.tag===13||e.tag===31){var n=Er(e,67108864);n!==null&&un(n,e,67108864),Sd(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=En();n=or(n);var r=Er(e,n);r!==null&&un(r,e,n),Sd(e,n)}}var vc=!0;function Sb(e,n,r,l){var h=F.T;F.T=null;var f=tt.p;try{tt.p=2,wd(e,n,r,l)}finally{tt.p=f,F.T=h}}function wb(e,n,r,l){var h=F.T;F.T=null;var f=tt.p;try{tt.p=8,wd(e,n,r,l)}finally{tt.p=f,F.T=h}}function wd(e,n,r,l){if(vc){var h=Rd(l);if(h===null)hd(e,n,l,Ec,r),w_(e,l);else if(Cb(h,e,n,r,l))l.stopPropagation();else if(w_(e,l),n&4&&-1<Rb.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-de(g);E.entanglements[1]|=x,g&=~x}vi(f),(qt&6)===0&&(nc=We()+500,so(0))}}break;case 31:case 13:E=Er(f,2),E!==null&&un(E,f,2),sc(),Sd(f,2)}if(f=Rd(l),f===null&&hd(e,n,l,Ec,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(e,n,l,null,r)}}function Rd(e){return e=An(e),Cd(e)}var Ec=null;function Cd(e){if(Ec=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case dl:return 2;case ml:return 8;case as:case Oh:return 32;case Jo:return 268435456;default:return 32}default:return 32}}var Id=!1,Ms=null,Vs=null,ks=null,ho=new Map,fo=new Map,Ps=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(e,n,r,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&b_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Cb(e,n,r,l,h){switch(n){case"focusin":return Ms=mo(Ms,e,n,r,l,h),!0;case"dragenter":return Vs=mo(Vs,e,n,r,l,h),!0;case"mouseover":return ks=mo(ks,e,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,e,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,e,n,r,l,h)),!0}return!1}function R_(e){var n=ri(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,jn(e.priority,function(){A_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,jn(e.priority,function(){A_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Rd(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Rl=l,r.target.dispatchEvent(l),Rl=null}else return n=bn(r),n!==null&&b_(n),e.blockedOn=r,!1;n.shift()}return!0}function C_(e,n,r){Tc(e)&&r.delete(n)}function Ib(){Id=!1,Ms!==null&&Tc(Ms)&&(Ms=null),Vs!==null&&Tc(Vs)&&(Vs=null),ks!==null&&Tc(ks)&&(ks=null),ho.forEach(C_),fo.forEach(C_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ib)))}var Ac=null;function I_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Cd(l||r)===null)continue;break}var f=bn(r);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Pa(e){function n(x){return bc(x,e)}Ms!==null&&bc(Ms,e),Vs!==null&&bc(Vs,e),ks!==null&&bc(ks,e),ho.forEach(n),fo.forEach(n);for(var r=0;r<Ps.length;r++){var l=Ps[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ps.length&&(r=Ps[0],r.blockedOn===null);)R_(r),r.blockedOn===null&&Ps.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Ve]||null;if(typeof f=="function")g||I_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Cd(h)!==null)continue}else E=g.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),I_(r)}}}function x_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}Sc.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=En();E_(r,l,e,n,null,null)},Sc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;E_(e.current,2,null,e,null,null),sc(),n[ii]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ps.length&&n!==0&&n<Ps[r].priority;r++);Ps.splice(r,0,e),r===0&&R_(e)}};var N_=t.version;if(N_!=="19.2.0")throw Error(a(527,N_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var xb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Un=wc.inject(xb),je=wc}catch{}}return go.createRoot=function(e,n){if(!o(e))throw Error(a(299));var r=!1,l="",h=Ug,f=Lg,g=jg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=__(e,1,!1,null,null,r,l,null,h,f,g,x_),e[ii]=n.current,cd(e),new xd(n)},go.hydrateRoot=function(e,n,r){if(!o(e))throw Error(a(299));var l=!1,h="",f=Ug,g=Lg,E=jg,x=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),n=__(e,1,!0,n,r??null,l,h,x,f,g,E,x_),n.context=v_(null),r=n.current,l=En(),l=or(l),h=Ts(l),h.callback=null,bs(r,h,l),r=l,n.current.lanes=r,ar(n,r),vi(n),e[ii]=n.current,cd(e),new Sc(n)},go.version="19.2.0",go}var z_;function zb(){if(z_)return Od.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Od.exports=jb(),Od.exports}var Bb=zb();const qb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),B_=s=>{const t=Hb(s);return t.charAt(0).toUpperCase()+t.slice(1)},Sv=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Fb=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Gb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Qb=It.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>It.createElement("svg",{ref:y,...Gb,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:Sv("lucide",o),...!c&&!Fb(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>It.createElement(_,A)),...Array.isArray(c)?c:[c]]));const te=(s,t)=>{const i=It.forwardRef(({className:a,...o},c)=>It.createElement(Qb,{ref:c,iconNode:t,className:Sv(`lucide-${qb(B_(s))}`,`lucide-${s}`,a),...o}));return i.displayName=B_(s),i};const Kb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Yb=te("activity",Kb);const Xb=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],$b=te("app-window",Xb);const Zb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wv=te("circle-check-big",Zb);const Jb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Wb=te("download",Jb);const tA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rv=te("file-text",tA);const eA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Hc=te("globe",eA);const nA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],iA=te("info",nA);const sA=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Cv=te("key",sA);const rA=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Zd=te("layout-grid",rA);const aA=[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],lA=te("link-2-off",aA);const oA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xa=te("loader-circle",oA);const uA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cA=te("lock",uA);const hA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],q_=te("log-out",hA);const fA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],dA=te("mail",fA);const mA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pA=te("menu",mA);const gA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fc=te("plus",gA);const yA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pd=te("search",yA);const _A=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],vA=te("server",_A);const EA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],H_=te("settings",EA);const TA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Iv=te("shield",TA);const bA=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],AA=te("square-check-big",bA);const SA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],wA=te("square",SA);const RA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],F_=te("trash-2",RA);const CA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xv=te("triangle-alert",CA);const IA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Nv=te("user",IA);const xA=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],G_=te("wifi",xA);const NA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DA=te("x",NA),OA=()=>{};var Q_={};const Dv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},MA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,A=c>>2,R=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,H=_&63;y||(H=64,d||(V=64)),a.push(i[A],i[R],i[V],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Dv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):MA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const R=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||R==null)throw new VA;const V=c<<2|p>>4;if(a.push(V),_!==64){const H=p<<4&240|_>>2;if(a.push(H),R!==64){const Z=_<<6&192|R;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kA=function(s){const t=Dv(s);return Ov.encodeByteArray(t,!0)},Gc=function(s){return kA(s).replace(/\./g,"")},Mv=function(s){try{return Ov.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function PA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const UA=()=>PA().__FIREBASE_DEFAULTS__,LA=()=>{if(typeof process>"u"||typeof Q_>"u")return;const s=Q_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Mv(s[1]);return t&&JSON.parse(t)},mh=()=>{try{return OA()||UA()||LA()||jA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Vv=s=>mh()?.emulatorHosts?.[s],zA=s=>{const t=Vv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},kv=()=>mh()?.config,Pv=s=>mh()?.[`_${s}`];class BA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(s){return(await fetch(s,{credentials:"include"})).ok}function qA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Ao={};function HA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ao))Ao[t]?s.emulator.push(t):s.prod.push(t);return s}function FA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let K_=!1;function Lv(s,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Ao[s]===t||Ao[s]||K_)return;Ao[s]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=HA().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{K_=!0,d()},V}function A(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function R(){const V=FA(a),H=i("text"),Z=document.getElementById(H)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),ct=i("preprendIcon"),yt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const dt=V.element;p(dt),A(J,nt);const Lt=_();y(yt,ct),dt.append(yt,Z,J,Lt),document.body.appendChild(dt)}c?(Z.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function QA(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function XA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $A(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ZA(){return!QA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JA(){try{return typeof indexedDB=="object"}catch{return!1}}function WA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const tS="FirebaseError";class ns extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=tS,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?eS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ns(o,p,a)}}function eS(s,t){return s.replace(nS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const nS=/\{\$([^}]+)}/g;function iS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ur(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=t[o];if(Y_(c)&&Y_(d)){if(!Ur(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Y_(s){return s!==null&&typeof s=="object"}function Bo(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function yo(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function _o(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function sS(s,t){const i=new rS(s,t);return i.subscribe.bind(i)}class rS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");aS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ud(){}function hn(s){return s&&s._delegate?s._delegate:s}class Lr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Mr="[DEFAULT]";class lS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new BA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uS(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oS(s){return s===Mr?void 0:s}function uS(s){return s.instantiationMode==="EAGER"}class cS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new lS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const hS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},fS=Dt.INFO,dS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},mS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),o=dS[t];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sm{constructor(t){this.name=t,this._logLevel=fS,this._logHandler=mS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const pS=(s,t)=>t.some(i=>s instanceof i);let X_,$_;function gS(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yS(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jv=new WeakMap,Jd=new WeakMap,zv=new WeakMap,Ld=new WeakMap,wm=new WeakMap;function _S(s){const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Gs(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&jv.set(i,s)}).catch(()=>{}),wm.set(t,s),t}function vS(s){if(Jd.has(s))return;const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Jd.set(s,t)}let Wd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Jd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||zv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function ES(s){Wd=s(Wd)}function TS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(jd(this),t,...i);return zv.set(a,t.sort?t.sort():[t]),Gs(a)}:yS().includes(s)?function(...t){return s.apply(jd(this),t),Gs(jv.get(this))}:function(...t){return Gs(s.apply(jd(this),t))}}function bS(s){return typeof s=="function"?TS(s):(s instanceof IDBTransaction&&vS(s),pS(s,gS())?new Proxy(s,Wd):s)}function Gs(s){if(s instanceof IDBRequest)return _S(s);if(Ld.has(s))return Ld.get(s);const t=bS(s);return t!==s&&(Ld.set(s,t),wm.set(t,s)),t}const jd=s=>wm.get(s);function AS(s,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,t),p=Gs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Gs(d.result),y.oldVersion,y.newVersion,Gs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const SS=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],zd=new Map;function Z_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=wS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||SS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return zd.set(t,c),c}ES(s=>({...s,get:(t,i,a)=>Z_(t,i)||s.get(t,i,a),has:(t,i)=>!!Z_(t,i)||s.has(t,i)}));class RS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CS(s){return s.getComponent()?.type==="VERSION"}const tm="@firebase/app",J_="0.14.6";const Ji=new Sm("@firebase/app"),IS="@firebase/app-compat",xS="@firebase/analytics-compat",NS="@firebase/analytics",DS="@firebase/app-check-compat",OS="@firebase/app-check",MS="@firebase/auth",VS="@firebase/auth-compat",kS="@firebase/database",PS="@firebase/data-connect",US="@firebase/database-compat",LS="@firebase/functions",jS="@firebase/functions-compat",zS="@firebase/installations",BS="@firebase/installations-compat",qS="@firebase/messaging",HS="@firebase/messaging-compat",FS="@firebase/performance",GS="@firebase/performance-compat",QS="@firebase/remote-config",KS="@firebase/remote-config-compat",YS="@firebase/storage",XS="@firebase/storage-compat",$S="@firebase/firestore",ZS="@firebase/ai",JS="@firebase/firestore-compat",WS="firebase",tw="12.6.0";const em="[DEFAULT]",ew={[tm]:"fire-core",[IS]:"fire-core-compat",[NS]:"fire-analytics",[xS]:"fire-analytics-compat",[OS]:"fire-app-check",[DS]:"fire-app-check-compat",[MS]:"fire-auth",[VS]:"fire-auth-compat",[kS]:"fire-rtdb",[PS]:"fire-data-connect",[US]:"fire-rtdb-compat",[LS]:"fire-fn",[jS]:"fire-fn-compat",[zS]:"fire-iid",[BS]:"fire-iid-compat",[qS]:"fire-fcm",[HS]:"fire-fcm-compat",[FS]:"fire-perf",[GS]:"fire-perf-compat",[QS]:"fire-rc",[KS]:"fire-rc-compat",[YS]:"fire-gcs",[XS]:"fire-gcs-compat",[$S]:"fire-fst",[JS]:"fire-fst-compat",[ZS]:"fire-vertex","fire-js":"fire-js",[WS]:"fire-js-all"};const Qc=new Map,nw=new Map,nm=new Map;function W_(s,t){try{s.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function $a(s){const t=s.name;if(nm.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,s);for(const i of Qc.values())W_(i,s);for(const i of nw.values())W_(i,s);return!0}function Rm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Vn(s){return s==null?!1:s.settings!==void 0}const iw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new zo("app","Firebase",iw);class sw{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const sl=tw;function Bv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:em,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(i||(i=kv()),!i)throw Qs.create("no-options");const c=Qc.get(o);if(c){if(Ur(i,c.options)&&Ur(a,c.config))return c;throw Qs.create("duplicate-app",{appName:o})}const d=new cS(o);for(const y of nm.values())d.addComponent(y);const p=new sw(i,a,d);return Qc.set(o,p),p}function qv(s=em){const t=Qc.get(s);if(!t&&s===em&&kv())return Bv();if(!t)throw Qs.create("no-app",{appName:s});return t}function Ks(s,t,i){let a=ew[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}$a(new Lr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rw="firebase-heartbeat-database",aw=1,xo="firebase-heartbeat-store";let Bd=null;function Hv(){return Bd||(Bd=AS(rw,aw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(xo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Qs.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function lw(s){try{const i=(await Hv()).transaction(xo),a=await i.objectStore(xo).get(Fv(s));return await i.done,a}catch(t){if(t instanceof ns)Ji.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function t0(s,t){try{const a=(await Hv()).transaction(xo,"readwrite");await a.objectStore(xo).put(t,Fv(s)),await a.done}catch(i){if(i instanceof ns)Ji.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function Fv(s){return`${s.name}!${s.options.appId}`}const ow=1024,uw=30;class cw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=e0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uw){const o=dw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=e0(),{heartbeatsToSend:i,unsentEntries:a}=hw(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ji.warn(t),""}}}function e0(){return new Date().toISOString().substring(0,10)}function hw(s,t=ow){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),n0(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),n0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JA()?WA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function n0(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function dw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function mw(s){$a(new Lr("platform-logger",t=>new RS(t),"PRIVATE")),$a(new Lr("heartbeat",t=>new cw(t),"PRIVATE")),Ks(tm,J_,s),Ks(tm,J_,"esm2020"),Ks("fire-js","")}mw("");var pw="firebase",gw="12.6.0";Ks(pw,gw,"app");function Gv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yw=Gv,Qv=new zo("auth","Firebase",Gv());const Kc=new Sm("@firebase/auth");function _w(s,...t){Kc.logLevel<=Dt.WARN&&Kc.warn(`Auth (${sl}): ${s}`,...t)}function Oc(s,...t){Kc.logLevel<=Dt.ERROR&&Kc.error(`Auth (${sl}): ${s}`,...t)}function Zn(s,...t){throw Cm(s,...t)}function Ti(s,...t){return Cm(s,...t)}function Kv(s,t,i){const a={...yw(),[t]:i};return new zo("auth","Firebase",a).create(t,{appName:s.name})}function $i(s){return Kv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Qv.create(s,...t)}function pt(s,t,...i){if(!s)throw Cm(t,...i)}function Yi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Oc(t),new Error(t)}function Wi(s,t){s||Yi(t)}function im(){return typeof self<"u"&&self.location?.href||""}function vw(){return i0()==="http:"||i0()==="https:"}function i0(){return typeof self<"u"&&self.location?.protocol||null}function Ew(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vw()||YA()||"connection"in navigator)?navigator.onLine:!0}function Tw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class qo{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=GA()||XA()}get(){return Ew()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Im(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Yv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Aw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sw=new qo(3e4,6e4);function is(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ss(s,t,i,a,o={}){return Xv(s,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Bo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return KA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&il(s.emulatorConfig.host)&&(_.credentials="include"),Yv.fetch()(await $v(s,s.config.apiHost,i,p),_)})}async function Xv(s,t,i){s._canInitEmulator=!1;const a={...bw,...t};try{const o=new Rw(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Rc(s,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Kv(s,A,_);Zn(s,A)}}catch(o){if(o instanceof ns)throw o;Zn(s,"network-request-failed",{message:String(o)})}}async function Ho(s,t,i,a,o={}){const c=await ss(s,t,i,a,o);return"mfaPendingCredential"in c&&Zn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function $v(s,t,i,a){const o=`${t}${i}?${a}`,c=s,d=c.config.emulator?Im(s.config,o):`${s.config.apiScheme}://${o}`;return Aw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function ww(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),Sw.get())})}}function Rc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ti(s,t,a);return o.customData._tokenResponse=i,o}function s0(s){return s!==void 0&&s.enterprise!==void 0}class Cw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return ww(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Iw(s,t){return ss(s,"GET","/v2/recaptchaConfig",is(s,t))}async function xw(s,t){return ss(s,"POST","/v1/accounts:delete",t)}async function Yc(s,t){return ss(s,"POST","/v1/accounts:lookup",t)}function So(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Nw(s,t=!1){const i=hn(s),a=await i.getIdToken(t),o=xm(a);pt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:So(qd(o.auth_time)),issuedAtTime:So(qd(o.iat)),expirationTime:So(qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(s){return Number(s)*1e3}function xm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Mv(i);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function r0(s){const t=xm(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function No(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ns&&Dw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Dw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Ow{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const t=s.auth,i=await s.getIdToken(),a=await No(s,Yc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Zv(o.providerUserInfo):[],d=Vw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=p?y:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function Mw(s){const t=hn(s);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Vw(s,t){return[...s.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Zv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kw(s,t){const i=await Xv(s,{},async()=>{const a=Bo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await $v(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&il(s.emulatorConfig.host)&&(y.credentials="include"),Yv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Pw(s,t){return ss(s,"POST","/v2/accounts:revokeToken",is(s,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):r0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=r0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await kw(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ha;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(pt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Ls(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Ow(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await No(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Nw(this,t)}reload(){return Mw(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject($i(this.auth));const t=await this.getIdToken();return await No(this,xw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:R,emailVerified:V,isAnonymous:H,providerData:Z,stsTokenManager:nt}=i;pt(R&&nt,t,"internal-error");const J=Ha.fromJSON(this.name,nt);pt(typeof R=="string",t,"internal-error"),Ls(a,t.name),Ls(o,t.name),pt(typeof V=="boolean",t,"internal-error"),pt(typeof H=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(p,t.name),Ls(y,t.name),Ls(_,t.name),Ls(A,t.name);const ct=new Xn({uid:R,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ct.providerData=Z.map(yt=>({...yt}))),y&&(ct._redirectEventId=y),ct}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ha;o.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];pt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Zv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Ha;p.updateFromIdToken(a);const y=new Xn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const a0=new Map;function Xi(s){Wi(s instanceof Function,"Expected a class definition");let t=a0.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,a0.set(s,t),t)}class Jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Jv.type="NONE";const l0=Jv;function Mc(s,t,i){return`firebase:${s}:${t}:${i}`}class Fa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Mc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Fa(Xi(l0),t,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Xi(l0);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let R;if(typeof A=="string"){const V=await Yc(t,{idToken:A}).catch(()=>{});if(!V)break;R=await Xn._fromGetAccountInfoResponse(t,V,A)}else R=Xn._fromJSON(t,A);_!==c&&(p=R),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Fa(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Fa(c,t,a))}}function o0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sE(t))return"Blackberry";if(rE(t))return"Webos";if(tE(t))return"Safari";if((t.includes("chrome/")||eE(t))&&!t.includes("edge/"))return"Chrome";if(iE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Wv(s=Je()){return/firefox\//i.test(s)}function tE(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eE(s=Je()){return/crios\//i.test(s)}function nE(s=Je()){return/iemobile/i.test(s)}function iE(s=Je()){return/android/i.test(s)}function sE(s=Je()){return/blackberry/i.test(s)}function rE(s=Je()){return/webos/i.test(s)}function Nm(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Uw(s=Je()){return Nm(s)&&!!window.navigator?.standalone}function Lw(){return $A()&&document.documentMode===10}function aE(s=Je()){return Nm(s)||iE(s)||rE(s)||sE(s)||/windows phone/i.test(s)||nE(s)}function lE(s,t=[]){let i;switch(s){case"Browser":i=o0(Je());break;case"Worker":i=`${o0(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class jw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function zw(s,t={}){return ss(s,"GET","/v2/passwordPolicy",is(s,t))}const Bw=6;class qw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Bw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Hw{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Tw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject($i(this));const i=t?hn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zw(this),i=new qw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Pw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=lE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_w(`Error while retrieving App Check token: ${t.error}`),t?.token}}function er(s){return hn(s)}class u0{constructor(t){this.auth=t,this.observer=null,this.addObserver=sS(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fw(s){ph=s}function oE(s){return ph.loadJS(s)}function Gw(){return ph.recaptchaEnterpriseScript}function Qw(){return ph.gapiScript}function Kw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Yw{constructor(){this.enterprise=new Xw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Xw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const $w="recaptcha-enterprise",uE="NO_RECAPTCHA";class Zw{constructor(t){this.type=$w,this.auth=er(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Iw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Cw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function o(c,d,p){const y=window.grecaptcha;s0(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(uE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&s0(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Gw();y.length!==0&&(y+=p),oE(y).then(()=>{o(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function c0(s,t,i,a=!1,o=!1){const c=new Zw(s);let d;if(o)d=uE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function $c(s,t,i,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await c0(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await c0(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Jw(s,t){const i=Rm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Ur(c,t??{}))return o;Zn(o,"already-initialized")}return i.initialize({options:t})}function Ww(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function t2(s,t,i){const a=er(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=cE(t),{host:d,port:p}=e2(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Ur(_,a.config.emulator)&&Ur(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,il(d)?(Uv(`${c}//${d}${y}`),Lv("Auth",!0)):n2()}function cE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function e2(s){const t=cE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:h0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:h0(d)}}}function h0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function n2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Dm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function i2(s,t){return ss(s,"POST","/v1/accounts:signUp",t)}async function s2(s,t){return Ho(s,"POST","/v1/accounts:signInWithPassword",is(s,t))}async function r2(s,t){return ss(s,"POST","/v1/accounts:sendOobCode",is(s,t))}async function a2(s,t){return r2(s,t)}async function l2(s,t){return Ho(s,"POST","/v1/accounts:signInWithEmailLink",is(s,t))}async function o2(s,t){return Ho(s,"POST","/v1/accounts:signInWithEmailLink",is(s,t))}class Do extends Dm{constructor(t,i,a,o=null){super("password",a),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new Do(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Do(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $c(t,i,"signInWithPassword",s2);case"emailLink":return l2(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $c(t,a,"signUpPassword",i2);case"emailLink":return o2(t,{idToken:i,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ga(s,t){return Ho(s,"POST","/v1/accounts:signInWithIdp",is(s,t))}const u2="http://localhost";class jr extends Dm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new jr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:u2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bo(i)}return t}}function c2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h2(s){const t=yo(_o(s)).link,i=t?yo(_o(t)).deep_link_id:null,a=yo(_o(s)).deep_link_id;return(a?yo(_o(a)).link:null)||a||i||t||s}class Om{constructor(t){const i=yo(_o(t)),a=i.apiKey??null,o=i.oobCode??null,c=c2(i.mode??null);pt(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=h2(t);try{return new Om(i)}catch{return null}}}class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(t,i){return Do._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Om.parseLink(i);return pt(a,"argument-error"),Do._fromEmailAndCode(t,a.code,a.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class hE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fo extends hE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class zs extends Fo{constructor(){super("facebook.com")}static credential(t){return jr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class Bs extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return jr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Fo{constructor(){super("github.com")}static credential(t){return jr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Fo{constructor(){super("twitter.com")}static credential(t,i){return jr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";async function f2(s,t){return Ho(s,"POST","/v1/accounts:signUp",is(s,t))}class zr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await Xn._fromIdTokenResponse(t,a,o),d=f0(a);return new zr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=f0(a);return new zr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function f0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Zc extends ns{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Zc(t,i,a,o)}}function fE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(s,c,t,a):c})}async function d2(s,t,i=!1){const a=await No(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return zr._forOperation(s,"link",a)}async function m2(s,t,i=!1){const{auth:a}=s;if(Vn(a.app))return Promise.reject($i(a));const o="reauthenticate";try{const c=await No(s,fE(a,o,t,s),i);pt(c.idToken,a,"internal-error");const d=xm(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(s.uid===p,a,"user-mismatch"),zr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zn(a,"user-mismatch"),c}}async function dE(s,t,i=!1){if(Vn(s.app))return Promise.reject($i(s));const a="signIn",o=await fE(s,a,t),c=await zr._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function p2(s,t){return dE(er(s),t)}async function mE(s){const t=er(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function g2(s,t,i){const a=er(s);await $c(a,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",a2)}async function y2(s,t,i){if(Vn(s.app))return Promise.reject($i(s));const a=er(s),d=await $c(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f2).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&mE(s),y}),p=await zr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function _2(s,t,i){return Vn(s.app)?Promise.reject($i(s)):p2(hn(s),rl.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&mE(s),a})}function v2(s,t,i,a){return hn(s).onIdTokenChanged(t,i,a)}function E2(s,t,i){return hn(s).beforeAuthStateChanged(t,i)}function T2(s,t,i,a){return hn(s).onAuthStateChanged(t,i,a)}function b2(s){return hn(s).signOut()}const Jc="__sak";class pE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const A2=1e3,S2=10;class gE extends pE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Lw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,S2):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}gE.type="LOCAL";const w2=gE;class yE extends pE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}yE.type="SESSION";const _E=yE;function R2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new gh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await R2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Mm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class C2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Mm("",20);o.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(R){const V=R;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bi(){return window}function I2(s){bi().location.href=s}function vE(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function x2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N2(){return navigator?.serviceWorker?.controller||null}function D2(){return vE()?self:null}const EE="firebaseLocalStorageDb",O2=1,Wc="firebaseLocalStorage",TE="fbase_key";class Go{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function yh(s,t){return s.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function M2(){const s=indexedDB.deleteDatabase(EE);return new Go(s).toPromise()}function rm(){const s=indexedDB.open(EE,O2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Wc,{keyPath:TE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Wc)?t(a):(a.close(),await M2(),t(await rm()))})})}async function d0(s,t,i){const a=yh(s,!0).put({[TE]:t,value:i});return new Go(a).toPromise()}async function V2(s,t){const i=yh(s,!1).get(t),a=await new Go(i).toPromise();return a===void 0?null:a.value}function m0(s,t){const i=yh(s,!0).delete(t);return new Go(i).toPromise()}const k2=800,P2=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>P2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(D2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await x2(),!this.activeServiceWorker)return;this.sender=new C2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||N2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await d0(t,Jc,"1"),await m0(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>d0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>V2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>m0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=yh(o,!1).getAll();return new Go(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const U2=bE;new qo(3e4,6e4);function L2(s,t){return t?Xi(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Vm extends Dm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function j2(s){return dE(s.auth,new Vm(s),s.bypassAuthState)}function z2(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),m2(i,new Vm(s),s.bypassAuthState)}async function B2(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),d2(i,new Vm(s),s.bypassAuthState)}class AE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return j2;case"linkViaPopup":case"linkViaRedirect":return B2;case"reauthViaPopup":case"reauthViaRedirect":return z2;default:Zn(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const q2=new qo(2e3,1e4);class Ba extends AE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,q2.get())};t()}}Ba.currentPopupAction=null;const H2="pendingRedirect",Vc=new Map;class F2 extends AE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await G2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G2(s,t){const i=Y2(t),a=K2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Q2(s,t){Vc.set(s._key(),t)}function K2(s){return Xi(s._redirectPersistence)}function Y2(s){return Mc(H2,s.config.apiKey,s.name)}async function X2(s,t,i=!1){if(Vn(s.app))return Promise.reject($i(s));const a=er(s),o=L2(a,t),d=await new F2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const $2=600*1e3;class Z2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!J2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!SE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$2&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(t))}saveEventToCache(t){this.cachedEventUids.add(p0(t)),this.lastProcessedEventTime=Date.now()}}function p0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function SE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function J2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SE(s);default:return!1}}async function W2(s,t={}){return ss(s,"GET","/v1/projects",t)}const tR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eR=/^https?/;async function nR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await W2(s);for(const i of t)try{if(iR(i))return}catch{}Zn(s,"unauthorized-domain")}function iR(s){const t=im(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!eR.test(i))return!1;if(tR.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const sR=new qo(3e4,6e4);function g0(){const s=bi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function rR(s){return new Promise((t,i)=>{function a(){g0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{g0(),i(Ti(s,"network-request-failed"))},timeout:sR.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)a();else{const o=Kw("iframefcb");return bi()[o]=()=>{gapi.load?a():i(Ti(s,"network-request-failed"))},oE(`${Qw()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function aR(s){return kc=kc||rR(s),kc}const lR=new qo(5e3,15e3),oR="__/auth/iframe",uR="emulator/auth/iframe",cR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fR(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Im(t,uR):`https://${s.config.authDomain}/${oR}`,a={apiKey:t.apiKey,appName:s.name,v:sl},o=hR.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bo(a).slice(1)}`}async function dR(s){const t=await aR(s),i=bi().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:fR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cR,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(s,"network-request-failed"),p=bi().setTimeout(()=>{c(d)},lR.get());function y(){bi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const mR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pR=500,gR=600,yR="_blank",_R="http://localhost";class y0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vR(s,t,i,a=pR,o=gR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...mR,width:a.toString(),height:o.toString(),top:c,left:d},_=Je().toLowerCase();i&&(p=eE(_)?yR:i),Wv(_)&&(t=t||_R,y.scrollbars="yes");const A=Object.entries(y).reduce((V,[H,Z])=>`${V}${H}=${Z},`,"");if(Uw(_)&&p!=="_self")return ER(t||"",p),new y0(null);const R=window.open(t||"",p,A);pt(R,s,"popup-blocked");try{R.focus()}catch{}return new y0(R)}function ER(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const TR="__/auth/handler",bR="emulator/auth/handler",AR=encodeURIComponent("fac");async function _0(s,t,i,a,o,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof hE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",iS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,R]of Object.entries({}))d[A]=R}if(t instanceof Fo){const A=t.getScopes().filter(R=>R!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await s._getAppCheckToken(),_=y?`#${AR}=${encodeURIComponent(y)}`:"";return`${SR(s)}?${Bo(p).slice(1)}${_}`}function SR({config:s}){return s.emulator?Im(s,bR):`https://${s.authDomain}/${TR}`}const Hd="webStorageSupport";class wR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_E,this._completeRedirectFn=X2,this._overrideRedirectResult=Q2}async _openPopup(t,i,a,o){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _0(t,i,a,im(),o);return vR(t,c,Mm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await _0(t,i,a,im(),o);return I2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await dR(t),a=new Z2(t);return i.register("authEvent",o=>(pt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=nR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return aE()||tE()||Nm()}}const RR=wR;var v0="@firebase/auth",E0="1.11.1";class CR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xR(s){$a(new Lr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lE(s)},_=new Hw(a,o,c,y);return Ww(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),$a(new Lr("auth-internal",t=>{const i=er(t.getProvider("auth").getImmediate());return(a=>new CR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(v0,E0,IR(s)),Ks(v0,E0,"esm2020")}const NR=300,DR=Pv("authIdTokenMaxAge")||NR;let T0=null;const OR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>DR)return;const o=i?.token;T0!==o&&(T0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MR(s=qv()){const t=Rm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Jw(s,{popupRedirectResolver:RR,persistence:[U2,w2,_E]}),a=Pv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=OR(c.toString());E2(i,d,()=>d(i.currentUser)),v2(i,p=>d(p))}}const o=Vv("auth");return o&&t2(i,`http://${o}`),i}function VR(){return document.getElementsByTagName("head")?.[0]??document}Fw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=o=>{const c=Ti("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",VR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xR("Browser");var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ys,wE;(function(){var s;function t(C,b){function w(){}w.prototype=b.prototype,C.F=b.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(O,N,P){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return b.prototype[N].apply(O,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,w){w||(w=0);const O=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)O[N]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(N=0;N<16;++N)O[N]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=C.g[0],w=C.g[1],N=C.g[2];let P=C.g[3],I;I=b+(P^w&(N^P))+O[0]+3614090360&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(N^b&(w^N))+O[1]+3905402710&4294967295,P=b+(I<<12&4294967295|I>>>20),I=N+(w^P&(b^w))+O[2]+606105819&4294967295,N=P+(I<<17&4294967295|I>>>15),I=w+(b^N&(P^b))+O[3]+3250441966&4294967295,w=N+(I<<22&4294967295|I>>>10),I=b+(P^w&(N^P))+O[4]+4118548399&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(N^b&(w^N))+O[5]+1200080426&4294967295,P=b+(I<<12&4294967295|I>>>20),I=N+(w^P&(b^w))+O[6]+2821735955&4294967295,N=P+(I<<17&4294967295|I>>>15),I=w+(b^N&(P^b))+O[7]+4249261313&4294967295,w=N+(I<<22&4294967295|I>>>10),I=b+(P^w&(N^P))+O[8]+1770035416&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(N^b&(w^N))+O[9]+2336552879&4294967295,P=b+(I<<12&4294967295|I>>>20),I=N+(w^P&(b^w))+O[10]+4294925233&4294967295,N=P+(I<<17&4294967295|I>>>15),I=w+(b^N&(P^b))+O[11]+2304563134&4294967295,w=N+(I<<22&4294967295|I>>>10),I=b+(P^w&(N^P))+O[12]+1804603682&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(N^b&(w^N))+O[13]+4254626195&4294967295,P=b+(I<<12&4294967295|I>>>20),I=N+(w^P&(b^w))+O[14]+2792965006&4294967295,N=P+(I<<17&4294967295|I>>>15),I=w+(b^N&(P^b))+O[15]+1236535329&4294967295,w=N+(I<<22&4294967295|I>>>10),I=b+(N^P&(w^N))+O[1]+4129170786&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^N&(b^w))+O[6]+3225465664&4294967295,P=b+(I<<9&4294967295|I>>>23),I=N+(b^w&(P^b))+O[11]+643717713&4294967295,N=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(N^P))+O[0]+3921069994&4294967295,w=N+(I<<20&4294967295|I>>>12),I=b+(N^P&(w^N))+O[5]+3593408605&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^N&(b^w))+O[10]+38016083&4294967295,P=b+(I<<9&4294967295|I>>>23),I=N+(b^w&(P^b))+O[15]+3634488961&4294967295,N=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(N^P))+O[4]+3889429448&4294967295,w=N+(I<<20&4294967295|I>>>12),I=b+(N^P&(w^N))+O[9]+568446438&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^N&(b^w))+O[14]+3275163606&4294967295,P=b+(I<<9&4294967295|I>>>23),I=N+(b^w&(P^b))+O[3]+4107603335&4294967295,N=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(N^P))+O[8]+1163531501&4294967295,w=N+(I<<20&4294967295|I>>>12),I=b+(N^P&(w^N))+O[13]+2850285829&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^N&(b^w))+O[2]+4243563512&4294967295,P=b+(I<<9&4294967295|I>>>23),I=N+(b^w&(P^b))+O[7]+1735328473&4294967295,N=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(N^P))+O[12]+2368359562&4294967295,w=N+(I<<20&4294967295|I>>>12),I=b+(w^N^P)+O[5]+4294588738&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^N)+O[8]+2272392833&4294967295,P=b+(I<<11&4294967295|I>>>21),I=N+(P^b^w)+O[11]+1839030562&4294967295,N=P+(I<<16&4294967295|I>>>16),I=w+(N^P^b)+O[14]+4259657740&4294967295,w=N+(I<<23&4294967295|I>>>9),I=b+(w^N^P)+O[1]+2763975236&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^N)+O[4]+1272893353&4294967295,P=b+(I<<11&4294967295|I>>>21),I=N+(P^b^w)+O[7]+4139469664&4294967295,N=P+(I<<16&4294967295|I>>>16),I=w+(N^P^b)+O[10]+3200236656&4294967295,w=N+(I<<23&4294967295|I>>>9),I=b+(w^N^P)+O[13]+681279174&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^N)+O[0]+3936430074&4294967295,P=b+(I<<11&4294967295|I>>>21),I=N+(P^b^w)+O[3]+3572445317&4294967295,N=P+(I<<16&4294967295|I>>>16),I=w+(N^P^b)+O[6]+76029189&4294967295,w=N+(I<<23&4294967295|I>>>9),I=b+(w^N^P)+O[9]+3654602809&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^N)+O[12]+3873151461&4294967295,P=b+(I<<11&4294967295|I>>>21),I=N+(P^b^w)+O[15]+530742520&4294967295,N=P+(I<<16&4294967295|I>>>16),I=w+(N^P^b)+O[2]+3299628645&4294967295,w=N+(I<<23&4294967295|I>>>9),I=b+(N^(w|~P))+O[0]+4096336452&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~N))+O[7]+1126891415&4294967295,P=b+(I<<10&4294967295|I>>>22),I=N+(b^(P|~w))+O[14]+2878612391&4294967295,N=P+(I<<15&4294967295|I>>>17),I=w+(P^(N|~b))+O[5]+4237533241&4294967295,w=N+(I<<21&4294967295|I>>>11),I=b+(N^(w|~P))+O[12]+1700485571&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~N))+O[3]+2399980690&4294967295,P=b+(I<<10&4294967295|I>>>22),I=N+(b^(P|~w))+O[10]+4293915773&4294967295,N=P+(I<<15&4294967295|I>>>17),I=w+(P^(N|~b))+O[1]+2240044497&4294967295,w=N+(I<<21&4294967295|I>>>11),I=b+(N^(w|~P))+O[8]+1873313359&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~N))+O[15]+4264355552&4294967295,P=b+(I<<10&4294967295|I>>>22),I=N+(b^(P|~w))+O[6]+2734768916&4294967295,N=P+(I<<15&4294967295|I>>>17),I=w+(P^(N|~b))+O[13]+1309151649&4294967295,w=N+(I<<21&4294967295|I>>>11),I=b+(N^(w|~P))+O[4]+4149444226&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~N))+O[11]+3174756917&4294967295,P=b+(I<<10&4294967295|I>>>22),I=N+(b^(P|~w))+O[2]+718787259&4294967295,N=P+(I<<15&4294967295|I>>>17),I=w+(P^(N|~b))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+P&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const w=b-this.blockSize,O=this.C;let N=this.h,P=0;for(;P<b;){if(N==0)for(;P<=w;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<b;)if(O[N++]=C.charCodeAt(P++),N==this.blockSize){o(this,O),N=0;break}}else for(;P<b;)if(O[N++]=C[P++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)C[b++]=this.g[w]>>>O&255;return C};function c(C,b){var w=p;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=b(C)}function d(C,b){this.h=b;const w=[];let O=!0;for(let N=C.length-1;N>=0;N--){const P=C[N]|0;O&&P==b||(w[N]=P,O=!1)}this.g=w}var p={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return R;if(C<0)return J(_(-C));const b=[];let w=1;for(let O=0;C>=w;O++)b[O]=C/w|0,w*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return J(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(b,8));let O=R;for(let P=0;P<C.length;P+=8){var N=Math.min(8,C.length-P);const I=parseInt(C.substring(P,P+N),b);N<8?(N=_(Math.pow(b,N)),O=O.j(N).add(_(I))):(O=O.j(w),O=O.add(_(I)))}return O}var R=y(0),V=y(1),H=y(16777216);s=d.prototype,s.m=function(){if(nt(this))return-J(this).m();let C=0,b=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);C+=(O>=0?O:4294967296+O)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(nt(this))return"-"+J(this).toString(C);const b=_(Math.pow(C,6));var w=this;let O="";for(;;){const N=Lt(w,b).g;w=ct(w,N.j(b));let P=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=N,Z(w))return P+O;for(;P.length<6;)P="0"+P;O=P+O}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function nt(C){return C.h==-1}s.l=function(C){return C=ct(this,C),nt(C)?-1:Z(C)?0:1};function J(C){const b=C.g.length,w=[];for(let O=0;O<b;O++)w[O]=~C.g[O];return new d(w,~C.h).add(V)}s.abs=function(){return nt(this)?J(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),w=[];let O=0;for(let N=0;N<=b;N++){let P=O+(this.i(N)&65535)+(C.i(N)&65535),I=(P>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);O=I>>>16,P&=65535,I&=65535,w[N]=I<<16|P}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ct(C,b){return C.add(J(b))}s.j=function(C){if(Z(this)||Z(C))return R;if(nt(this))return nt(C)?J(this).j(J(C)):J(J(this).j(C));if(nt(C))return J(this.j(J(C)));if(this.l(H)<0&&C.l(H)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,w=[];for(var O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<C.g.length;N++){const P=this.i(O)>>>16,I=this.i(O)&65535,ee=C.i(N)>>>16,ne=C.i(N)&65535;w[2*O+2*N]+=I*ne,yt(w,2*O+2*N),w[2*O+2*N+1]+=P*ne,yt(w,2*O+2*N+1),w[2*O+2*N+1]+=I*ee,yt(w,2*O+2*N+1),w[2*O+2*N+2]+=P*ee,yt(w,2*O+2*N+2)}for(C=0;C<b;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=b;C<2*b;C++)w[C]=0;return new d(w,0)};function yt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function dt(C,b){this.g=C,this.h=b}function Lt(C,b){if(Z(b))throw Error("division by zero");if(Z(C))return new dt(R,R);if(nt(C))return b=Lt(J(C),b),new dt(J(b.g),J(b.h));if(nt(b))return b=Lt(C,J(b)),new dt(J(b.g),b.h);if(C.g.length>30){if(nt(C)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var w=V,O=b;O.l(C)<=0;)w=Ft(w),O=Ft(O);var N=rt(w,1),P=rt(O,1);for(O=rt(O,2),w=rt(w,2);!Z(O);){var I=P.add(O);I.l(C)<=0&&(N=N.add(w),P=I),O=rt(O,1),w=rt(w,1)}return b=ct(C,N.j(b)),new dt(N,b)}for(N=R;C.l(b)>=0;){for(w=Math.max(1,Math.floor(C.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),P=_(w),I=P.j(b);nt(I)||I.l(C)>0;)w-=O,P=_(w),I=P.j(b);Z(P)&&(P=V),N=N.add(P),C=ct(C,I)}return new dt(N,C)}s.B=function(C){return Lt(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)&C.i(O);return new d(w,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)|C.i(O);return new d(w,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)^C.i(O);return new d(w,this.h^C.h)};function Ft(C){const b=C.g.length+1,w=[];for(let O=0;O<b;O++)w[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(w,C.h)}function rt(C,b){const w=b>>5;b%=32;const O=C.g.length-w,N=[];for(let P=0;P<O;P++)N[P]=b>0?C.i(P+w)>>>b|C.i(P+w+1)<<32-b:C.i(P+w);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,wE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ys=d}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RE,vo,CE,Pc,am,IE,xE,NE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var W=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)W[bt-2]=arguments[bt];return m.prototype[U].apply(T,W)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=U[W]}else u.push(U)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new nt(()=>new Lt,u=>u.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,rt=!1,C=new yt,b=()=>{const u=Promise.resolve(void 0);Ft=()=>{u.then(w)}};function w(){for(var u;u=ct();){try{u.h.call(u.g)}catch(v){J(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}rt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(ee,N),ee.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=St(u,m,T,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),xe={};function ae(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,T,U);return null}return v=fl(v),u&&u[ne]?u.J(m,v,p(T)?!!T.capture:!1,U):nr(u,m,v,!1,T,U)}function nr(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let bt=ir(u);if(bt||(u[kt]=bt=new st(u)),v=bt.add(m,v,T,W,B),v.proxy)return v;if(T=Kr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)P||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kr(){function u(v){return m.call(u.src,u.listener,v)}const m=cl;return u}function Yr(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Yr(u,m[B],v,T,U);else T=p(T)?!!T.capture:!!T,v=fl(v),u&&u[ne]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,U),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ir(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,U)),(v=u>-1?m[u]:null)&&Xr(v))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ne])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ir(m))?(_t(v,u),v.h==0&&(v.src=null,m[kt]=null)):ht(u)}}}function Jn(u){return u in xe?xe[u]:xe[u]="on"+u}function cl(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Xr(u),u=v.call(T,m)}return u}function ir(u){return u=u[kt],u instanceof st?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(m){return u.handleEvent(m)}),u[hl])}function _e(){O.call(this),this.i=new st(this),this.M=this,this.G=null}R(_e,O),_e.prototype[ne]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Yr(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),et(m,U)}U=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],U=rs(B,T,!0,m)&&U;if(B=m.g=u,U=rs(B,T,!0,m)&&U,U=rs(B,T,!1,m)&&U,v)for(W=0;W<v.length;W++)B=m.g=v[W],U=rs(B,T,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function rs(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const bt=W.listener,me=W.ha||W.src;W.fa&&_t(u.i,W),U=bt.call(me,T)!==!1&&U}}return U&&!T.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zo(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,Zo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(u){O.call(this),this.h=u,this.g={}}R(sr,O);var dl=[];function ml(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xr(m)},u),u.g={}}sr.prototype.N=function(){sr.Z.N.call(this),ml(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,Oh=d.JSON.parse,Jo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wo(){}function tu(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){N.call(this,"d")}R(je,N);function Tn(){N.call(this,"c")}R(Tn,N);var de={},eu=null;function $r(){return eu=eu||new _e}de.Ia="serverreachability";function nu(u){N.call(this,de.Ia,u)}R(nu,N);function Wn(u){const m=$r();Ne(m,new nu(m))}de.STAT_EVENT="statevent";function rr(u,m){N.call(this,de.STAT_EVENT,u),this.stat=m}R(rr,N);function ve(u){const m=$r();Ne(m,new rr(m,u))}de.Ja="timingevent";function ti(u,m){N.call(this,de.Ja,u),this.size=m}R(ti,N);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Mh(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var W="",bt=B.split("&");for(let Bt=0;Bt<bt.length;Bt++){var me=bt[Bt].split("=");if(me.length>1){const le=me[0];me=me[1];const wn=le.split("_");W=wn.length>=2&&wn[1]=="type"?W+(le+"="+me+"&"):W+(le+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function iu(u,m,v,T,U,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+W})}function ni(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(T?" "+T:"")})}function ar(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return as(B)}catch{return m}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function or(){}R(or,Wo),or.prototype.g=function(){return new XMLHttpRequest},gl=new or;function xi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function ii(u,m,v){u.M=1,u.A=ur(be(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),si(u),u.B=be(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(v.i,"t",T),u.C=0,v=u.j.L,u.h=new zn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(dl[0]=U.toString()),U=dl);for(let B=0;B<U.length;B++){const W=ae(v,U[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Hn(this.g),me=this.g.ya(),Bt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||bt!=4||me==7||(me==8||Bt<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ve(12),fn(this),bn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<v.length;)if(le=au(this,v),le==Ve){bt==4&&(this.m=4,ve(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,ve(15),ni(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,le,null),ai(this,le);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Dl(W),W.P=!0,ve(11))}}else ni(this.i,this.l,v,null),ai(this,v);bt==4&&fn(this),this.o&&!this.K&&(bt==4?pu(this.j,this):(this.o=!1,si(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),fn(this),bn(this)}}}catch{}finally{}};function kh(u){if(!ru(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,U=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(_(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ar(this.i,this.B),this.M!=2&&(Wn(),ve(17)),fn(this),this.m=2,bn(this)):Jr(this,this.T-u)};function bn(u){u.j.I==0||u.K||pu(u.j,u)}function fn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)aa(v),ms(v);else break t;gr(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ei(_(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((u.L||v.g==u)&&aa(v),!I(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const le=Bt[0];if(!(le<=v.K))if(v.K=le,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const wn=Bt[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const pi=Bt[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Fn=Bt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Gn=u.g;if(Gn){const yr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var B=T.h;B.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vl(B,B.h),B.h=null))}if(T.G){const la=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Qt(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=_u(T,T.L?T.ba:null,T.W),W.L){El(T.h,W);var bt=W,me=T.O;me&&(bt.H=me),bt.D&&(ri(bt),si(bt)),T.g=W}else du(T);v.i.length>0&&di(v)}else Bt[0]!="stop"&&Bt[0]!="close"||mi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?mi(v,7):xl(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}Wn(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.u),this.h=u.h,bl(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),ls(this,m[4]),this.h=ui(m[5]||"",!0),bl(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cr(m,ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cr(m,ta,!0),"@"),u.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(cr(v,v.charAt(0)=="/"?Al:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",cr(v,uu)),u.join("")},dn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ls(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let W=0;W<U.length;){const bt=U[W++];bt=="."?T&&W==U.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==U.length&&B.push("")):(B.push(bt),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?bl(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new dn(u)}function ke(u,m,v){u.j=v?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bl(u,m,v){m instanceof us?(u.i=m,na(u.i,u.l)):(v||(m=cr(m,os)),u.i=new us(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function ur(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,ou=/[#\?:]/g,Al=/[#\?]/g,os=/[#\?@]/g,uu=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=us.prototype,s.add=function(u,m){sn(this),this.i=null,u=cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){sn(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Sl(u,m){return sn(u),m=cs(u,m),u.g.has(m)}s.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function wl(u,m){sn(u);let v=[];if(typeof m=="string")Sl(u,m)&&(v=v.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return sn(this),this.i=null,u=cs(this,u),Sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=wl(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(cs(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=xi(v);v=wl(this,v);for(let B=0;B<v.length;B++){let W=U;v[B]!==""&&(W+="="+xi(v[B])),u.push(W)}}return this.i=u.join("&")};function hu(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(cu(this,T),ea(this,U,v))},u)),u.j=m}function Bn(u,m){const v=new Ln;if(d.Image){const T=new Image;T.onload=A(An,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(An,v,"TestLoadImage: error",!1,m,T),T.onabort=A(An,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(An,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Rl(u,m){const v=new Ln,T=new AbortController,U=setTimeout(()=>{T.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(v,"TestPingServer: error",!1,m)})}function An(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function hs(){this.g=new Jo}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}R(ci,Wo),ci.prototype.g=function(){return new hr(this.i,this.h)};function hr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(hr,_e),s=hr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):qn(this),this.readyState==3&&ia(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},s.Na=function(u){this.g&&(this.response=u,fs(this))},s.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function fr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Sn(v),typeof u=="string"?v!=null&&xi(v):Qt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Xt,_e);var hi=/^https?$/i,Cl=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){dr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){dr(this,B)}};function dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Il(u),Ni(u)}function Il(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ni(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},s.Xa=function(){mr(this)};function mr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(lu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!hi.test(W?W.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var U=Hn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Il(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var v=su(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Gt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ds.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),di(this)};function xl(u){if(sa(u),u.I==3){var m=u.V++,v=be(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),pr(u,v),m=new jn(u,u.j,m),m.M=2,m.A=ur(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}yu(u)}function ms(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function sa(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ft||b(),rt||(Ft(),rt=!0),C.add(m,u),u.D=0}}function ra(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(_(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=fu(this,U,m),v=be(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),pr(this,v),B&&(this.R?m="headers="+xi(Sn(B))+"&"+m:this.u&&fr(v,this.u,B)),vl(this.h,U),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),U.U=!0,ii(U,v,null)):ii(U,v,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,m){var v;m?v=m.l:v=u.V++;const T=be(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),pr(u,T),u.u&&u.o&&fr(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,v),ii(v,T,m)}function pr(u,m){u.H&&Ut(u.H,function(v,T){Qt(m,T,v)}),u.l&&Ut({},function(v,T){Qt(m,T,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let bt=-1;for(;;){const me=["count="+v];bt==-1?v>0?(bt=U[0].g,me.push("ofs="+bt)):bt=0:me.push("ofs="+bt);let Bt=!0;for(let le=0;le<v;le++){var B=U[le].g;const wn=U[le].map;if(B-=bt,B<0)bt=Math.max(0,U[le].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var W=wn instanceof Map?wn:Object.entries(wn);for(const[pi,Fn]of W){let Gn=Fn;p(Fn)&&(Gn=as(Fn)),me.push(B+pi+"="+encodeURIComponent(Gn))}}catch(pi){throw me.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(wn)}}if(Bt){W=me.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ft||b(),rt||(Ft(),rt=!0),C.add(m,u),u.A=0}}function gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(_(u.Da,u),gu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ms(this),mu(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),pr(u,m),u.u&&u.o&&fr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ur(be(m)),v.u=null,v.R=!0,Zr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ms(this),gr(this),ve(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){aa(u),Dl(u),u.g=null;var T=2}else if(oi(u.h,m))v=m.G,El(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=$r(),Ne(T,new ti(T,v)),di(u)}else du(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&gr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),ur(T),U?Bn(T.toString(),v):Rl(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),yu(u),sa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var T=v instanceof dn?be(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ls(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new dn(null);T&&ke(B,T),m&&(B.g=m),U&&ls(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),pr(u,T),T}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new ci({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ps(){}ps.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_e.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}R(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){xl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=as(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&di(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,tn.Z.N.call(this)};function Tu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(Tu,je);function bu(){Tn.call(this),this.status=1}R(bu,Tn);function Oi(u){this.g=u}R(Oi,Eu),Oi.prototype.ra=function(){Ne(this.g,"a")},Oi.prototype.qa=function(u){Ne(this.g,new Tu(u))},Oi.prototype.pa=function(u){Ne(this.g,new bu)},Oi.prototype.oa=function(){Ne(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,NE=function(){return new ps},xE=function(){return $r()},IE=de,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Pc=lr,pl.COMPLETE="complete",CE=pl,tu.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",_e.prototype.listen=_e.prototype.J,vo=tu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,RE=Xt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore",S0="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let al="12.3.0";const Br=new Sm("@firebase/firestore");function Ua(){return Br.logLevel}function it(s,...t){if(Br.logLevel<=Dt.DEBUG){const i=t.map(km);Br.debug(`Firestore (${al}): ${s}`,...i)}}function ts(s,...t){if(Br.logLevel<=Dt.ERROR){const i=t.map(km);Br.error(`Firestore (${al}): ${s}`,...i)}}function Za(s,...t){if(Br.logLevel<=Dt.WARN){const i=t.map(km);Br.warn(`Firestore (${al}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,DE(s,a,i)}function DE(s,t,i){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Ht(s,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||DE(t,o,a)}function Tt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class OE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class PR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class UR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new kr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new kr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new OE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class LR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new LR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new w0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=BR(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ot(s,t){return s<t?-1:s>t?1:0}function lm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=t.charAt(a);if(o!==c)return Fd(o)===Fd(c)?Ot(o,c):Fd(o)?1:-1}return Ot(s.length,t.length)}const qR=55296,HR=57343;function Fd(s){const t=s.charCodeAt(0);return t>=qR&&t<=HR}function Ja(s,t,i){return s.length===t.length&&s.every(((a,o)=>i(a,t[o])))}const R0="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ei.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),o=Ei.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):lm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ys.fromString(t.substring(4,t.length-2))}}class ue extends Ei{construct(t,i,a){return new ue(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const FR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ei{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return FR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new Qe([R0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ue.fromString(t))}static fromName(t){return new ft(ue.fromString(t).popFirst(5))}static empty(){return new ft(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ue(t.slice()))}}function GR(s,t,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function QR(s,t,i,a){if(t===!0&&a===!0)throw new ot($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function C0(s){if(!ft.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function ME(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Um(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Qa(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Um(s);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function Qo(s,t){if(!ME(s))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot($.INVALID_ARGUMENT,i);return!0}const I0=-62135596800,x0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*x0);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<I0)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x0}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Qo(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-I0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ie("string",re._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Oo=-1;function KR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Xs(o,ft.empty(),t)}function YR(s){return new Xs(s.readTime,s.key,Oo)}class Xs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xs(vt.min(),ft.empty(),Oo)}static max(){return new Xs(vt.max(),ft.empty(),Oo)}}function XR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}const $R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==$R)throw s;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function JR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(s){return s.name==="IndexedDbTransactionError"}class _h{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_h.ce=-1;const Lm=-1;function vh(s){return s==null}function th(s){return s===0&&1/s==-1/0}function WR(s){return typeof s=="number"&&Number.isInteger(s)&&!th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const VE="";function tC(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=N0(t)),t=eC(s.get(i),t);return N0(t)}function eC(s,t){let i=t;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case VE:i+="";break;default:i+=c}}return i}function N0(s){return s+VE+""}function D0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Hr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function kE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Ge(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(t){return new O0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class O0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class PE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new PE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const nC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const i=nC.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Zs(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const UE="server_timestamp",LE="__type__",jE="__previous_value__",zE="__local_write_time__";function jm(s){return(s?.mapValue?.fields||{})[LE]?.stringValue===UE}function Eh(s){const t=s.mapValue.fields[jE];return jm(t)?Eh(t):t}function Mo(s){const t=$s(s.mapValue.fields[zE].timestampValue);return new re(t.seconds,t.nanos)}class iC{constructor(t,i,a,o,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const eh="(default)";class Vo{constructor(t,i){this.projectId=t,this.database=i||eh}static empty(){return new Vo("","")}get isDefaultDatabase(){return this.database===eh}isEqual(t){return t instanceof Vo&&t.projectId===this.projectId&&t.database===this.database}}const BE="__type__",sC="__max__",xc={mapValue:{}},qE="__vector__",nh="value";function Js(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?jm(s)?4:aC(s)?9007199254740991:rC(s)?10:11:gt(28295,{value:s})}function Ci(s,t){if(s===t)return!0;const i=Js(s);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Mo(s).isEqual(Mo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=$s(o.timestampValue),p=$s(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,c){return Zs(o.bytesValue).isEqual(Zs(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,c){return ye(o.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(s,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ye(o.integerValue)===ye(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ye(o.doubleValue),p=ye(c.doubleValue);return d===p?th(d)===th(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Ja(s.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(D0(d)!==D0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ci(d[y],p[y])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function ko(s,t){return(s.values||[]).find((i=>Ci(i,t)))!==void 0}function Wa(s,t){if(s===t)return 0;const i=Js(s),a=Js(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return M0(s.timestampValue,t.timestampValue);case 4:return M0(Mo(s),Mo(t));case 5:return lm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Zs(c),y=Zs(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Ot(p[_],y[_]);if(A!==0)return A}return Ot(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ot(ye(c.latitude),ye(d.latitude));return p!==0?p:Ot(ye(c.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return V0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[nh]?.arrayValue,A=y[nh]?.arrayValue,R=Ot(_?.values?.length||0,A?.values?.length||0);return R!==0?R:V0(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let R=0;R<y.length&&R<A.length;++R){const V=lm(y[R],A[R]);if(V!==0)return V;const H=Wa(p[y[R]],_[A[R]]);if(H!==0)return H}return Ot(y.length,A.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function M0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=$s(s),a=$s(t),o=Ot(i.seconds,a.seconds);return o!==0?o:Ot(i.nanos,a.nanos)}function V0(s,t){const i=s.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Wa(i[o],a[o]);if(c)return c}return Ot(i.length,a.length)}function tl(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=$s(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Zs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=om(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${om(i.fields[d])}`;return o+"}"})(s.mapValue):gt(61005,{value:s})}function Uc(s){switch(Js(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Eh(s);return t?16+Uc(t):16;case 5:return 2*s.stringValue.length;case 6:return Zs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Hr(a.fields,((c,d)=>{o+=c.length+Uc(d)})),o})(s.mapValue);default:throw gt(13486,{value:s})}}function um(s){return!!s&&"integerValue"in s}function zm(s){return!!s&&"arrayValue"in s}function k0(s){return!!s&&"nullValue"in s}function P0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lc(s){return!!s&&"mapValue"in s}function rC(s){return(s?.mapValue?.fields||{})[BE]?.stringValue===qE}function wo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Hr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=wo(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wo(s.arrayValue.values[i]);return t}return{...s}}function aC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sC}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wo(i)}setAll(t){let i=Qe.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=wo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Hr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new kn(wo(this.value))}}function HE(s){const t=[];return Hr(s.fields,((i,a)=>{const o=new Qe([i]);if(Lc(a)){const c=HE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new $n(t)}class Ze{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),kn.empty(),0)}static newFoundDocument(t,i,a,o){return new Ze(t,1,i,vt.min(),a,o,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),kn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(t,i){this.position=t,this.inclusive=i}}function U0(s,t,i){let a=0;for(let o=0;o<s.position.length;o++){const c=t[o],d=s.position[o];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function L0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],t.position[i]))return!1;return!0}class sh{constructor(t,i="asc"){this.field=t,this.dir=i}}function lC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class FE{}class Oe extends FE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new uC(t,i,a):i==="array-contains"?new fC(t,a):i==="in"?new dC(t,a):i==="not-in"?new mC(t,a):i==="array-contains-any"?new pC(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new cC(t,a):new hC(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends FE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return GE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GE(s){return s.op==="and"}function QE(s){return oC(s)&&GE(s)}function oC(s){for(const t of s.filters)if(t instanceof Ii)return!1;return!0}function cm(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+tl(s.value);if(QE(s))return s.filters.map((t=>cm(t))).join(",");{const t=s.filters.map((i=>cm(i))).join(",");return`${s.op}(${t})`}}function KE(s,t){return s instanceof Oe?(function(a,o){return o instanceof Oe&&a.op===o.op&&a.field.isEqual(o.field)&&Ci(a.value,o.value)})(s,t):s instanceof Ii?(function(a,o){return o instanceof Ii&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&KE(d,o.filters[p])),!0):!1})(s,t):void gt(19439)}function YE(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${tl(i.value)}`})(s):s instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(YE).join(" ,")+"}"})(s):"Filter"}class uC extends Oe{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class cC extends Oe{constructor(t,i){super(t,"in",i),this.keys=XE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class hC extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=XE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function XE(s,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class fC extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return zm(i)&&ko(i.arrayValue,this.value)}}class dC extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ko(this.value.arrayValue,i)}}class mC extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ko(this.value.arrayValue,i)}}class pC extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ko(this.value.arrayValue,a)))}}class gC{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function j0(s,t=null,i=[],a=[],o=null,c=null,d=null){return new gC(s,t,i,a,o,c,d)}function Bm(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>cm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),vh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>tl(a))).join(",")),t.Te=i}return t.Te}function qm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!lC(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!KE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!L0(s.startAt,t.startAt)&&L0(s.endAt,t.endAt)}function hm(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Th{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yC(s,t,i,a,o,c,d,p){return new Th(s,t,i,a,o,c,d,p)}function Hm(s){return new Th(s)}function z0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _C(s){return s.collectionGroup!==null}function Ro(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new sh(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new sh(Qe.keyField(),a))}return t.Ie}function Ai(s){const t=Tt(s);return t.Ee||(t.Ee=vC(t,Ro(s))),t.Ee}function vC(s,t){if(s.limitType==="F")return j0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new sh(o.field,c)}));const i=s.endAt?new ih(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ih(s.startAt.position,s.startAt.inclusive):null;return j0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function fm(s,t,i){return new Th(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function bh(s,t){return qm(Ai(s),Ai(t))&&s.limitType===t.limitType}function $E(s){return`${Bm(Ai(s))}|lt:${s.limitType}`}function La(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>YE(o))).join(", ")}]`),vh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>tl(o))).join(",")),`Target(${a})`})(Ai(s))}; limitType=${s.limitType})`}function Ah(s,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,o){for(const c of Ro(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=U0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Ro(a),o)||a.endAt&&!(function(d,p,y){const _=U0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Ro(a),o))})(s,t)}function EC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ZE(s){return(t,i)=>{let a=!1;for(const o of Ro(s)){const c=TC(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function TC(s,t,i){const a=s.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Wa(y,_):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class Fr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Hr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return kE(this.inner)}size(){return this.innerSize}}const bC=new ce(ft.comparator);function es(){return bC}const JE=new ce(ft.comparator);function Eo(...s){let t=JE;for(const i of s)t=t.insert(i.key,i);return t}function WE(s){let t=JE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Vr(){return Co()}function tT(){return Co()}function Co(){return new Fr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const AC=new ce(ft.comparator),SC=new Me(ft.comparator);function Mt(...s){let t=SC;for(const i of s)t=t.add(i);return t}const wC=new Me(Ot);function RC(){return wC}function Fm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(t)?"-0":t}}function eT(s){return{integerValue:""+s}}function CC(s,t){return WR(t)?eT(t):Fm(s,t)}class Sh{constructor(){this._=void 0}}function IC(s,t,i){return s instanceof rh?(function(o,c){const d={fields:{[LE]:{stringValue:UE},[zE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&jm(c)&&(c=Eh(c)),c&&(d.fields[jE]=c),{mapValue:d}})(i,t):s instanceof Po?iT(s,t):s instanceof Uo?sT(s,t):(function(o,c){const d=nT(o,c),p=B0(d)+B0(o.Ae);return um(d)&&um(o.Ae)?eT(p):Fm(o.serializer,p)})(s,t)}function xC(s,t,i){return s instanceof Po?iT(s,t):s instanceof Uo?sT(s,t):i}function nT(s,t){return s instanceof ah?(function(a){return um(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class rh extends Sh{}class Po extends Sh{constructor(t){super(),this.elements=t}}function iT(s,t){const i=rT(t);for(const a of s.elements)i.some((o=>Ci(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Uo extends Sh{constructor(t){super(),this.elements=t}}function sT(s,t){let i=rT(t);for(const a of s.elements)i=i.filter((o=>!Ci(o,a)));return{arrayValue:{values:i}}}class ah extends Sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function B0(s){return ye(s.integerValue||s.doubleValue)}function rT(s){return zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function NC(s,t){return s.field.isEqual(t.field)&&(function(a,o){return a instanceof Po&&o instanceof Po||a instanceof Uo&&o instanceof Uo?Ja(a.elements,o.elements,Ci):a instanceof ah&&o instanceof ah?Ci(a.Ae,o.Ae):a instanceof rh&&o instanceof rh})(s.transform,t.transform)}class DC{constructor(t,i){this.version=t,this.transformResults=i}}class Zi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class wh{}function aT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new oT(s.key,Zi.none()):new Ko(s.key,s.data,Zi.none());{const i=s.data,a=kn.empty();let o=new Me(Qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Gr(s.key,a,new $n(o.toArray()),Zi.none())}}function OC(s,t,i){s instanceof Ko?(function(o,c,d){const p=o.value.clone(),y=H0(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Gr?(function(o,c,d){if(!jc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=H0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(lT(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Io(s,t,i,a){return s instanceof Ko?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=c.value.clone(),A=F0(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Gr?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=F0(c.fieldTransforms,y,d),A=d.data;return A.setAll(lT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((R=>R.field)))})(s,t,i,a):(function(c,d,p){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function MC(s,t){let i=null;for(const a of s.fieldTransforms){const o=t.data.field(a.field),c=nT(a.transform,o||null);c!=null&&(i===null&&(i=kn.empty()),i.set(a.field,c))}return i||null}function q0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ja(a,o,((c,d)=>NC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ko extends wh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gr extends wh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function lT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function H0(s,t,i){const a=new Map;Ht(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,xC(d,p,i[o]))}return a}function F0(s,t,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,IC(c,d,t))}return a}class oT extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VC extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kC{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&OC(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Io(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Io(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=tT();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=aT(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>q0(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>q0(i,a)))}}class Gm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return AC})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Gm(t,i,a,o)}}class PC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Pt;function LC(s){switch(s){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function uT(s){if(s===void 0)return ts("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ce.OK:return $.OK;case Ce.CANCELLED:return $.CANCELLED;case Ce.UNKNOWN:return $.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return $.INTERNAL;case Ce.UNAVAILABLE:return $.UNAVAILABLE;case Ce.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ce.NOT_FOUND:return $.NOT_FOUND;case Ce.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ce.ABORTED:return $.ABORTED;case Ce.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ce.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:s})}}(Pt=Ce||(Ce={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function jC(){return new TextEncoder}const zC=new Ys([4294967295,4294967295],0);function G0(s){const t=jC().encode(s),i=new wE;return i.update(t),new Uint8Array(i.digest())}function Q0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ys([i,a],0),new Ys([o,c],0)]}class Qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new To(`Invalid padding: ${i}`);if(a<0)throw new To(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new To(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ys.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Ys.fromNumber(a)));return o.compare(zC)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=G0(t),[a,o]=Q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Qm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=G0(t),[a,o]=Q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Yo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Rh(vt.min(),o,new ce(Ot),es(),Mt())}}class Yo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Yo(a,i,Mt(),Mt(),Mt())}}class zc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class cT{constructor(t,i){this.targetId=t,this.Ce=i}}class hT{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class K0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:gt(38017,{changeType:c})}})),new Yo(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Y0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BC{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=Nc(),this.He=Nc(),this.Ye=new ce(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(hm(c))if(a===0){const d=new ft(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Zs(a).toUint8Array()}catch(y){if(y instanceof PE)return Za("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Qm(d,o,c)}catch(y){return Za(y instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const y=new ft(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Rh(t,i,this.Ye,this.je,a);return this.je=es(),this.Je=Nc(),this.He=Nc(),this.Ye=new ce(Ot),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new K0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new K0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new ce(ft.comparator)}function Y0(){return new ce(ft.comparator)}const qC={asc:"ASCENDING",desc:"DESCENDING"},HC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FC={and:"AND",or:"OR"};class GC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dm(s,t){return s.useProto3Json||vh(t)?t:{value:t}}function lh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function QC(s,t){return lh(s,t.toTimestamp())}function Si(s){return Ht(!!s,49232),vt.fromTimestamp((function(i){const a=$s(i);return new re(a.seconds,a.nanos)})(s))}function Km(s,t){return mm(s,t).canonicalString()}function mm(s,t){const i=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?i:i.child(t)}function dT(s){const t=ue.fromString(s);return Ht(_T(t),10190,{key:t.toString()}),t}function pm(s,t){return Km(s.databaseId,t.path)}function Gd(s,t){const i=dT(t);if(i.get(1)!==s.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(pT(i))}function mT(s,t){return Km(s.databaseId,t)}function KC(s){const t=dT(s);return t.length===4?ue.emptyPath():pT(t)}function gm(s){return new ue(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function pT(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function X0(s,t,i){return{name:pm(s,t),fields:i.value.mapValue.fields}}function YC(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:uT(_.code);return new ot(A,_.message||"")})(d);i=new hT(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(s,a.document.name),c=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):vt.min(),p=new kn({mapValue:{fields:a.document.fields}}),y=Ze.newFoundDocument(o,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new zc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Gd(s,a.document),c=a.readTime?Si(a.readTime):vt.min(),d=Ze.newNoDocument(o,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Gd(s,a.document),c=a.removedTargetIds||[];i=new zc([],c,o,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new UC(o,c),p=a.targetId;i=new cT(p,d)}}return i}function XC(s,t){let i;if(t instanceof Ko)i={update:X0(s,t.key,t.value)};else if(t instanceof oT)i={delete:pm(s,t.key)};else if(t instanceof Gr)i={update:X0(s,t.key,t.data),updateMask:sI(t.fieldMask)};else{if(!(t instanceof VC))return gt(16599,{Vt:t.type});i={verify:pm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Po)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ah)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:QC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function $C(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Si(o.updateTime):Si(c);return d.isEqual(vt.min())&&(d=Si(c)),new DC(d,o.transformResults||[])})(i,t)))):[]}function ZC(s,t){return{documents:[mT(s,t.path)]}}function JC(s,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=mT(s,o);const c=(function(_){if(_.length!==0)return yT(Ii.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:ja(V.field),direction:eI(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:o}}function WC(s){let t=KC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ht(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(R){const V=gT(R);return V instanceof Ii&&QE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((V=>(function(Z){return new sh(za(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(R){let V;return V=typeof R=="object"?R.value:R,vh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(R){const V=!!R.before,H=R.values||[];return new ih(H,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(R){const V=!R.before,H=R.values||[];return new ih(H,V)})(i.endAt)),yC(t,o,d,c,p,"F",y,_)}function tI(s,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=za(i.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(za(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>gT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function eI(s){return qC[s]}function nI(s){return HC[s]}function iI(s){return FC[s]}function ja(s){return{fieldPath:s.canonicalString()}}function za(s){return Qe.fromServerFormat(s.fieldPath)}function yT(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(P0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(k0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(P0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(k0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:nI(i.op),value:i.value}}})(s):s instanceof Ii?(function(i){const a=i.getFilters().map((o=>yT(o)));return a.length===1?a[0]:{compositeFilter:{op:iI(i.op),filters:a}}})(s):gt(54877,{filter:s})}function sI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function _T(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Fs{constructor(t,i,a,o,c=vt.min(),d=vt.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class rI{constructor(t){this.yt=t}}function aI(s){const t=WC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fm(t,t.limit,"L"):t}class lI{constructor(){this.Cn=new oI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Xs.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class oI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Me(ue.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Me(ue.comparator)).toArray()}}const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(vT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const Z0="LruGarbageCollector",uI=1048576;function J0([s,t],[i,a]){const o=Ot(s,i);return o===0?Ot(t,a):o}class cI{constructor(t){this.Ir=t,this.buffer=new Me(J0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();J0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(Z0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?it(Z0,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Vr(3e5)}))}}class fI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(_h.ce);const a=new cI(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve($0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(t,o)))).next((R=>(a=R,p=Date.now(),this.removeTargets(t,a,i)))).next((R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((R=>(_=Date.now(),Ua()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${R} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R}))))}}function dI(s,t){return new fI(s,t)}class mI{constructor(){this.changes=new Fr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class pI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class gI{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Io(a.mutation,o,$n.empty(),re.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const o=Vr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=Eo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Vr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=es();const d=Co(),p=(function(){return Co()})();return i.forEach(((y,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Gr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Io(A.mutation,_,A.mutation.getFieldMask(),re.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new pI(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Co();let o=new ce(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||$n.empty();A=p.applyToLocalView(_,A),a.set(y,A);const R=(o.get(p.batchId)||Mt()).add(y);o=o.insert(p.batchId,R)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,R=tT();A.forEach((V=>{if(!c.has(V)){const H=aT(i.get(V),a.get(V));H!==null&&R.set(V,H),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,R))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):_C(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(Vr());let p=Oo,y=c;return d.next((_=>X.forEach(_,((A,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{y=y.insert(A,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Mt()))).next((A=>({batchId:p,changes:WE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let o=Eo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=Eo();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(R,V){return new Th(V,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,o).next((A=>{A.forEach(((R,V)=>{d=d.insert(R,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=Eo();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Io(A.mutation,_,$n.empty(),re.now()),Ah(i,_)&&(p=p.insert(y,_))})),p}))}}class yI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:aI(o.bundledQuery),readTime:Si(o.readTime)}})(i)),X.resolve()}}class _I{constructor(){this.overlays=new ce(ft.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vr();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=Vr(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ce(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Vr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Vr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return X.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new PC(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class vI{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Ym{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new ue([])),a=new Ue(i,t),o=new Ue(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new ue([])),a=new Ue(i,t),o=new Ue(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ue(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class EI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kC(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Ue(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Ot);return i.forEach((o=>{const c=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new ft(c),0);let p=new Me(Ot);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Ue(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ue(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class TI{constructor(t){this.ri=t,this.docs=(function(){return new ce(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Ze.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=es();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||XR(YR(A),a)<=0||(o.has(A.key)||Ah(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){gt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new bI(this)}getSize(t){return X.resolve(this.size)}}class bI extends mI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class AI{constructor(t){this.persistence=t,this.si=new Fr((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new el(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class ET{constructor(t,i){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new vI,this.referenceDelegate=t(this),this.Pi=new AI(this),this.indexManager=new lI,this.remoteDocumentCache=(function(o){return new TI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new rI(i),this.Ii=new yI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new _I,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new EI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const o=new SI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class SI extends ZR{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Ym,this.Vi=null}static mi(t){return new Xm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=ft.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.pi=new Fr((a=>tC(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=dI(this,i)}static mi(t,i){return new oh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class $m{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Mt(),o=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $m(t,i.fromCache,a,o)}}class wI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class RI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZA()?8:JR(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new wI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Ua()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ua()<=Dt.DEBUG&&it("QueryEngine","Query:",La(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ua()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):X.resolve())}ys(t,i){if(z0(i))return X.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=fm(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,fm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,o){return z0(i)||o.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(Ua()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),La(i)),this.vs(t,d,i,KR(o,Oo)).next((p=>p)))}))}Ds(t,i){let a=new Me(ZE(t));return i.forEach(((o,c)=>{Ah(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return Ua()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(t,i,Xs.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",CI=3e8;class II{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ce(Ot),this.xs=new Fr((c=>Bm(c)),qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function xI(s,t,i,a){return new II(s,t,i,a)}async function TT(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Mt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function NI(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const R=_.batch,V=R.keys();let H=X.resolve();return V.forEach((Z=>{H=H.next((()=>A.getEntry(y,Z))).next((nt=>{const J=_.docVersions.get(Z);Ht(J!==null,48541),nt.version.compareTo(J)<0&&(R.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(y,R)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Mt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function bT(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function DI(s,t){const i=Tt(s),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((A,R)=>{const V=o.get(R);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,R))));let H=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?H=H.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),o=o.insert(R,H),(function(nt,J,ct){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=CI?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(V,H,A)&&p.push(i.Pi.updateTargetData(c,H))}));let y=es(),_=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(OI(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((R=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function OI(s,t,i){let a=Mt(),o=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=es();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(vt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):it(Zm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function MI(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function VI(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Fs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function ym(s,t,i){const a=Tt(s),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;it(Zm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function W0(s,t,i){const a=Tt(s);let o=vt.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const R=Tt(y),V=R.xs.get(A);return V!==void 0?X.resolve(R.Ms.get(V)):R.Pi.getTargetData(_,A)})(a,d,Ai(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:vt.min(),i?c:Mt()))).next((p=>(kI(a,EC(t),p),{documents:p,Qs:c})))))}function kI(s,t,i){let a=s.Os.get(t)||vt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class tv{constructor(){this.activeTargetIds=RC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PI{constructor(){this.Mo=new tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new tv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class UI{Oo(t){}shutdown(){}}const ev="ConnectivityMonitor";class nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(ev,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(ev,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function _m(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Qd="RestConnection",LI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=_m(),p=this.zo(t,i.toUriEncodedString());it(Qd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),A=il(_);return this.Jo(t,p,y,a,A).then((R=>(it(Qd,`Received RPC '${t}' ${d}: `,R),R)),(R=>{throw Za(Qd,`RPC '${t}' ${d} failed with error: `,R,"url: ",p,"request:",a),R}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=LI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class zI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class BI extends jI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=_m();return new Promise(((p,y)=>{const _=new RE;_.setWithCredentials(!0),_.listenOnce(CE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const R=_.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),p(R);break;case Pc.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),y(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const V=_.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const nt=(function(ct){const yt=ct.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(yt)>=0?yt:$.UNKNOWN})(Z.status);y(new ot(nt,Z.message))}else y(new ot($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ot($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);it(Xe,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const o=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=NE(),p=xE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");it(Xe,`Creating RPC '${t}' stream ${o}: ${A}`,y);const R=d.createWebChannel(A,y);this.I_(R);let V=!1,H=!1;const Z=new zI({Yo:J=>{H?it(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(V||(it(Xe,`Opening RPC '${t}' stream ${o} transport.`),R.open(),V=!0),it(Xe,`RPC '${t}' stream ${o} sending:`,J),R.send(J))},Zo:()=>R.close()}),nt=(J,ct,yt)=>{J.listen(ct,(dt=>{try{yt(dt)}catch(Lt){setTimeout((()=>{throw Lt}),0)}}))};return nt(R,vo.EventType.OPEN,(()=>{H||(it(Xe,`RPC '${t}' stream ${o} transport opened.`),Z.o_())})),nt(R,vo.EventType.CLOSE,(()=>{H||(H=!0,it(Xe,`RPC '${t}' stream ${o} transport closed`),Z.a_(),this.E_(R))})),nt(R,vo.EventType.ERROR,(J=>{H||(H=!0,Za(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new ot($.UNAVAILABLE,"The operation could not be completed")))})),nt(R,vo.EventType.MESSAGE,(J=>{if(!H){const ct=J.data[0];Ht(!!ct,16349);const yt=ct,dt=yt?.error||yt[0]?.error;if(dt){it(Xe,`RPC '${t}' stream ${o} received error:`,dt);const Lt=dt.status;let Ft=(function(b){const w=Ce[b];if(w!==void 0)return uT(w)})(Lt),rt=dt.message;Ft===void 0&&(Ft=$.INTERNAL,rt="Unknown error status: "+Lt+" with message "+dt.message),H=!0,Z.a_(new ot(Ft,rt)),R.close()}else it(Xe,`RPC '${t}' stream ${o} received:`,ct),Z.u_(ct)}})),nt(p,IE.STAT_EVENT,(J=>{J.stat===am.PROXY?it(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):J.stat===am.NOPROXY&&it(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Kd(){return typeof document<"u"?document:null}function Ch(s){return new GC(s,!0)}class AT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const iv="PersistentStream";class ST{constructor(t,i,a,o,c,d,p,y){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ot($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(iv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qI extends ST{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=YC(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Si(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=gm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=hm(y)?{documents:ZC(c,y)}:{query:JC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=fT(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=lh(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=tI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=gm(this.serializer),i.removeTarget=t,this.q_(i)}}class HI extends ST{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=$C(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=gm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>XC(this.serializer,a)))};this.q_(i)}}class FI{}class GI extends FI{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,mm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,mm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qr="RemoteStore";class KI{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Qr(this)&&(it(qr,"Restarting streams for network reachability change."),await(async function(y){const _=Tt(y);_.Ea.add(4),await Xo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Ra=new QI(a,o)}}async function Ih(s){if(Qr(s))for(const t of s.da)await t(!0)}async function Xo(s){for(const t of s.da)await t(!1)}function wT(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ep(i)?tp(i):ul(i).O_()&&Wm(i,t))}function Jm(s,t){const i=Tt(s),a=ul(i);i.Ia.delete(t),a.O_()&&RT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Qr(i)&&i.Ra.set("Unknown"))}function Wm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ul(s).Y_(t)}function RT(s,t){s.Va.Ue(t),ul(s).Z_(t)}function tp(s){s.Va=new BC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ul(s).start(),s.Ra.ua()}function ep(s){return Qr(s)&&!ul(s).x_()&&s.Ia.size>0}function Qr(s){return Tt(s).Ea.size===0}function CT(s){s.Va=void 0}async function YI(s){s.Ra.set("Online")}async function XI(s){s.Ia.forEach(((t,i)=>{Wm(s,t)}))}async function $I(s,t){CT(s),ep(s)?(s.Ra.ha(t),tp(s)):s.Ra.set("Unknown")}async function ZI(s,t,i){if(s.Ra.set("Online"),t instanceof hT&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,t)}catch(a){it(qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await uh(s,a)}else if(t instanceof zc?s.Va.Ze(t):t instanceof cT?s.Va.st(t):s.Va.tt(t),!i.isEqual(vt.min()))try{const a=await bT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),RT(c,y);const R=new Fs(A.target,y,_,A.sequenceNumber);Wm(c,R)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){it(qr,"Failed to raise snapshot:",a),await uh(s,a)}}async function uh(s,t,i){if(!ol(t))throw t;s.Ea.add(1),await Xo(s),s.Ra.set("Offline"),i||(i=()=>bT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ih(s)}))}function IT(s,t){return t().catch((i=>uh(s,i,t)))}async function xh(s){const t=Tt(s),i=Ws(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;JI(t);)try{const o=await MI(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,WI(t,o)}catch(o){await uh(t,o)}xT(t)&&NT(t)}function JI(s){return Qr(s)&&s.Ta.length<10}function WI(s,t){s.Ta.push(t);const i=Ws(s);i.O_()&&i.X_&&i.ea(t.mutations)}function xT(s){return Qr(s)&&!Ws(s).x_()&&s.Ta.length>0}function NT(s){Ws(s).start()}async function tx(s){Ws(s).ra()}async function ex(s){const t=Ws(s);for(const i of s.Ta)t.ea(i.mutations)}async function nx(s,t,i){const a=s.Ta.shift(),o=Gm.from(a,t,i);await IT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await xh(s)}async function ix(s,t){t&&Ws(s).X_&&await(async function(a,o){if((function(d){return LC(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();Ws(a).B_(),await IT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await xh(a)}})(s,t),xT(s)&&NT(s)}async function sv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),it(qr,"RemoteStore received new credentials");const a=Qr(i);i.Ea.add(3),await Xo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ih(i)}async function sx(s,t){const i=Tt(s);t?(i.Ea.delete(2),await Ih(i)):t||(i.Ea.add(2),await Xo(i),i.Ra.set("Unknown"))}function ul(s){return s.ma||(s.ma=(function(i,a,o){const c=Tt(i);return c.sa(),new qI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:YI.bind(null,s),t_:XI.bind(null,s),r_:$I.bind(null,s),H_:ZI.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),ep(s)?tp(s):s.Ra.set("Unknown")):(await s.ma.stop(),CT(s))}))),s.ma}function Ws(s){return s.fa||(s.fa=(function(i,a,o){const c=Tt(i);return c.sa(),new HI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:tx.bind(null,s),r_:ix.bind(null,s),ta:ex.bind(null,s),na:nx.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class np{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new np(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(s,t){if(ts("AsyncQueue",`${t}: ${s}`),ol(s))return new ot($.UNAVAILABLE,`${t}: ${s}`);throw s}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Eo(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class rv{constructor(){this.ga=new ce(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class nl{constructor(t,i,a,o,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new nl(t,i,Ka.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class rx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ax{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Tt(i),c=o.queries;o.queries=av(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function av(){return new Fr((s=>$E(s)),bh)}async function lx(s,t){const i=Tt(s);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new rx,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=ip(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sp(i)}async function ox(s,t){const i=Tt(s),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ux(s,t){const i=Tt(s);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&sp(i)}function cx(s,t,i){const a=Tt(s),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function sp(s){s.Ca.forEach((t=>{t.next()}))}var vm,lv;(lv=vm||(vm={})).Ma="default",lv.Cache="cache";class hx{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class DT{constructor(t){this.key=t}}class OT{constructor(t){this.key=t}}class fx{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=ZE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new rv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,R)=>{const V=o.get(A),H=Ah(this.query,R)?R:null,Z=!!V&&this.mutatedKeys.has(V.key),nt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;V&&H?V.data.isEqual(H.data)?Z!==nt&&(a.track({type:3,doc:H}),J=!0):this.su(V,H)||(a.track({type:2,doc:H}),J=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(p=!0)):!V&&H?(a.track({type:0,doc:H}),J=!0):V&&!H&&(a.track({type:1,doc:V}),J=!0,(y||_)&&(p=!0)),J&&(H?(d=d.add(H),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,R)=>(function(H,Z){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:J})}};return nt(H)-nt(Z)})(A.type,R.type)||this.eu(A.doc,R.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new nl(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new OT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new DT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rp="SyncEngine";class dx{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class mx{constructor(t){this.key=t,this.hu=!1}}class px{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((p=>$E(p)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(ft.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gx(s,t,i=!0){const a=LT(s);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await MT(a,t,i,!0),o}async function yx(s,t){const i=LT(s);await MT(i,t,!0,!1)}async function MT(s,t,i,a){const o=await VI(s.localStore,Ai(t)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await _x(s,t,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&wT(s.remoteStore,o),p}async function _x(s,t,i,a,o){s.pu=(R,V,H)=>(async function(nt,J,ct,yt){let dt=J.view.ru(ct);dt.Cs&&(dt=await W0(nt.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,dt))));const Lt=yt&&yt.targetChanges.get(J.targetId),Ft=yt&&yt.targetMismatches.get(J.targetId)!=null,rt=J.view.applyChanges(dt,nt.isPrimaryClient,Lt,Ft);return uv(nt,J.targetId,rt.au),rt.snapshot})(s,R,V,H);const c=await W0(s.localStore,t,!0),d=new fx(t,c.Qs),p=d.ru(c.documents),y=Yo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,y);uv(s,i,_.au);const A=new dx(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function vx(s,t,i){const a=Tt(s),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!bh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await ym(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Jm(a.remoteStore,o.targetId),Em(a,o.targetId)})).catch(ll)):(Em(a,o.targetId),await ym(a.localStore,o.targetId,!0))}async function Ex(s,t){const i=Tt(s),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function Tx(s,t,i){const a=Ix(s);try{const o=await(function(d,p){const y=Tt(d),_=re.now(),A=p.reduce(((H,Z)=>H.add(Z.key)),Mt());let R,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=es(),nt=Mt();return y.Ns.getEntries(H,A).next((J=>{Z=J,Z.forEach(((ct,yt)=>{yt.isValidDocument()||(nt=nt.add(ct))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,Z))).next((J=>{R=J;const ct=[];for(const yt of p){const dt=MC(yt,R.get(yt.key).overlayedDocument);dt!=null&&ct.push(new Gr(yt.key,dt,HE(dt.value.mapValue),Zi.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,ct,p)})).next((J=>{V=J;const ct=J.applyToLocalDocumentSet(R,nt);return y.documentOverlayCache.saveOverlays(H,J.batchId,ct)}))})).then((()=>({batchId:V.batchId,changes:WE(R)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ce(Ot)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await $o(a,o.changes),await xh(a.remoteStore)}catch(o){const c=ip(o,"Failed to persist write");i.reject(c)}}async function VT(s,t){const i=Tt(s);try{const a=await DI(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await $o(i,a,t)}catch(a){await ll(a)}}function ov(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=Tt(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,R)=>{for(const V of R.Sa)V.va(p)&&(_=!0)})),_&&sp(y)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function bx(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ce(ft.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const p=Mt().add(c),y=new Rh(vt.min(),new Map,new ce(Ot),d,p);await VT(a,y),a.du=a.du.remove(c),a.Au.delete(t),ap(a)}else await ym(a.localStore,t,!1).then((()=>Em(a,t,i))).catch(ll)}async function Ax(s,t){const i=Tt(s),a=t.batch.batchId;try{const o=await NI(i.localStore,t);PT(i,a,null),kT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $o(i,o)}catch(o){await ll(o)}}async function Sx(s,t,i){const a=Tt(s);try{const o=await(function(d,p){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((R=>(Ht(R!==null,37113),A=R.keys(),y.mutationQueue.removeMutationBatch(_,R)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);PT(a,t,i),kT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await $o(a,o)}catch(o){await ll(o)}}function kT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function PT(s,t,i){const a=Tt(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function Em(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||UT(s,a)}))}function UT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Jm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),ap(s))}function uv(s,t,i){for(const a of i)a instanceof DT?(s.Ru.addReference(a.key,t),wx(s,a)):a instanceof OT?(it(rp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||UT(s,a.key)):gt(19791,{wu:a})}function wx(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(it(rp,"New document in limbo: "+i),s.Eu.add(a),ap(s))}function ap(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(ue.fromString(t)),a=s.fu.next();s.Au.set(a,new mx(i)),s.du=s.du.insert(i,a),wT(s.remoteStore,new Fs(Ai(Hm(i.path)),a,"TargetPurposeLimboResolution",_h.ce))}}async function $o(s,t,i){const a=Tt(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=$m.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const A=Tt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>X.forEach(_,(V=>X.forEach(V.Es,(H=>A.persistence.referenceDelegate.addReference(R,V.targetId,H))).next((()=>X.forEach(V.ds,(H=>A.persistence.referenceDelegate.removeReference(R,V.targetId,H)))))))))}catch(R){if(!ol(R))throw R;it(Zm,"Failed to update sequence numbers: "+R)}for(const R of _){const V=R.targetId;if(!R.fromCache){const H=A.Ms.get(V),Z=H.snapshotVersion,nt=H.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(V,nt)}}})(a.localStore,c))}async function Rx(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){it(rp,"User change. New user:",t.toKey());const a=await TT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ot($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await $o(i,a.Ls)}}function Cx(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let o=Mt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function LT(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bx.bind(null,t),t.Pu.H_=ux.bind(null,t.eventManager),t.Pu.yu=cx.bind(null,t.eventManager),t}function Ix(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ax.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sx.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return xI(this.persistence,new RI,t.initialUser,this.serializer)}Cu(t){return new ET(Xm.mi,this.serializer)}Du(t){return new PI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class xx extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new hI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new ET((a=>oh.mi(a,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rx.bind(null,this.syncEngine),await sx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ax})()}createDatastore(t){const i=Ch(t.databaseInfo.databaseId),a=(function(c){return new BI(c)})(t.databaseInfo);return(function(c,d,p,y){return new GI(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new KI(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return nv.v()?new nv:new UI})())}createSyncEngine(t,i){return(function(o,c,d,p,y,_,A){const R=new px(o,c,d,p,y,_);return A&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);it(qr,"RemoteStore shutting down."),a.Ea.add(5),await Xo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class Nx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const tr="FirestoreClient";class Dx{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ip(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Yd(s,t){s.asyncQueue.verifyOperationInProgress(),it(tr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await TT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function cv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await Ox(s);it(tr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>sv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>sv(t.remoteStore,o))),s._onlineComponents=t}async function Ox(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(tr,"Using user provided OfflineComponentProvider");try{await Yd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Yd(s,new ch)}}else it(tr,"Using default OfflineComponentProvider"),await Yd(s,new xx(void 0));return s._offlineComponents}async function jT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(tr,"Using user provided OnlineComponentProvider"),await cv(s,s._uninitializedComponentsProvider._online)):(it(tr,"Using default OnlineComponentProvider"),await cv(s,new Tm))),s._onlineComponents}function Mx(s){return jT(s).then((t=>t.syncEngine))}async function hv(s){const t=await jT(s),i=t.eventManager;return i.onListen=gx.bind(null,t.syncEngine),i.onUnlisten=vx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=yx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Ex.bind(null,t.syncEngine),i}function zT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const fv=new Map;const BT="firestore.googleapis.com",dv=!0;class mv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BT,this.ssl=dv}else this.host=t.host,this.ssl=t.ssl??dv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uI)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}QR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lp{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new kR;switch(a.type){case"firstParty":return new jR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=fv.get(i);a&&(it("ComponentProvider","Removing Datastore"),fv.delete(i),a.terminate())})(this),Promise.resolve()}}function Vx(s,t,i,a={}){s=Qa(s,lp);const o=il(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;o&&(Uv(`https://${p}`),Lv("Firestore",!0)),c.host!==BT&&c.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!Ur(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=$e.MOCK_USER;else{_=qA(a.mockUserToken,s._app?.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(R)}s._authCredentials=new PR(new OE(_,A))}}class Nh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Nh(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Qo(i,Le._jsonSchema))return new Le(t,a||null,new ft(ue.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ie("string",Le._jsonSchemaVersion),referencePath:Ie("string")};class Lo extends Nh{constructor(t,i,a){super(t,i,Hm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new ft(t))}withConverter(t){return new Lo(this.firestore,t,this._path)}}function Xd(s,t,...i){if(s=hn(s),arguments.length===1&&(t=Pm.newId()),GR("doc","path",t),s instanceof lp){const a=ue.fromString(t,...i);return C0(a),new Le(s,null,new ft(a))}{if(!(s instanceof Le||s instanceof Lo))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ue.fromString(t,...i));return C0(a),new Le(s.firestore,s instanceof Lo?s.converter:null,new ft(a))}}const pv="AsyncQueue";class gv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AT(this,"async_queue_retry"),this._c=()=>{const a=Kd();a&&it(pv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;it(pv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",yv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=np.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function yv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function _v(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class hh extends lp{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new gv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gv(t),this._firestoreClient=void 0,await t}}}function kx(s,t){const i=typeof s=="object"?s:qv(),a=typeof s=="string"?s:eh,o=Rm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=zA("firestore");c&&Vx(o,...c)}return o}function qT(s){if(s._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Px(s),s._firestoreClient}function Px(s){const t=s._freezeSettings(),i=(function(o,c,d,p){return new iC(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,zT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new Dx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ke.fromBase64String(t))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Qo(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ie("string",Pn._jsonSchemaVersion),bytes:Ie("string")};class op{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class HT{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Qo(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Qo(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ri(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Ie("string",Ri._jsonSchemaVersion),vectorValues:Ie("object")};const Ux=/^__.*__$/;class Lx{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ko(t,this.data,i,this.fieldTransforms)}}function FT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class up{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new up({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return fh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(FT(this.Ac)&&Ux.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class jx{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ch(t)}Cc(t,i,a,o=!1){return new up({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zx(s){const t=s._freezeSettings(),i=Ch(s._databaseId);return new jx(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Bx(s,t,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,o);YT("Data must be an object, but it was:",d,a);const p=QT(a,d);let y,_;if(c.merge)y=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const R of c.mergeFields){const V=qx(t,R,i);if(!d.contains(V))throw new ot($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Fx(A,V)||A.push(V)}y=new $n(A),_=d.fieldTransforms.filter((R=>y.covers(R.field)))}else y=null,_=d.fieldTransforms;return new Lx(new kn(p),y,_)}function GT(s,t){if(KT(s=hn(s)))return YT("Unsupported field value:",t,s),QT(s,t);if(s instanceof HT)return(function(a,o){if(!FT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=GT(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,o){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return CC(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:lh(o.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(o.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:fT(o.serializer,a._byteString)};if(a instanceof Le){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ri)return(function(d,p){return{mapValue:{fields:{[BE]:{stringValue:qE},[nh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Fm(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Um(a)}`)})(s,t)}function QT(s,t){const i={};return kE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(s,((a,o)=>{const c=GT(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function KT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof wi||s instanceof Pn||s instanceof Le||s instanceof HT||s instanceof Ri)}function YT(s,t,i){if(!KT(i)||!ME(i)){const a=Um(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function qx(s,t,i){if((t=hn(t))instanceof op)return t._internalPath;if(typeof t=="string")return XT(s,t);throw fh("Field path arguments must be of type string or ",s,!1,void 0,i)}const Hx=new RegExp("[~\\*/\\[\\]]");function XT(s,t,i){if(t.search(Hx)>=0)throw fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new op(...t.split("."))._internalPath}catch{throw fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function fh(s,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ot($.INVALID_ARGUMENT,p+s+y)}function Fx(s,t){return s.some((i=>i.isEqual(t)))}class $T{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Gx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ZT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Gx extends $T{data(){return super.data()}}function ZT(s,t){return typeof t=="string"?XT(s,t):t instanceof op?t._internalPath:t._delegate._internalPath}function Qx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kx{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Hr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[nh].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Ri(i)}convertGeoPoint(t){return new wi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Eh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Mo(t));default:return null}}convertTimestamp(t){const i=$s(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ue.fromString(t);Ht(_T(a),9688,{name:t});const o=new Vo(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return o.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Yx(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class bo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pr extends $T{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(ZT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Ie("string",Pr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Bc extends Pr{data(t={}){return super.data(t)}}class Ya{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new bo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Xx(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Xx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Ie("string",Ya._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class JT extends Kx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function vv(s,t,i){s=Qa(s,Le);const a=Qa(s.firestore,hh),o=Yx(s.converter,t,i);return Zx(a,[Bx(zx(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Zi.none())])}function $x(s,...t){s=hn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||_v(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_v(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Le)d=Qa(s.firestore,hh),p=Hm(s._key.path),c={next:y=>{t[a]&&t[a](Jx(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Qa(s,Nh);d=Qa(y.firestore,hh),p=y._query;const _=new JT(d);c={next:A=>{t[a]&&t[a](new Ya(d,_,y,A))},error:t[a+1],complete:t[a+2]},Qx(s._query)}return(function(_,A,R,V){const H=new Nx(V),Z=new hx(A,H,R);return _.asyncQueue.enqueueAndForget((async()=>lx(await hv(_),Z))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>ox(await hv(_),Z)))}})(qT(d),p,o,c)}function Zx(s,t){return(function(a,o){const c=new kr;return a.asyncQueue.enqueueAndForget((async()=>Tx(await Mx(a),o,c))),c.promise})(qT(s),t)}function Jx(s,t,i){const a=i.docs.get(t._key),o=new JT(s);return new Pr(s,o,t._key,a,new bo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){al=o})(sl),$a(new Lr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new hh(new UR(a.getProvider("auth-internal")),new zR(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(_.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ks(A0,S0,t),Ks(A0,S0,"esm2020")})();const Wx={apiKey:"AIzaSyC9cqkStoTD-qXH8NCZeNKkti4ayfREE-Q",authDomain:"efaqa-life.firebaseapp.com",projectId:"efaqa-life",storageBucket:"efaqa-life.firebasestorage.app",messagingSenderId:"525492331370",appId:"1:525492331370:web:020ac74f445b1e19febb13"},WT=Bv(Wx),jo=MR(WT),$d=kx(WT),qc=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{var t=Math.random()*16|0,i=s=="x"?t:t&3|8;return i.toString(16)}),Ev=s=>s?s.toString().replace(/[<>&'"]/g,function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}):"",tN=(s,t)=>{const i=qc(),a=qc(),o=qc(),c=`com.techguard.profile.${t.stableId}`,d=(t.blockedSites||[]).filter(H=>H&&H.trim().length>0).map(H=>`          <string>${Ev(H.trim())}</string>`).join(`
`),y=(t.blockedApps||[]).map(H=>{if(!H||!H.bundleId)return null;const Z=H.bundleId.replace(/[^a-zA-Z0-9.-]/g,"");return Z.length>0?Z:null}).filter(H=>H!==null).map(H=>`          <string>${H}</string>`).join(`
`),_=t.adultFilterEnabled?"<true/>":"<false/>",A=t.vpnBlockEnabled?"<false/>":null,R=[];y&&R.push(`        <key>blacklistedAppBundleIDs</key>
        <array>
${y}
        </array>`),A&&R.push(`        <key>allowVPNCreation</key>
        ${A}`);const V=R.length>0?`
      <dict>
        <key>PayloadDisplayName</key>
        <string>App Restrictions</string>
        <key>PayloadIdentifier</key>
        <string>com.efaqa.restrictions.${a}</string>
        <key>PayloadUUID</key>
        <string>${a}</string>
        <key>PayloadType</key>
        <string>com.apple.applicationaccess</string>
        <key>PayloadVersion</key>
        <integer>1</integer>
${R.join(`
`)}
      </dict>
      `:"";return`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>PayloadType</key>
    <string>Configuration</string>
    <key>PayloadDisplayName</key>
    <string>Efaqa Profile (${Ev(s.email)})</string>
    <key>PayloadIdentifier</key>
    <string>${c}</string>
    <key>PayloadOrganization</key>
    <string>Efaqa Life</string>
    <key>PayloadUUID</key>
    <string>${o}</string>
    <key>PayloadVersion</key>
    <integer>1</integer>
    <key>TargetDeviceType</key>
    <integer>1</integer>
    <key>PayloadRemovalDisallowed</key>
    <true/>
    <key>PayloadContent</key>
    <array>
      <dict>
        <key>PayloadDisplayName</key>
        <string>Web Content Filter</string>
        <key>PayloadIdentifier</key>
        <string>com.efaqa.webfilter.${i}</string>
        <key>PayloadUUID</key>
        <string>${i}</string>
        <key>PayloadType</key>
        <string>com.apple.webcontent-filter</string>
        <key>PayloadVersion</key>
        <integer>1</integer>
        <key>FilterType</key>
        <string>BuiltIn</string>
        <key>AutoFilterEnabled</key>
        ${_}
        <key>UserDefinedName</key>
        <string>Efaqa Web Filter</string>
        ${d?`<key>DenyListURLs</key>
        <array>
${d}
        </array>`:""}
      </dict>
      ${V}
    </array>
  </dict>
</plist>`},t1=Av.createContext(),eN=({children:s})=>{const[t,i]=It.useState([]),a=It.useCallback((o,c="success")=>{const d=Date.now();i(p=>[...p,{id:d,message:o,type:c}]),setTimeout(()=>{i(p=>p.filter(y=>y.id!==d))},3e3)},[]);return S.jsxs(t1.Provider,{value:{addToast:a},children:[s,S.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 pointer-events-none",children:t.map(o=>S.jsxs("div",{className:`flex items-center gap-3 px-5 py-3 rounded-lg shadow-2xl border animate-slideUp pointer-events-auto min-w-[300px] justify-center backdrop-blur-xl ${o.type==="success"?"bg-[#0F172A]/90 border-cyan-500/30 text-cyan-400":"bg-[#0F172A]/90 border-red-500/30 text-red-400"}`,children:[o.type==="success"?S.jsx(wv,{className:"w-5 h-5"}):S.jsx(xv,{className:"w-5 h-5"}),S.jsx("span",{className:"text-sm font-bold",children:o.message})]},o.id))})]})},cp=()=>Av.useContext(t1),nN=({onComplete:s})=>{const[t,i]=It.useState("tension"),a="https://i.postimg.cc/5X3VhCkn/11111.jpg",o="https://i.postimg.cc/680XkvmJ/222.jpg";return It.useEffect(()=>{const c=setTimeout(()=>i("break"),1800),d=setTimeout(()=>i("glow"),1900),p=setTimeout(()=>s(),4500);return()=>{clearTimeout(c),clearTimeout(d),clearTimeout(p)}},[s]),S.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-[#050b14]/95 backdrop-blur-lg transition-all duration-500",children:[S.jsxs("div",{className:"relative flex flex-col items-center justify-center p-4",children:[S.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80px] h-[40px] bg-cyan-500/30 rounded-full blur-[20px] transition-all duration-1000 ${t==="glow"?"opacity-100 scale-150":"opacity-0 scale-0"}`}),S.jsxs("div",{className:"relative w-24 h-12 flex items-center justify-center mb-3",children:[t==="tension"&&S.jsx("img",{src:a,alt:"Closed Chain",className:"h-full object-contain animate-shake filter drop-shadow-[0_0_5px_rgba(0,0,0,0.8)]"}),(t==="break"||t==="glow")&&S.jsxs("div",{className:"relative animate-scaleUp h-full flex justify-center",children:[S.jsx("img",{src:o,alt:"Broken Chain",className:"h-full object-contain filter drop-shadow-[0_0_10px_rgba(34,211,238,0.5)]"}),S.jsx("div",{className:`absolute inset-0 bg-white mix-blend-overlay transition-opacity duration-300 ${t==="break"?"opacity-100":"opacity-0"}`})]})]}),S.jsxs("div",{className:`flex flex-col items-center transition-all duration-1000 ${t==="glow"?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:[S.jsx("h2",{className:"text-sm font-bold text-white tracking-tight mb-1 drop-shadow-lg",children:"  "}),S.jsxs("div",{className:"flex items-center gap-1.5 text-cyan-300 text-[10px] font-mono bg-cyan-950/50 px-3 py-1 rounded-full border border-cyan-500/30 shadow-[0_0_5px_rgba(34,211,238,0.1)]",children:[S.jsx(Xa,{className:"w-2.5 h-2.5 animate-spin"})," ..."]})]})]}),S.jsx("style",{children:`
        @keyframes shake { 
            0% { transform: translate(0.5px, 0.5px) rotate(0deg); }
            10% { transform: translate(-0.5px, -1px) rotate(-1deg); }
            20% { transform: translate(-1.5px, 0px) rotate(1deg); }
            30% { transform: translate(1.5px, 1px) rotate(0deg); }
            40% { transform: translate(0.5px, -0.5px) rotate(1deg); }
            50% { transform: translate(-0.5px, 1px) rotate(-1deg); }
            60% { transform: translate(-1.5px, 0.5px) rotate(0deg); }
            70% { transform: translate(1.5px, 0.5px) rotate(-1deg); }
            80% { transform: translate(-0.5px, -0.5px) rotate(1deg); }
            90% { transform: translate(0.5px, 1px) rotate(0deg); }
            100% { transform: translate(0.5px, -1px) rotate(-1deg); }
        }
        @keyframes scaleUp {
            0% { transform: scale(0.95); opacity: 0; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        .animate-shake { animation: shake 0.08s infinite; }
        .animate-scaleUp { animation: scaleUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
      `})]})},bm=({size:s="normal"})=>{const t="https://i.postimg.cc/CdywmBwL/logo-(1).png",i=s==="large"?"w-64 h-32 mb-8":"w-32 h-10";return S.jsxs("div",{className:`relative ${i} flex items-center justify-center`,children:[S.jsx("img",{src:t,alt:"Efaqa",className:"w-full h-full object-contain opacity-90 hover:opacity-100 transition-opacity drop-shadow-[0_0_15px_rgba(34,211,238,0.2)]",onError:a=>{a.target.style.display="none",a.target.nextSibling.style.display="flex"}}),S.jsxs("div",{className:"hidden w-full h-full items-center justify-center gap-2 bg-slate-900 rounded-lg border border-slate-800",children:[S.jsx(Iv,{className:"w-6 h-6 text-cyan-400"}),S.jsx("span",{className:"font-bold text-white tracking-wide",children:"EFAQA"})]})]})},dh=({children:s,onClick:t,disabled:i,icon:a,className:o="",variant:c="primary"})=>{const d="relative w-full flex items-center justify-center gap-2.5 font-bold text-sm py-3 px-5 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]",p={primary:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white shadow-lg shadow-cyan-900/20 border border-white/5",secondary:"bg-[#1E293B] hover:bg-[#334155] text-slate-300 hover:text-white border border-slate-700",danger:"bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20"};return S.jsxs("button",{onClick:t,disabled:i,className:`${d} ${p[c]} ${o}`,children:[a&&S.jsx(a,{className:"w-4 h-4"}),S.jsx("span",{children:s})]})},qa=({children:s,className:t="",title:i,icon:a,headerAction:o})=>S.jsxs("div",{className:`bg-[#0F172A] border border-slate-800/60 rounded-xl overflow-hidden shadow-xl ${t}`,children:[(i||a)&&S.jsxs("div",{className:"px-6 py-4 border-b border-slate-800/60 flex items-center justify-between bg-[#131C31]",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[a&&S.jsx("div",{className:"text-cyan-400",children:a}),S.jsx("h3",{className:"text-sm font-bold text-white tracking-wide",children:i})]}),o&&S.jsx("div",{children:o})]}),S.jsx("div",{className:"p-0",children:s})]}),Tv=({checked:s,onChange:t})=>S.jsx("button",{onClick:t,className:`w-11 h-6 rounded-full relative transition-colors duration-300 focus:outline-none ${s?"bg-cyan-600":"bg-slate-700"}`,children:S.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all duration-300 shadow-sm ${s?"left-[calc(100%-1.25rem)]":"left-1"}`})}),iN=()=>{const[s,t]=It.useState(!0),[i,a]=It.useState(""),[o,c]=It.useState(""),[d,p]=It.useState(!1),{addToast:y}=cp(),_=async A=>{A.preventDefault(),p(!0);try{s?(await _2(jo,i,o),y("   ","success")):(await y2(jo,i,o),y("   ","success"))}catch(R){y(R.message.replace("Firebase: ",""),"error")}finally{p(!1)}};return S.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[#020617] relative overflow-hidden",dir:"rtl",children:[S.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[400px] h-[400px] bg-cyan-600/10 rounded-full blur-[100px] pointer-events-none"}),S.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[400px] h-[400px] bg-blue-600/10 rounded-full blur-[100px] pointer-events-none"}),S.jsxs("div",{className:"w-full max-w-md bg-[#0F172A]/80 backdrop-blur-xl border border-slate-800 rounded-2xl p-8 shadow-2xl relative z-10",children:[S.jsxs("div",{className:"flex flex-col items-center mb-8",children:[S.jsx(bm,{size:"large"}),S.jsx("h2",{className:"text-xl font-bold text-white",children:s?" ":" "}),S.jsx("p",{className:"text-slate-400 text-xs mt-2",children:"    "})]}),S.jsxs("form",{onSubmit:_,className:"space-y-5",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:" "}),S.jsxs("div",{className:"relative",children:[S.jsx(Nv,{className:"absolute right-3 top-3 w-4 h-4 text-slate-500"}),S.jsx("input",{type:"email",required:!0,value:i,onChange:A=>a(A.target.value),className:"w-full bg-[#1E293B] border border-slate-700 focus:border-cyan-500 rounded-lg pr-10 pl-4 py-2.5 text-sm text-white placeholder-slate-500 focus:outline-none transition-all",placeholder:"name@example.com"})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:" "}),S.jsxs("div",{className:"relative",children:[S.jsx(Cv,{className:"absolute right-3 top-3 w-4 h-4 text-slate-500"}),S.jsx("input",{type:"password",required:!0,value:o,onChange:A=>c(A.target.value),className:"w-full bg-[#1E293B] border border-slate-700 focus:border-cyan-500 rounded-lg pr-10 pl-4 py-2.5 text-sm text-white placeholder-slate-500 focus:outline-none transition-all",placeholder:"",minLength:6})]})]}),S.jsx(dh,{type:"submit",disabled:d,icon:d?Xa:s?cA:Fc,className:d?"cursor-wait":"mt-4",children:d?" ...":s?" ":" "})]}),S.jsx("div",{className:"mt-8 pt-6 border-t border-slate-800 text-center",children:S.jsx("button",{onClick:()=>t(!s),className:"text-xs text-slate-400 hover:text-cyan-400 transition-colors font-medium",children:s?"     ":"    "})})]})]})},sN=({user:s})=>{const{addToast:t}=cp(),[i,a]=It.useState(!1),o=async()=>{a(!0);try{await g2(jo,s.email),t("   ","success")}catch{t("  ","error")}finally{a(!1)}};return S.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[S.jsx(qa,{title:" ",icon:S.jsx(Nv,{className:"w-4 h-4"}),children:S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1E293B]/50 rounded-lg border border-slate-700/50",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:"bg-slate-800 p-2.5 rounded-lg text-slate-300",children:S.jsx(dA,{className:"w-5 h-5"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold mb-0.5",children:" "}),S.jsx("div",{className:"text-sm text-white font-mono",children:s.email})]})]}),S.jsx("span",{className:"text-[10px] bg-emerald-500/10 text-emerald-400 px-2.5 py-1 rounded border border-emerald-500/20 font-bold",children:""})]}),S.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1E293B]/50 rounded-lg border border-slate-700/50",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:"bg-slate-800 p-2.5 rounded-lg text-slate-300",children:S.jsx(Cv,{className:"w-5 h-5"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold mb-0.5",children:""}),S.jsx("div",{className:"text-sm text-white",children:"**********"})]})]}),S.jsx("button",{onClick:o,disabled:i,className:"text-xs text-cyan-400 hover:text-cyan-300 font-bold disabled:opacity-50",children:i?" ...":" "})]})]})}),S.jsx(qa,{title:" ",icon:S.jsx(iA,{className:"w-4 h-4"}),children:S.jsxs("div",{className:"p-6",children:[S.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:"         .      ."}),S.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-800 flex gap-4 text-xs text-slate-600 font-mono",children:[S.jsx("span",{children:"Version 2.2.0 (Pro)"}),S.jsx("span",{children:""}),S.jsx("span",{children:"Secure Connection"})]})]})})]})},rN=({user:s,onLogout:t,children:i,activeTab:a,setActiveTab:o})=>{const[c,d]=It.useState(!1);return S.jsxs("div",{className:"flex min-h-screen bg-[#020617] text-slate-200 font-sans selection:bg-cyan-500/30",dir:"rtl",children:[S.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-[#0F172A] border-l border-slate-800 fixed h-full right-0 z-20",children:[S.jsx("div",{className:"h-20 flex items-center justify-center border-b border-slate-800",children:S.jsx(bm,{})}),S.jsxs("div",{className:"flex-1 py-6 px-4 space-y-2 overflow-y-auto",children:[S.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider px-2 mb-2",children:" "}),S.jsx(js,{active:a==="web",onClick:()=>o("web"),icon:Hc,label:" "}),S.jsx(js,{active:a==="apps",onClick:()=>o("apps"),icon:Zd,label:" "}),S.jsx(js,{active:a==="network",onClick:()=>o("network"),icon:G_,label:""}),S.jsx("div",{className:"my-6 border-t border-slate-800"}),S.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider px-2 mb-2",children:""}),S.jsx(js,{active:a==="settings",onClick:()=>o("settings"),icon:H_,label:""})]}),S.jsxs("div",{className:"p-4 border-t border-slate-800 bg-[#0B1120]",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3 px-2",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-cyan-500 to-blue-600 flex items-center justify-center text-xs font-bold text-white",children:s.email[0].toUpperCase()}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:"text-xs font-bold text-white truncate",children:s.email.split("@")[0]}),S.jsx("div",{className:"text-[10px] text-slate-500 truncate",children:"Pro Plan"})]})]}),S.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg bg-slate-800 hover:bg-red-900/20 hover:text-red-400 text-slate-400 text-xs font-bold transition-all",children:[S.jsx(q_,{className:"w-3 h-3"}),"  "]})]})]}),S.jsxs("div",{className:"md:hidden fixed top-0 w-full bg-[#0F172A] border-b border-slate-800 z-30 h-16 flex items-center justify-between px-4",children:[S.jsx(bm,{size:"normal"}),S.jsx("button",{onClick:()=>d(!c),className:"p-2 text-slate-400 hover:text-white",children:c?S.jsx(DA,{}):S.jsx(pA,{})})]}),c&&S.jsxs("div",{className:"md:hidden fixed inset-0 bg-[#020617] z-20 pt-20 px-4 space-y-2",children:[S.jsx(js,{active:a==="web",onClick:()=>{o("web"),d(!1)},icon:Hc,label:" "}),S.jsx(js,{active:a==="apps",onClick:()=>{o("apps"),d(!1)},icon:Zd,label:" "}),S.jsx(js,{active:a==="network",onClick:()=>{o("network"),d(!1)},icon:G_,label:""}),S.jsx(js,{active:a==="settings",onClick:()=>{o("settings"),d(!1)},icon:H_,label:""}),S.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 mt-4 text-red-400 font-bold bg-red-900/10 rounded-lg",children:[S.jsx(q_,{className:"w-5 h-5"}),"  "]})]}),S.jsxs("main",{className:"flex-1 md:mr-64 p-4 md:p-8 pt-20 md:pt-8 max-w-6xl mx-auto w-full",children:[i,S.jsx("footer",{className:"mt-12 py-6 border-t border-slate-800 text-center",children:S.jsx("p",{className:"text-[10px] text-slate-600 font-mono uppercase",children:" 2025 EFAQA PROJECT. ALL RIGHTS RESERVED."})})]})]})},js=({active:s,onClick:t,label:i,icon:a})=>a?S.jsxs("button",{onClick:t,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${s?"bg-gradient-to-r from-cyan-900/20 to-transparent text-cyan-400 border-r-2 border-cyan-500":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[S.jsx(a,{className:`w-5 h-5 ${s?"text-cyan-400":"text-slate-500"}`}),S.jsx("span",{children:i})]}):null;function aN(){return S.jsx(eN,{children:S.jsx(lN,{})})}function lN(){const[s,t]=It.useState(null),[i,a]=It.useState(!0),[o,c]=It.useState("web"),[d,p]=It.useState(null),[y,_]=It.useState(!1),[A,R]=It.useState(!1),{addToast:V}=cp();It.useEffect(()=>{const b=T2(jo,w=>{t(w),a(!1)});return()=>b()},[]),It.useEffect(()=>{if(!s)return;const b=$x(Xd($d,"profiles",s.uid),w=>{if(w.exists())p(w.data());else{const O={stableId:qc(),adultFilterEnabled:!0,blockedSites:[],blockedApps:[],vpnBlockEnabled:!1};vv(Xd($d,"profiles",s.uid),O),p(O)}});return()=>b()},[s]);const H=async b=>{if(s){_(!0),p(b);try{await vv(Xd($d,"profiles",s.uid),b,{merge:!0})}catch{V("     ","error")}finally{setTimeout(()=>_(!1),800)}}},Z=()=>{H({...d,adultFilterEnabled:!d.adultFilterEnabled}),V("  ","success")},nt=()=>{const b=!d.vpnBlockEnabled;H({...d,vpnBlockEnabled:b}),V(b?"   VPN":"   VPN","success")},J=b=>{const O=(Array.isArray(b)?b:[b]).filter(N=>N&&!d.blockedSites.includes(N));O.length>0&&(H({...d,blockedSites:[...d.blockedSites,...O]}),V(`  ${O.length} `,"success"))},ct=b=>{H({...d,blockedSites:d.blockedSites.filter(w=>w!==b)})},yt=()=>{if(!d.blockedSites)return;const b=[...new Set(d.blockedSites)];b.length<d.blockedSites.length?(H({...d,blockedSites:b}),V("  ","success")):V(" ","success")},dt=b=>{const w=Array.isArray(b)?b:[b],O=d.blockedApps||[],N=w.filter(P=>!O.find(I=>I.bundleId===P.bundleId));N.length>0&&(H({...d,blockedApps:[...O,...N]}),V(`  ${N.length} `,"success"))},Lt=b=>{const w=d.blockedApps||[];H({...d,blockedApps:w.filter(O=>O.bundleId!==b)})},Ft=()=>{const b=d.blockedApps||[],w=[],O=new Map;for(const N of b)O.has(N.bundleId)||(O.set(N.bundleId,!0),w.push(N));w.length<b.length?(H({...d,blockedApps:w}),V("  ","success")):V(" ","success")},rt=()=>R(!0),C=()=>{const b=tN({email:s.email},d),w=document.createElement("a");w.href=URL.createObjectURL(new Blob([b],{type:"application/x-apple-aspen-config; charset=utf-8"})),w.download=`Efaqa_${s.email.split("@")[0]}.mobileconfig`,w.click(),R(!1),V("  ","success")};return i?S.jsx("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center",children:S.jsx(Xa,{className:"w-8 h-8 text-cyan-500 animate-spin"})}):s?d?S.jsxs(S.Fragment,{children:[A&&S.jsx(nN,{onComplete:C}),S.jsxs(rN,{user:s,onLogout:()=>b2(jo),activeTab:o,setActiveTab:c,children:[S.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:" "}),S.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[S.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-green-900/20 border border-green-900/30 text-green-400 text-xs font-bold",children:[S.jsx(Yb,{className:"w-3 h-3"}),S.jsx("span",{children:" "})]}),y&&S.jsxs("span",{className:"text-cyan-400 flex items-center gap-1 text-xs animate-pulse",children:[S.jsx(Xa,{className:"w-3 h-3 animate-spin"}),"  ..."]})]})]}),S.jsx("div",{className:"flex gap-3 w-full md:w-auto",children:S.jsx(dh,{onClick:rt,icon:Wb,children:"  "})})]}),S.jsxs("div",{className:"space-y-6",children:[o==="web"&&S.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[S.jsx(qa,{title:" ",icon:S.jsx(Iv,{className:"w-4 h-4"}),headerAction:S.jsx(Tv,{checked:d.adultFilterEnabled,onChange:Z}),children:S.jsx("div",{className:"p-6 bg-[#1E293B]/20",children:S.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:"              .      ."})})}),S.jsxs(qa,{title:" ",icon:S.jsx(lA,{className:"w-4 h-4"}),headerAction:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{onClick:yt,className:"text-[10px] text-slate-500 hover:text-cyan-400 transition-colors",children:" "}),S.jsx("span",{className:"text-xs text-slate-300 bg-slate-800 px-2.5 py-1 rounded font-mono border border-slate-700",children:d.blockedSites.length})]}),children:[S.jsx("div",{className:"p-6 border-b border-slate-800/60 bg-[#1E293B]/30",children:S.jsx(uN,{onAdd:J})}),S.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar p-0 bg-[#0F172A]",children:d.blockedSites.length===0?S.jsxs("div",{className:"py-16 text-center",children:[S.jsx("div",{className:"bg-slate-800/50 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:S.jsx(Hc,{className:"w-6 h-6 text-slate-600"})}),S.jsx("p",{className:"text-slate-500 text-sm",children:" "})]}):S.jsx("div",{className:"divide-y divide-slate-800/60",children:d.blockedSites.map((b,w)=>S.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-800/30 transition-colors group",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500/50"}),S.jsx("span",{className:"text-sm text-slate-300 font-mono",children:b})]}),S.jsx("button",{onClick:()=>ct(b),className:"text-slate-600 hover:text-red-400 transition-colors p-2 rounded hover:bg-red-900/10",children:S.jsx(F_,{className:"w-4 h-4"})})]},w))})})]})]}),o==="apps"&&S.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[S.jsx(oN,{onAddApp:dt}),S.jsx(qa,{title:" ",icon:S.jsx($b,{className:"w-4 h-4"}),headerAction:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{onClick:Ft,className:"text-[10px] text-slate-500 hover:text-cyan-400 transition-colors",children:" "}),S.jsx("span",{className:"text-xs text-slate-300 bg-slate-800 px-2.5 py-1 rounded font-mono border border-slate-700",children:d.blockedApps?d.blockedApps.length:0})]}),children:S.jsx("div",{className:"max-h-[500px] overflow-y-auto custom-scrollbar bg-[#0F172A]",children:!d.blockedApps||d.blockedApps.length===0?S.jsxs("div",{className:"py-16 text-center",children:[S.jsx("div",{className:"bg-slate-800/50 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:S.jsx(Zd,{className:"w-6 h-6 text-slate-600"})}),S.jsx("p",{className:"text-slate-500 text-sm",children:"    "})]}):S.jsx("div",{className:"divide-y divide-slate-800/60",children:d.blockedApps.map((b,w)=>S.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-800/30 transition-colors group",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("img",{src:b.icon,alt:"",className:"w-10 h-10 rounded-lg bg-slate-800 border border-slate-700 shadow-sm"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm text-slate-200 font-bold",children:b.name}),S.jsx("div",{className:"text-[10px] text-slate-500 font-mono mt-0.5",children:b.bundleId})]})]}),S.jsx("button",{onClick:()=>Lt(b.bundleId),className:"text-slate-600 hover:text-red-400 transition-colors p-2 rounded hover:bg-red-900/10",children:S.jsx(F_,{className:"w-4 h-4"})})]},w))})})})]}),o==="settings"&&S.jsx(sN,{user:s}),o==="network"&&S.jsx("div",{className:"space-y-6 animate-fadeIn",children:S.jsx(qa,{title:"  VPN",icon:S.jsx(vA,{className:"w-4 h-4"}),headerAction:S.jsx(Tv,{checked:d.vpnBlockEnabled||!1,onChange:nt}),children:S.jsxs("div",{className:"p-6 bg-[#1E293B]/20",children:[S.jsx("p",{className:"text-sm text-slate-400 leading-relaxed mb-4",children:"         VPN   .           VPN."}),S.jsx("div",{className:`p-4 rounded-lg border ${d.vpnBlockEnabled?"bg-red-900/10 border-red-500/30":"bg-slate-800/30 border-slate-700/50"}`,children:S.jsx("div",{className:"flex items-center gap-3",children:d.vpnBlockEnabled?S.jsxs(S.Fragment,{children:[S.jsx(xv,{className:"w-5 h-5 text-red-400"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-bold text-red-400",children:" VPN "}),S.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:"    VPN "})]})]}):S.jsxs(S.Fragment,{children:[S.jsx(wv,{className:"w-5 h-5 text-slate-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-bold text-slate-400",children:" VPN  "}),S.jsx("div",{className:"text-xs text-slate-600 mt-0.5",children:"   VPN"})]})]})})})]})})})]})]})]}):S.jsx("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center text-slate-500 text-sm",children:" ..."}):S.jsx(iN,{})}const bv=async(s,t=5)=>{const i=`https://itunes.apple.com/search?term=${encodeURIComponent(s)}&entity=software&limit=${t}`,a=async c=>{try{const d=await fetch(c);if(d.status===429)throw new Error("429");if(!d.ok)return null;const p=await d.text();if(!p)return null;try{return JSON.parse(p)}catch{return null}}catch{return null}};let o=await a(`https://corsproxy.io/?${encodeURIComponent(i)}`);return o||(await new Promise(c=>setTimeout(c,1e3)),o=await a(`https://api.allorigins.win/raw?url=${encodeURIComponent(i)}`)),o?o.results||[]:[]},oN=({onAddApp:s})=>{const[t,i]=It.useState(""),[a,o]=It.useState([]),[c,d]=It.useState(!1),[p,y]=It.useState(!1),[_,A]=It.useState(""),[R,V]=It.useState([]),[H,Z]=It.useState(!1),[nt,J]=It.useState({}),[ct,yt]=It.useState({current:0,total:0});It.useEffect(()=>{if(p)return;const rt=setTimeout(async()=>{if(t.length>2){d(!0);const C=await bv(t,5);o(C),d(!1)}else o([])},500);return()=>clearTimeout(rt)},[t,p]);const dt=async()=>{if(!_.trim())return;d(!0);const rt=_.split(/\n/).map(N=>N.trim()).filter(N=>N.length>0),C=[],b=5;yt({current:0,total:rt.length});for(let N=0;N<rt.length;N+=b){const I=rt.slice(N,N+b).map(async ne=>{const F=await bv(ne,1);return{term:ne,result:F.length>0?F[0]:null}}),ee=await Promise.all(I);C.push(...ee),yt(ne=>({...ne,current:Math.min(N+b,rt.length)})),N+b<rt.length&&await new Promise(ne=>setTimeout(ne,2e4))}const w=C.filter(N=>N.result!==null);V(w);const O={};w.forEach((N,P)=>{O[P]=!0}),J(O),Z(!0),d(!1)},Lt=()=>{const rt=R.filter((C,b)=>nt[b]).map(C=>({name:C.result.trackName,icon:C.result.artworkUrl60,bundleId:C.result.bundleId}));rt.length>0&&s(rt),y(!1),Z(!1),A(""),V([])},Ft=rt=>{J(C=>({...C,[rt]:!C[rt]}))};return S.jsxs("div",{className:"w-full mb-6",children:[S.jsxs("div",{className:"flex justify-between items-end mb-3",children:[S.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[S.jsx(Pd,{className:"w-4 h-4 text-cyan-500"}),"   "]}),S.jsx("button",{onClick:()=>{y(!p),i(""),A(""),Z(!1)},className:"text-[10px] text-slate-500 hover:text-cyan-400 transition-colors flex items-center gap-1",children:p?" ":S.jsxs(S.Fragment,{children:[S.jsx(Rv,{className:"w-3 h-3"}),"  "]})})]}),p?S.jsx("div",{className:"bg-[#0F172A] border border-slate-800 rounded-xl p-5 shadow-lg",children:H?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-slate-800 pb-2",children:[S.jsxs("span",{className:"text-xs text-white font-bold",children:[" (",R.length,")"]}),S.jsx("button",{onClick:()=>Z(!1),className:"text-[10px] text-slate-500 hover:text-white",children:""})]}),S.jsx("div",{className:"max-h-[250px] overflow-y-auto custom-scrollbar mb-4 space-y-1 pr-1",children:R.map((rt,C)=>S.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-slate-800/30 border border-slate-800/50",children:[S.jsx("button",{onClick:()=>Ft(C),className:"text-cyan-500",children:nt[C]?S.jsx(AA,{className:"w-4 h-4"}):S.jsx(wA,{className:"w-4 h-4 text-slate-600"})}),S.jsx("img",{src:rt.result.artworkUrl60,alt:"",className:"w-8 h-8 rounded bg-slate-900"}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:"text-xs text-white truncate font-bold",children:rt.result.trackName}),S.jsxs("div",{className:"text-[10px] text-slate-500",children:[" : ",rt.term]})]})]},C))}),S.jsx(dh,{onClick:Lt,disabled:R.length===0,icon:Fc,children:" "})]}):S.jsxs(S.Fragment,{children:[S.jsx("textarea",{value:_,onChange:rt=>A(rt.target.value),placeholder:`PUBG
TikTok
Snapchat`,className:"w-full bg-[#020617] border border-slate-800 rounded-lg py-3 px-4 text-white placeholder-slate-600 focus:outline-none focus:border-cyan-500/50 text-xs min-h-[120px] resize-y mb-4 font-mono",dir:"ltr"}),S.jsx(dh,{onClick:dt,disabled:c||!_.trim(),icon:c?Xa:Pd,className:c?"cursor-wait":"",children:c?`  (${ct.current}/${ct.total})...`:"  ( 100%)"})]})}):S.jsxs("div",{className:"relative",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:c?S.jsx(Xa,{className:"h-4 w-4 text-cyan-500 animate-spin"}):S.jsx(Pd,{className:"h-4 w-4 text-slate-500"})}),S.jsx("input",{type:"text",value:t,onChange:rt=>i(rt.target.value),placeholder:"  (: Instagram)...",className:"w-full bg-[#0F172A] border border-slate-800 rounded-lg py-3.5 pr-10 pl-4 text-white placeholder-slate-600 focus:outline-none focus:border-cyan-500/50 text-sm shadow-sm"})]}),a.length>0&&!p&&S.jsx("div",{className:"absolute top-full mt-2 w-full bg-[#0F172A] border border-slate-800 rounded-xl shadow-2xl z-50 overflow-hidden",children:a.map(rt=>S.jsxs("button",{onClick:()=>{s({name:rt.trackName,icon:rt.artworkUrl60,bundleId:rt.bundleId}),i(""),o([])},className:"w-full flex items-center gap-3 p-3 hover:bg-slate-800 transition-colors text-right group border-b border-slate-800/50 last:border-0",children:[S.jsx("img",{src:rt.artworkUrl60,alt:rt.trackName,className:"w-10 h-10 rounded-lg bg-slate-900"}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:"text-sm text-white font-bold truncate",children:rt.trackName}),S.jsx("div",{className:"text-[10px] text-slate-500 font-mono truncate",children:rt.bundleId})]}),S.jsx(Fc,{className:"w-4 h-4 text-slate-600 group-hover:text-cyan-500 transition-colors"})]},rt.trackId))})]})]})},uN=({onAdd:s})=>{const[t,i]=It.useState(""),[a,o]=It.useState(!1),c=d=>{if(d.preventDefault(),!t.trim())return;const p=y=>{let _=y.trim().toLowerCase().replace(/^(?:https?:\/\/)?/i,"").replace(/^(?:www\.)?/i,"").split("/")[0];return _&&_.length>3&&_.includes(".")?_:null};if(a){const y=t.split(/\n/).map(p).filter(Boolean);y.length>0&&s(y)}else{const y=p(t);y&&s(y)}i(""),o(!1)};return S.jsxs("div",{className:"w-full",children:[S.jsx("div",{className:"flex justify-end mb-2",children:S.jsx("button",{type:"button",onClick:()=>{o(!a),i("")},className:"text-[10px] text-slate-500 hover:text-white transition-colors flex items-center gap-1",children:a?" ":S.jsxs(S.Fragment,{children:[S.jsx(Rv,{className:"w-3 h-3"}),"  "]})})}),S.jsxs("form",{onSubmit:c,className:"relative",children:[a?S.jsx("textarea",{value:t,onChange:d=>i(d.target.value),placeholder:`facebook.com
tiktok.com`,className:"w-full bg-[#020617] border border-slate-800 rounded-lg py-3 px-4 text-white placeholder-slate-600 focus:outline-none focus:border-cyan-500/50 text-sm min-h-[100px] font-mono",dir:"ltr"}):S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:S.jsx(Hc,{className:"h-4 w-4 text-slate-600"})}),S.jsx("input",{type:"text",value:t,onChange:d=>i(d.target.value),placeholder:"  (facebook.com)",className:"w-full bg-[#020617] border border-slate-800 rounded-lg py-3 pr-10 pl-20 text-white placeholder-slate-600 focus:outline-none focus:border-cyan-500/50 text-sm font-mono"})]}),S.jsxs("button",{type:"submit",disabled:!t.trim(),className:`absolute left-1.5 ${a?"bottom-3":"top-1.5 bottom-1.5"} bg-slate-800 hover:bg-slate-700 disabled:opacity-0 text-white px-3 rounded-md text-xs font-bold transition-all flex items-center gap-1 border border-slate-700`,children:[S.jsx(Fc,{className:"w-3 h-3"})," "]})]})]})};Bb.createRoot(document.getElementById("root")).render(S.jsx(It.StrictMode,{children:S.jsx(aN,{})}));
