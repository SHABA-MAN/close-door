(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Ob(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Dd={exports:{}},po={};var V_;function Mb(){if(V_)return po;V_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return po.Fragment=e,po.jsx=i,po.jsxs=i,po}var k_;function Vb(){return k_||(k_=1,Dd.exports=Mb()),Dd.exports}var b=Vb(),Od={exports:{}},Te={};var P_;function kb(){if(P_)return Te;P_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),P=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=P&&O[P]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function ue(O,Y,ne){this.props=O,this.context=Y,this.refs=J,this.updater=ne||Z}ue.prototype.isReactComponent={},ue.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ue.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function pe(){}pe.prototype=ue.prototype;function fe(O,Y,ne){this.props=O,this.context=Y,this.refs=J,this.updater=ne||Z}var Be=fe.prototype=new pe;Be.constructor=fe,W(Be,ue.prototype),Be.isPureReactComponent=!0;var Qe=Array.isArray;function Ce(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(O,Y,ne){var se=ne.ref;return{$$typeof:s,type:O,key:Y,ref:se!==void 0?se:null,props:ne}}function V(O,Y){return I(O.type,Y,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function M(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return Y[ne]})}var A=/\/+/g;function le(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):Y.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ce,Ce):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,Y,ne,se,_e){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(we){case"bigint":case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case s:case e:je=!0;break;case S:return je=O._init,B(je(O._payload),Y,ne,se,_e)}}if(je)return _e=_e(O),je=se===""?"."+le(O,0):se,Qe(_e)?(ne="",je!=null&&(ne=je.replace(A,"$&/")+"/"),B(_e,Y,ne,"",function(ir){return ir})):_e!=null&&(C(_e)&&(_e=V(_e,ne+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(A,"$&/")+"/")+je)),Y.push(_e)),1;je=0;var xt=se===""?".":se+":";if(Qe(O))for(var at=0;at<O.length;at++)se=O[at],we=xt+le(se,at),je+=B(se,Y,ne,we,_e);else if(at=F(O),typeof at=="function")for(O=at.call(O),at=0;!(se=O.next()).done;)se=se.value,we=xt+le(se,at++),je+=B(se,Y,ne,we,_e);else if(we==="object"){if(typeof O.then=="function")return B(Ie(O),Y,ne,se,_e);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return je}function te(O,Y,ne){if(O==null)return O;var se=[],_e=0;return B(O,se,"","",function(we){return Y.call(ne,we,_e++)}),se}function oe(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},De={map:te,forEach:function(O,Y,ne){te(O,function(){Y.apply(this,arguments)},ne)},count:function(O){var Y=0;return te(O,function(){Y++}),Y},toArray:function(O){return te(O,function(Y){return Y})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Te.Activity=w,Te.Children=De,Te.Component=ue,Te.Fragment=i,Te.Profiler=o,Te.PureComponent=fe,Te.StrictMode=a,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Te.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Te.cache=function(O){return function(){return O.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(O,Y,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=W({},O.props),_e=O.key;if(Y!=null)for(we in Y.key!==void 0&&(_e=""+Y.key),Y)!R.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(se[we]=Y[we]);var we=arguments.length-2;if(we===1)se.children=ne;else if(1<we){for(var je=Array(we),xt=0;xt<we;xt++)je[xt]=arguments[xt+2];se.children=je}return I(O.type,_e,se)},Te.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Te.createElement=function(O,Y,ne){var se,_e={},we=null;if(Y!=null)for(se in Y.key!==void 0&&(we=""+Y.key),Y)R.call(Y,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(_e[se]=Y[se]);var je=arguments.length-2;if(je===1)_e.children=ne;else if(1<je){for(var xt=Array(je),at=0;at<je;at++)xt[at]=arguments[at+2];_e.children=xt}if(O&&O.defaultProps)for(se in je=O.defaultProps,je)_e[se]===void 0&&(_e[se]=je[se]);return I(O,we,_e)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(O){return{$$typeof:p,render:O}},Te.isValidElement=C,Te.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:oe}},Te.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},Te.startTransition=function(O){var Y=N.T,ne={};N.T=ne;try{var se=O(),_e=N.S;_e!==null&&_e(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ce,Le)}catch(we){Le(we)}finally{Y!==null&&ne.types!==null&&(Y.types=ne.types),N.T=Y}},Te.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Te.use=function(O){return N.H.use(O)},Te.useActionState=function(O,Y,ne){return N.H.useActionState(O,Y,ne)},Te.useCallback=function(O,Y){return N.H.useCallback(O,Y)},Te.useContext=function(O){return N.H.useContext(O)},Te.useDebugValue=function(){},Te.useDeferredValue=function(O,Y){return N.H.useDeferredValue(O,Y)},Te.useEffect=function(O,Y){return N.H.useEffect(O,Y)},Te.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Te.useId=function(){return N.H.useId()},Te.useImperativeHandle=function(O,Y,ne){return N.H.useImperativeHandle(O,Y,ne)},Te.useInsertionEffect=function(O,Y){return N.H.useInsertionEffect(O,Y)},Te.useLayoutEffect=function(O,Y){return N.H.useLayoutEffect(O,Y)},Te.useMemo=function(O,Y){return N.H.useMemo(O,Y)},Te.useOptimistic=function(O,Y){return N.H.useOptimistic(O,Y)},Te.useReducer=function(O,Y,ne){return N.H.useReducer(O,Y,ne)},Te.useRef=function(O){return N.H.useRef(O)},Te.useState=function(O){return N.H.useState(O)},Te.useSyncExternalStore=function(O,Y,ne){return N.H.useSyncExternalStore(O,Y,ne)},Te.useTransition=function(){return N.H.useTransition()},Te.version="19.2.0",Te}var L_;function wm(){return L_||(L_=1,Od.exports=kb()),Od.exports}var ve=wm();const wv=Ob(ve);var Md={exports:{}},go={},Vd={exports:{}},kd={};var U_;function Pb(){return U_||(U_=1,(function(s){function e(B,te){var oe=B.length;B.push(te);e:for(;0<oe;){var Le=oe-1>>>1,De=B[Le];if(0<o(De,te))B[Le]=te,B[oe]=De,oe=Le;else break e}}function i(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var te=B[0],oe=B.pop();if(oe!==te){B[0]=oe;e:for(var Le=0,De=B.length,O=De>>>1;Le<O;){var Y=2*(Le+1)-1,ne=B[Y],se=Y+1,_e=B[se];if(0>o(ne,oe))se<De&&0>o(_e,ne)?(B[Le]=_e,B[se]=oe,Le=se):(B[Le]=ne,B[Y]=oe,Le=Y);else if(se<De&&0>o(_e,oe))B[Le]=_e,B[se]=oe,Le=se;else break e}}return te}function o(B,te){var oe=B.sortIndex-te.sortIndex;return oe!==0?oe:B.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],S=1,w=null,P=3,F=!1,Z=!1,W=!1,J=!1,ue=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function Be(B){for(var te=i(_);te!==null;){if(te.callback===null)a(_);else if(te.startTime<=B)a(_),te.sortIndex=te.expirationTime,e(y,te);else break;te=i(_)}}function Qe(B){if(W=!1,Be(B),!Z)if(i(y)!==null)Z=!0,Ce||(Ce=!0,M());else{var te=i(_);te!==null&&Ie(Qe,te.startTime-B)}}var Ce=!1,N=-1,R=5,I=-1;function V(){return J?!0:!(s.unstable_now()-I<R)}function C(){if(J=!1,Ce){var B=s.unstable_now();I=B;var te=!0;try{e:{Z=!1,W&&(W=!1,pe(N),N=-1),F=!0;var oe=P;try{t:{for(Be(B),w=i(y);w!==null&&!(w.expirationTime>B&&V());){var Le=w.callback;if(typeof Le=="function"){w.callback=null,P=w.priorityLevel;var De=Le(w.expirationTime<=B);if(B=s.unstable_now(),typeof De=="function"){w.callback=De,Be(B),te=!0;break t}w===i(y)&&a(y),Be(B)}else a(y);w=i(y)}if(w!==null)te=!0;else{var O=i(_);O!==null&&Ie(Qe,O.startTime-B),te=!1}}break e}finally{w=null,P=oe,F=!1}te=void 0}}finally{te?M():Ce=!1}}}var M;if(typeof fe=="function")M=function(){fe(C)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,le=A.port2;A.port1.onmessage=C,M=function(){le.postMessage(null)}}else M=function(){ue(C,0)};function Ie(B,te){N=ue(function(){B(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_next=function(B){switch(P){case 1:case 2:case 3:var te=3;break;default:te=P}var oe=P;P=te;try{return B()}finally{P=oe}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(B,te){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=P;P=B;try{return te()}finally{P=oe}},s.unstable_scheduleCallback=function(B,te,oe){var Le=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Le+oe:Le):oe=Le,B){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=oe+De,B={id:S++,callback:te,priorityLevel:B,startTime:oe,expirationTime:De,sortIndex:-1},oe>Le?(B.sortIndex=oe,e(_,B),i(y)===null&&B===i(_)&&(W?(pe(N),N=-1):W=!0,Ie(Qe,oe-Le))):(B.sortIndex=De,e(y,B),Z||F||(Z=!0,Ce||(Ce=!0,M()))),B},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(B){var te=P;return function(){var oe=P;P=te;try{return B.apply(this,arguments)}finally{P=oe}}}})(kd)),kd}var j_;function Lb(){return j_||(j_=1,Vd.exports=Pb()),Vd.exports}var Pd={exports:{}},Yt={};var z_;function Ub(){if(z_)return Yt;z_=1;var s=wm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,S)},Yt.flushSync=function(y){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=S,a.d.f()}},Yt.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Yt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Yt.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin),P=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:P,fetchPriority:F}):S==="script"&&a.d.X(y,{crossOrigin:w,integrity:P,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Yt.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Yt.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin);a.d.L(y,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Yt.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Yt.requestFormReset=function(y){a.d.r(y)},Yt.unstable_batchedUpdates=function(y,_){return y(_)},Yt.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.0",Yt}var B_;function jb(){if(B_)return Pd.exports;B_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=Ub(),Pd.exports}var q_;function zb(){if(q_)return go;q_=1;var s=Lb(),e=wm(),i=jb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,l=f;break}if(E===l){g=!0,l=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,l=h;break}if(E===l){g=!0,l=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,P=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Qe=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ue:return"Profiler";case J:return"StrictMode";case Qe:return"Suspense";case Ce:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case fe:return t.displayName||"Context";case pe:return(t._context.displayName||"Context")+".Consumer";case Be:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:le(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return le(t(n))}catch{}}return null}var Ie=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Le=[],De=-1;function O(t){return{current:t}}function Y(t){0>De||(t.current=Le[De],Le[De]=null,De--)}function ne(t,n){De++,Le[De]=t.current,t.current=n}var se=O(null),_e=O(null),we=O(null),je=O(null);function xt(t,n){switch(ne(we,n),ne(_e,t),ne(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?i_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=i_(n),t=s_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(se),ne(se,t)}function at(){Y(se),Y(_e),Y(we)}function ir(t){t.memoizedState!==null&&ne(je,t);var n=se.current,r=s_(n,t.type);n!==r&&(ne(_e,t),ne(se,r))}function Xr(t){_e.current===t&&(Y(se),Y(_e)),je.current===t&&(Y(je),co._currentValue=oe)}var $r,Zr;function Jn(t){if($r===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);$r=n&&n[1]||"",Zr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+t+Zr}var cl=!1;function sr(t,n){if(!t||cl)return"";cl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var z=H}Reflect.construct(t,[],K)}else{try{K.call()}catch(H){z=H}t.call(K.prototype)}}else{try{throw Error()}catch(H){z=H}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),j=E.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===j.length)for(l=x.length-1,h=j.length-1;1<=l&&0<=h&&x[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==j[h]){var G=`
`+x[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Jn(r):""}function hl(t,n){switch(t.tag){case 26:case 27:case 5:return Jn(t.type);case 16:return Jn("Lazy");case 13:return t.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return sr(t.type,!1);case 11:return sr(t.type.render,!1);case 1:return sr(t.type,!0);case 31:return Jn("Activity");default:return""}}function fl(t){try{var n="",r=null;do n+=hl(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Nt=s.unstable_scheduleCallback,rs=s.unstable_cancelCallback,Oh=s.unstable_shouldYield,Zo=s.unstable_requestPaint,Wt=s.unstable_now,rr=s.unstable_getCurrentPriorityLevel,dl=s.unstable_ImmediatePriority,ml=s.unstable_UserBlockingPriority,as=s.unstable_NormalPriority,Mh=s.unstable_LowPriority,Jo=s.unstable_IdlePriority,Wo=s.log,eu=s.unstable_setDisableYieldValue,Ln=null,jt=null;function Tn(t){if(typeof Wo=="function"&&eu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Ln,t)}catch{}}var dt=Math.clz32?Math.clz32:nu,tu=Math.log,Jr=Math.LN2;function nu(t){return t>>>=0,t===0?32:31-(tu(t)/Jr|0)|0}var Wn=256,ar=262144,vt=4194304;function ei(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ei(l):(g&=E,g!==0?h=ei(g):r||(r=E&~t,r!==0&&(h=ei(r))))):(E=l&~f,E!==0?h=ei(E):g!==0?h=ei(g):r||(r=l&~t,r!==0&&(h=ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ni(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function lr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(r=g&~r;0<r;){var G=31-dt(r),K=1<<G;E[G]=0,x[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}r&=~K}l!==0&&or(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function or(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-dt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function pl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-dt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function gl(t,n){var r=n&-n;return r=(r&42)!==0?1:ur(r),(r&(t.suspendedLanes|n))!==0?0:r}function ur(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function su(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:C_(t.type))}function jn(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var zn=Math.random().toString(36).slice(2),Et="__reactFiber$"+zn,Vt="__reactProps$"+zn,ii="__reactContainer$"+zn,Wr="__reactEvents$"+zn,Ph="__reactListeners$"+zn,ru="__reactHandles$"+zn,au="__reactResources$"+zn,si="__reactMarker$"+zn;function ea(t){delete t[Et],delete t[Vt],delete t[Wr],delete t[Ph],delete t[ru]}function ri(t){var n=t[Et];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ii]||r[Et]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=h_(t);t!==null;){if(r=t[Et])return r;t=h_(t)}return n}t=r,r=t.parentNode}return null}function bn(t){if(t=t[Et]||t[ii]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ai(t){var n=t[au];return n||(n=t[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[si]=!0}var yl=new Set,_l={};function li(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(_l[t]=n,t=0;t<n.length;t++)yl.add(n[t])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function lu(t){return _t.call(Tl,t)?!0:_t.call(El,t)?!1:vl.test(t)?Tl[t]=!0:(El[t]=!0,!1)}function ta(t,n,r){if(lu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function dn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function bt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ls(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ye(t){if(!t._valueTracker){var n=ls(t)?"checked":"value";t._valueTracker=bl(t,n,""+t[n])}}function cr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ls(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hr=/[\n"\\]/g;function nn(t){return t.replace(hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(t,n,r,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+kt(n)):t.value!==""+kt(n)&&(t.value=""+kt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Sl(t,g,kt(n)):r!=null?Sl(t,g,kt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+kt(E):t.removeAttribute("name")}function ou(t,n,r,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ye(t);return}r=r!=null?""+kt(r):"",n=n!=null?""+kt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ye(t)}function Sl(t,n,r){n==="number"&&ui(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function os(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+kt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function uu(t,n,r){if(n!=null&&(n=""+kt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+kt(r):""}function us(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=kt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Ye(t)}function sn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function wl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Al(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Al(t,f,n[f])}function ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return cs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var Rl=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hs=null,ci=null;function fr(t){var n=bn(t);if(n&&(t=n.stateNode)){var r=t[Vt]||null;e:switch(t=n.stateNode,n.type){case"input":if(na(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Vt]||null;if(!h)throw Error(a(90));na(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&cr(l)}break e;case"textarea":uu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&os(t,!!r.multiple,n,!1)}}}var ra=!1;function fs(t,n,r){if(ra)return t(n,r);ra=!0;try{var l=t(n);return l}finally{if(ra=!1,(hs!==null||ci!==null)&&(sc(),hs&&(n=hs,t=ci,ci=hs=null,fr(n),t)))for(n=0;n<t.length;n++)fr(t[n])}}function qn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Vt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(An)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{dr=!1}var hi=null,Cl=null,mr=null;function Il(){if(mr)return mr;var t,n=Cl,r=n.length,l,h="value"in hi?hi.value:hi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return mr=h.slice(t,1<l?1-l:void 0)}function pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ni(){return!0}function Hn(){return!1}function zt(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:Hn,this.isPropagationStopped=Hn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=zt(Di),ds=w({},Di,{view:0,detail:0}),xl=zt(ds),ms,aa,di,la=w({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(ms=t.screenX-di.screenX,aa=t.screenY-di.screenY):aa=ms=0,di=t),ms)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),Nl=zt(la),gr=w({},la,{dataTransfer:0}),fu=zt(gr),du=w({},ds,{relatedTarget:0}),yr=zt(du),Dl=w({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=zt(Dl),oa=w({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pu=zt(oa),gu=w({},Di,{data:0}),mi=zt(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=vu[t])?!!n[t]:!1}function ps(){return Eu}var en=w({},ds,{key:function(t){if(t.key){var n=yu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(t){return t.type==="keypress"?pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tu=zt(en),bu=w({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=zt(bu),u=w({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),m=zt(u),v=w({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=zt(v),L=w({},la,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=zt(L),ee=w({},Di,{newState:0,oldState:0}),Se=zt(ee),mt=[9,13,27,32],Fe=An&&"CompositionEvent"in window,lt=null;An&&"documentMode"in document&&(lt=document.documentMode);var wn=An&&"TextEvent"in window&&!lt,pi=An&&(!Fe||lt&&8<lt&&11>=lt),Fn=" ",Gn=!1;function _r(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function n1(t,n){switch(t){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Gn=!0,Fn);case"textInput":return t=n.data,t===Fn&&Gn?null:t;default:return null}}function i1(t,n){if(ca)return t==="compositionend"||!Fe&&_r(t,n)?(t=Il(),mr=Cl=hi=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var s1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!s1[t.type]:n==="textarea"}function pp(t,n,r,l){hs?ci?ci.push(l):ci=[l]:hs=l,n=hc(n,"onChange"),0<n.length&&(r=new fi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ol=null,Ml=null;function r1(t){Zy(t,0)}function Su(t){var n=fn(t);if(cr(n))return t}function gp(t,n){if(t==="change")return n}var yp=!1;if(An){var Lh;if(An){var Uh="oninput"in document;if(!Uh){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),Uh=typeof _p.oninput=="function"}Lh=Uh}else Lh=!1;yp=Lh&&(!document.documentMode||9<document.documentMode)}function vp(){Ol&&(Ol.detachEvent("onpropertychange",Ep),Ml=Ol=null)}function Ep(t){if(t.propertyName==="value"&&Su(Ml)){var n=[];pp(n,Ml,t,Sn(t)),fs(r1,n)}}function a1(t,n,r){t==="focusin"?(vp(),Ol=n,Ml=r,Ol.attachEvent("onpropertychange",Ep)):t==="focusout"&&vp()}function l1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Ml)}function o1(t,n){if(t==="click")return Su(n)}function u1(t,n){if(t==="input"||t==="change")return Su(n)}function c1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:c1;function Vl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!_t.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function Tp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bp(t,n){var r=Tp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tp(r)}}function Sp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Sp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ap(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ui(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ui(t.document)}return n}function jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var h1=An&&"documentMode"in document&&11>=document.documentMode,ha=null,zh=null,kl=null,Bh=!1;function wp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bh||ha==null||ha!==ui(l)||(l=ha,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Vl(kl,l)||(kl=l,l=hc(zh,"onSelect"),0<l.length&&(n=new fi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ha)))}function vr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var fa={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},qh={},Rp={};An&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Er(t){if(qh[t])return qh[t];if(!fa[t])return t;var n=fa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Rp)return qh[t]=n[r];return t}var Cp=Er("animationend"),Ip=Er("animationiteration"),xp=Er("animationstart"),f1=Er("transitionrun"),d1=Er("transitionstart"),m1=Er("transitioncancel"),Np=Er("transitionend"),Dp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Qn(t,n){Dp.set(t,n),li(n,[t])}var Au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],da=0,Fh=0;function wu(){for(var t=da,n=Fh=da=0;n<t;){var r=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Op(r,h,f)}}function Ru(t,n,r,l){Rn[da++]=t,Rn[da++]=n,Rn[da++]=r,Rn[da++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gh(t,n,r,l){return Ru(t,n,r,l),Cu(t)}function Tr(t,n){return Ru(t,null,null,n),Cu(t)}function Op(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-dt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Cu(t){if(50<io)throw io=0,td=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ma={};function p1(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,r,l){return new p1(t,n,r,l)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,n){var r=t.alternate;return r===null?(r=pn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Mp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Iu(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Qh(t)&&(g=1);else if(typeof t=="string")g=Eb(t,r,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=pn(31,r,n,h),t.elementType=I,t.lanes=f,t;case W:return br(r.children,h,f,n);case J:g=8,h|=24;break;case ue:return t=pn(12,r,n,h|2),t.elementType=ue,t.lanes=f,t;case Qe:return t=pn(13,r,n,h),t.elementType=Qe,t.lanes=f,t;case Ce:return t=pn(19,r,n,h),t.elementType=Ce,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:g=10;break e;case pe:g=9;break e;case Be:g=11;break e;case N:g=14;break e;case R:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=pn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function br(t,n,r,l){return t=pn(7,t,l,n),t.lanes=r,t}function Kh(t,n,r){return t=pn(6,t,null,n),t.lanes=r,t}function Vp(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function Yh(t,n,r){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var kp=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var r=kp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:fl(n)},kp.set(t,n),n)}return{value:t,source:n,stack:fl(n)}}var pa=[],ga=0,xu=null,Pl=0,In=[],xn=0,gs=null,gi=1,yi="";function Vi(t,n){pa[ga++]=Pl,pa[ga++]=xu,xu=t,Pl=n}function Pp(t,n,r){In[xn++]=gi,In[xn++]=yi,In[xn++]=gs,gs=t;var l=gi;t=yi;var h=32-dt(l)-1;l&=~(1<<h),r+=1;var f=32-dt(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,gi=1<<32-dt(n)+h|r<<h|l,yi=f+t}else gi=1<<f|r<<h|l,yi=t}function Xh(t){t.return!==null&&(Vi(t,1),Pp(t,1,0))}function $h(t){for(;t===xu;)xu=pa[--ga],pa[ga]=null,Pl=pa[--ga],pa[ga]=null;for(;t===gs;)gs=In[--xn],In[xn]=null,yi=In[--xn],In[xn]=null,gi=In[--xn],In[xn]=null}function Lp(t,n){In[xn++]=gi,In[xn++]=yi,In[xn++]=gs,gi=n.id,yi=n.overflow,gs=t}var Bt=null,it=null,Ue=!1,ys=null,Nn=!1,Zh=Error(a(519));function _s(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Cn(n,t)),Zh}function Up(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Et]=t,n[Vt]=l,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(r=0;r<ro.length;r++)Ne(ro[r],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),ou(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),us(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||t_(n.textContent,r)?(l.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),l.onScroll!=null&&Ne("scroll",n),l.onScrollEnd!=null&&Ne("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||_s(t,!0)}function jp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Bt=Bt.return}}function ya(t){if(t!==Bt)return!1;if(!Ue)return jp(t),Ue=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||gd(t.type,t.memoizedProps)),r=!r),r&&it&&_s(t),jp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=c_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=c_(t)}else n===27?(n=it,Os(t.type)?(t=Td,Td=null,it=t):it=n):it=Bt?On(t.stateNode.nextSibling):null;return!0}function Sr(){it=Bt=null,Ue=!1}function Jh(){var t=ys;return t!==null&&(on===null?on=t:on.push.apply(on,t),ys=null),t}function Ll(t){ys===null?ys=[t]:ys.push(t)}var Wh=O(null),Ar=null,ki=null;function vs(t,n,r){ne(Wh,n._currentValue),n._currentValue=r}function Pi(t){t._currentValue=Wh.current,Y(Wh)}function ef(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function tf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ef(f.return,r,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),ef(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function _a(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===je.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(co):t=[co])}h=h.return}t!==null&&tf(n,t,r,l),n.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wr(t){Ar=t,ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return zp(Ar,t)}function Du(t,n){return Ar===null&&wr(t),zp(t,n)}function zp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ki===null){if(t===null)throw Error(a(308));ki=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ki=ki.next=n;return r}var g1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},y1=s.unstable_scheduleCallback,_1=s.unstable_NormalPriority,St={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new g1,data:new Map,refCount:0}}function Ul(t){t.refCount--,t.refCount===0&&y1(_1,function(){t.controller.abort()})}var jl=null,sf=0,va=0,Ea=null;function v1(t,n){if(jl===null){var r=jl=[];sf=0,va=ld(),Ea={status:"pending",value:void 0,then:function(l){r.push(l)}}}return sf++,n.then(Bp,Bp),n}function Bp(){if(--sf===0&&jl!==null){Ea!==null&&(Ea.status="fulfilled");var t=jl;jl=null,va=0,Ea=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function E1(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var qp=B.S;B.S=function(t,n){wy=Wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&v1(t,n),qp!==null&&qp(t,n)};var Rr=O(null);function rf(){var t=Rr.current;return t!==null?t:tt.pooledCache}function Ou(t,n){n===null?ne(Rr,Rr.current):ne(Rr,n.pool)}function Hp(){var t=rf();return t===null?null:{parent:St._currentValue,pool:t}}var Ta=Error(a(460)),af=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function Fp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t}throw Ir=n,Ta}}function Cr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ir=r,Ta):r}}var Ir=null;function Qp(){if(Ir===null)throw Error(a(459));var t=Ir;return Ir=null,t}function Kp(t){if(t===Ta||t===Mu)throw Error(a(483))}var ba=null,zl=0;function ku(t){var n=zl;return zl+=1,ba===null&&(ba=[]),Gp(ba,t,n)}function Bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===P?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Yp(t){function n(k,D){if(t){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Mi(k,D),k.index=0,k.sibling=null,k}function f(k,D,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,U,Q){return D===null||D.tag!==6?(D=Kh(U,k.mode,Q),D.return=k,D):(D=h(D,U),D.return=k,D)}function x(k,D,U,Q){var he=U.type;return he===W?G(k,D,U.props.children,Q,U.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Cr(he)===D.type)?(D=h(D,U.props),Bl(D,U),D.return=k,D):(D=Iu(U.type,U.key,U.props,null,k.mode,Q),Bl(D,U),D.return=k,D)}function j(k,D,U,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Yh(U,k.mode,Q),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function G(k,D,U,Q,he){return D===null||D.tag!==7?(D=br(U,k.mode,Q,he),D.return=k,D):(D=h(D,U),D.return=k,D)}function K(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kh(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return U=Iu(D.type,D.key,D.props,null,k.mode,U),Bl(U,D),U.return=k,U;case Z:return D=Yh(D,k.mode,U),D.return=k,D;case R:return D=Cr(D),K(k,D,U)}if(Ie(D)||M(D))return D=br(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return K(k,ku(D),U);if(D.$$typeof===fe)return K(k,Du(k,D),U);Pu(k,D)}return null}function z(k,D,U,Q){var he=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return he!==null?null:E(k,D,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return U.key===he?x(k,D,U,Q):null;case Z:return U.key===he?j(k,D,U,Q):null;case R:return U=Cr(U),z(k,D,U,Q)}if(Ie(U)||M(U))return he!==null?null:G(k,D,U,Q,null);if(typeof U.then=="function")return z(k,D,ku(U),Q);if(U.$$typeof===fe)return z(k,D,Du(k,U),Q);Pu(k,U)}return null}function H(k,D,U,Q,he){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(U)||null,E(D,k,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return k=k.get(Q.key===null?U:Q.key)||null,x(D,k,Q,he);case Z:return k=k.get(Q.key===null?U:Q.key)||null,j(D,k,Q,he);case R:return Q=Cr(Q),H(k,D,U,Q,he)}if(Ie(Q)||M(Q))return k=k.get(U)||null,G(D,k,Q,he,null);if(typeof Q.then=="function")return H(k,D,U,ku(Q),he);if(Q.$$typeof===fe)return H(k,D,U,Du(D,Q),he);Pu(D,Q)}return null}function re(k,D,U,Q){for(var he=null,qe=null,ae=D,Re=D=0,Me=null;ae!==null&&Re<U.length;Re++){ae.index>Re?(Me=ae,ae=null):Me=ae.sibling;var He=z(k,ae,U[Re],Q);if(He===null){ae===null&&(ae=Me);break}t&&ae&&He.alternate===null&&n(k,ae),D=f(He,D,Re),qe===null?he=He:qe.sibling=He,qe=He,ae=Me}if(Re===U.length)return r(k,ae),Ue&&Vi(k,Re),he;if(ae===null){for(;Re<U.length;Re++)ae=K(k,U[Re],Q),ae!==null&&(D=f(ae,D,Re),qe===null?he=ae:qe.sibling=ae,qe=ae);return Ue&&Vi(k,Re),he}for(ae=l(ae);Re<U.length;Re++)Me=H(ae,k,Re,U[Re],Q),Me!==null&&(t&&Me.alternate!==null&&ae.delete(Me.key===null?Re:Me.key),D=f(Me,D,Re),qe===null?he=Me:qe.sibling=Me,qe=Me);return t&&ae.forEach(function(Ls){return n(k,Ls)}),Ue&&Vi(k,Re),he}function me(k,D,U,Q){if(U==null)throw Error(a(151));for(var he=null,qe=null,ae=D,Re=D=0,Me=null,He=U.next();ae!==null&&!He.done;Re++,He=U.next()){ae.index>Re?(Me=ae,ae=null):Me=ae.sibling;var Ls=z(k,ae,He.value,Q);if(Ls===null){ae===null&&(ae=Me);break}t&&ae&&Ls.alternate===null&&n(k,ae),D=f(Ls,D,Re),qe===null?he=Ls:qe.sibling=Ls,qe=Ls,ae=Me}if(He.done)return r(k,ae),Ue&&Vi(k,Re),he;if(ae===null){for(;!He.done;Re++,He=U.next())He=K(k,He.value,Q),He!==null&&(D=f(He,D,Re),qe===null?he=He:qe.sibling=He,qe=He);return Ue&&Vi(k,Re),he}for(ae=l(ae);!He.done;Re++,He=U.next())He=H(ae,k,Re,He.value,Q),He!==null&&(t&&He.alternate!==null&&ae.delete(He.key===null?Re:He.key),D=f(He,D,Re),qe===null?he=He:qe.sibling=He,qe=He);return t&&ae.forEach(function(Db){return n(k,Db)}),Ue&&Vi(k,Re),he}function et(k,D,U,Q){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case F:e:{for(var he=U.key;D!==null;){if(D.key===he){if(he=U.type,he===W){if(D.tag===7){r(k,D.sibling),Q=h(D,U.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Cr(he)===D.type){r(k,D.sibling),Q=h(D,U.props),Bl(Q,U),Q.return=k,k=Q;break e}r(k,D);break}else n(k,D);D=D.sibling}U.type===W?(Q=br(U.props.children,k.mode,Q,U.key),Q.return=k,k=Q):(Q=Iu(U.type,U.key,U.props,null,k.mode,Q),Bl(Q,U),Q.return=k,k=Q)}return g(k);case Z:e:{for(he=U.key;D!==null;){if(D.key===he)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){r(k,D.sibling),Q=h(D,U.children||[]),Q.return=k,k=Q;break e}else{r(k,D);break}else n(k,D);D=D.sibling}Q=Yh(U,k.mode,Q),Q.return=k,k=Q}return g(k);case R:return U=Cr(U),et(k,D,U,Q)}if(Ie(U))return re(k,D,U,Q);if(M(U)){if(he=M(U),typeof he!="function")throw Error(a(150));return U=he.call(U),me(k,D,U,Q)}if(typeof U.then=="function")return et(k,D,ku(U),Q);if(U.$$typeof===fe)return et(k,D,Du(k,U),Q);Pu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,U),Q.return=k,k=Q):(r(k,D),Q=Kh(U,k.mode,Q),Q.return=k,k=Q),g(k)):r(k,D)}return function(k,D,U,Q){try{zl=0;var he=et(k,D,U,Q);return ba=null,he}catch(ae){if(ae===Ta||ae===Mu)throw ae;var qe=pn(29,ae,null,k.mode);return qe.lanes=Q,qe.return=k,qe}finally{}}}var xr=Yp(!0),Xp=Yp(!1),Es=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function bs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(t),Op(t,null,r),n}return Ru(t,l,n,r),Cu(t)}function ql(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,pl(t,r)}}function uf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var cf=!1;function Hl(){if(cf){var t=Ea;if(t!==null)throw t}}function Fl(t,n,r,l){cf=!1;var h=t.updateQueue;Es=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,g===null?f=j:g.next=j,g=x;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=x))}if(f!==null){var K=h.baseState;g=0,G=j=x=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Oe&z)===z:(l&z)===z){z!==0&&z===va&&(cf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var re=t,me=E;z=n;var et=r;switch(me.tag){case 1:if(re=me.payload,typeof re=="function"){K=re.call(et,K,z);break e}K=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=me.payload,z=typeof re=="function"?re.call(et,K,z):re,z==null)break e;K=w({},K,z);break e;case 2:Es=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=H,x=K):G=G.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(x=K),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Cs|=g,t.lanes=g,t.memoizedState=K}}function $p(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Zp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)$p(r[t],n)}var Sa=O(null),Lu=O(0);function Jp(t,n){t=Gi,ne(Lu,t),ne(Sa,n),Gi=t|n.baseLanes}function hf(){ne(Lu,Gi),ne(Sa,Sa.current)}function ff(){Gi=Lu.current,Y(Sa),Y(Lu)}var gn=O(null),Dn=null;function Ss(t){var n=t.alternate;ne(pt,pt.current&1),ne(gn,t),Dn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Dn=t)}function df(t){ne(pt,pt.current),ne(gn,t),Dn===null&&(Dn=t)}function Wp(t){t.tag===22?(ne(pt,pt.current),ne(gn,t),Dn===null&&(Dn=t)):As()}function As(){ne(pt,pt.current),ne(gn,gn.current)}function yn(t){Y(gn),Dn===t&&(Dn=null),Y(pt)}var pt=O(0);function Uu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||vd(r)||Ed(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Ae=null,Je=null,At=null,ju=!1,Aa=!1,Nr=!1,zu=0,Gl=0,wa=null,T1=0;function ht(){throw Error(a(321))}function mf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!mn(t[r],n[r]))return!1;return!0}function pf(t,n,r,l,h,f){return Li=f,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?Pg:Nf,Nr=!1,f=r(l,h),Nr=!1,Aa&&(f=tg(n,r,l,h)),eg(t),f}function eg(t){B.H=Yl;var n=Je!==null&&Je.next!==null;if(Li=0,At=Je=Ae=null,ju=!1,Gl=0,wa=null,n)throw Error(a(300));t===null||wt||(t=t.dependencies,t!==null&&Nu(t)&&(wt=!0))}function tg(t,n,r,l){Ae=t;var h=0;do{if(Aa&&(wa=null),Gl=0,Aa=!1,25<=h)throw Error(a(301));if(h+=1,At=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Lg,f=n(r,l)}while(Aa);return f}function b1(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?Ql(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ae.flags|=1024),n}function gf(){var t=zu!==0;return zu=0,t}function yf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function _f(t){if(ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ju=!1}Li=0,At=Je=Ae=null,Aa=!1,Gl=zu=0,wa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ae.memoizedState=At=t:At=At.next=t,At}function gt(){if(Je===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=At===null?Ae.memoizedState:At.next;if(n!==null)At=n,Je=t;else{if(t===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},At===null?Ae.memoizedState=At=t:At=At.next=t}return At}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(t){var n=Gl;return Gl+=1,wa===null&&(wa=[]),t=Gp(wa,t,n),n=Ae,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?Pg:Nf),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ql(t);if(t.$$typeof===fe)return qt(t)}throw Error(a(438,String(t)))}function vf(t){var n=null,r=Ae.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),Ae.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Ui(t,n){return typeof n=="function"?n(t):n}function Hu(t){var n=gt();return Ef(n,Je,t)}function Ef(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,x=null,j=n,G=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(Oe&K)===K:(Li&K)===K){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===va&&(G=!0);else if((Li&z)===z){j=j.next,z===va&&(G=!0);continue}else K={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=K,g=f):x=x.next=K,Ae.lanes|=z,Cs|=z;K=j.action,Nr&&r(f,K),f=j.hasEagerState?j.eagerState:r(f,K)}else z={lane:K,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,g=f):x=x.next=z,Ae.lanes|=K,Cs|=K;j=j.next}while(j!==null&&j!==n);if(x===null?g=f:x.next=E,!mn(f,t.memoizedState)&&(wt=!0,G&&(r=Ea,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=x,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var n=gt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ng(t,n,r){var l=Ae,h=gt(),f=Ue;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!mn((Je||h).memoizedState,r);if(g&&(h.memoizedState=r,wt=!0),h=h.queue,Af(rg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ra(9,{destroy:void 0},sg.bind(null,l,h,r,n),null),tt===null)throw Error(a(349));f||(Li&127)!==0||ig(l,n,r)}return r}function ig(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ae.updateQueue,n===null?(n=Bu(),Ae.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function sg(t,n,r,l){n.value=r,n.getSnapshot=l,ag(n)&&lg(t)}function rg(t,n,r){return r(function(){ag(n)&&lg(t)})}function ag(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!mn(t,r)}catch{return!0}}function lg(t){var n=Tr(t,2);n!==null&&un(n,t,2)}function bf(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),Nr){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n}function og(t,n,r,l){return t.baseState=r,Ef(t,Je,typeof l=="function"?l:Ui)}function S1(t,n,r,l,h){if(Qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};B.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ug(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ug(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=B.T,g={};B.T=g;try{var E=r(h,l),x=B.S;x!==null&&x(g,E),cg(t,n,E)}catch(j){Sf(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),B.T=f}}else try{f=r(h,l),cg(t,n,f)}catch(j){Sf(t,n,j)}}function cg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){hg(t,n,l)},function(l){return Sf(t,n,l)}):hg(t,n,r)}function hg(t,n,r){n.status="fulfilled",n.value=r,fg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ug(t,r)))}function Sf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,fg(n),n=n.next;while(n!==l)}t.action=null}function fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dg(t,n){return n}function mg(t,n){if(Ue){var r=tt.formState;if(r!==null){e:{var l=Ae;if(Ue){if(it){t:{for(var h=it,f=Nn;h.nodeType!==8;){if(!f){h=null;break t}if(h=On(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){it=On(h.nextSibling),l=h.data==="F!";break e}}_s(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},r.queue=l,r=Mg.bind(null,Ae,l),l.dispatch=r,l=bf(!1),f=xf.bind(null,Ae,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=S1.bind(null,Ae,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function pg(t){var n=gt();return gg(n,Je,t)}function gg(t,n,r){if(n=Ef(t,n,dg)[0],t=Hu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ql(n)}catch(g){throw g===Ta?Mu:g}else l=n;n=gt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ae.flags|=2048,Ra(9,{destroy:void 0},A1.bind(null,h,r),null)),[l,f,t]}function A1(t,n){t.action=n}function yg(t){var n=gt(),r=Je;if(r!==null)return gg(n,r,t);gt(),n=n.memoizedState,r=gt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ra(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=Bu(),Ae.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function _g(){return gt().memoizedState}function Fu(t,n,r,l){var h=tn();Ae.flags|=t,h.memoizedState=Ra(1|n,{destroy:void 0},r,l===void 0?null:l)}function Gu(t,n,r,l){var h=gt();l=l===void 0?null:l;var f=h.memoizedState.inst;Je!==null&&l!==null&&mf(l,Je.memoizedState.deps)?h.memoizedState=Ra(n,f,r,l):(Ae.flags|=t,h.memoizedState=Ra(1|n,f,r,l))}function vg(t,n){Fu(8390656,8,t,n)}function Af(t,n){Gu(2048,8,t,n)}function w1(t){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=Bu(),Ae.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Eg(t){var n=gt().memoizedState;return w1({ref:n,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tg(t,n){return Gu(4,2,t,n)}function bg(t,n){return Gu(4,4,t,n)}function Sg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ag(t,n,r){r=r!=null?r.concat([t]):null,Gu(4,4,Sg.bind(null,n,t),r)}function wf(){}function wg(t,n){var r=gt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&mf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Rg(t,n){var r=gt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&mf(n,l[1]))return l[0];if(l=t(),Nr){Tn(!0);try{t()}finally{Tn(!1)}}return r.memoizedState=[l,n],l}function Rf(t,n,r){return r===void 0||(Li&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Cy(),Ae.lanes|=t,Cs|=t,r)}function Cg(t,n,r,l){return mn(r,n)?r:Sa.current!==null?(t=Rf(t,r,l),mn(t,n)||(wt=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(Oe&261930)===0?(wt=!0,t.memoizedState=r):(t=Cy(),Ae.lanes|=t,Cs|=t,n)}function Ig(t,n,r,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var g=B.T,E={};B.T=E,xf(t,!1,n,r);try{var x=h(),j=B.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=E1(x,l);Kl(t,n,G,En(t))}else Kl(t,n,l,En(t))}catch(K){Kl(t,n,{then:function(){},status:"rejected",reason:K},En())}finally{te.p=f,g!==null&&E.types!==null&&(g.types=E.types),B.T=g}}function R1(){}function Cf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=xg(t).queue;Ig(t,h,n,oe,r===null?R1:function(){return Ng(t),r(l)})}function xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:oe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ng(t){var n=xg(t);n.next===null&&(n=t.alternate.memoizedState),Kl(t,n.next.queue,{},En())}function If(){return qt(co)}function Dg(){return gt().memoizedState}function Og(){return gt().memoizedState}function C1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();t=Ts(r);var l=bs(n,t,r);l!==null&&(un(l,n,r),ql(l,n,r)),n={cache:nf()},t.payload=n;return}n=n.return}}function I1(t,n,r){var l=En();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Vg(n,r):(r=Gh(t,n,r,l),r!==null&&(un(r,t,l),kg(r,n,l)))}function Mg(t,n,r){var l=En();Kl(t,n,r,l)}function Kl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Vg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return Ru(t,n,h,0),tt===null&&wu(),!1}catch{}finally{}if(r=Gh(t,n,h,l),r!==null)return un(r,t,l),kg(r,n,l),!0}return!1}function xf(t,n,r,l){if(l={lane:2,revertLane:ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(a(479))}else n=Gh(t,r,l,2),n!==null&&un(n,t,2)}function Qu(t){var n=t.alternate;return t===Ae||n!==null&&n===Ae}function Vg(t,n){Aa=ju=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function kg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,pl(t,r)}}var Yl={readContext:qt,use:qu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Yl.useEffectEvent=ht;var Pg={readContext:qt,use:qu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:vg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fu(4194308,4,Sg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fu(4194308,4,t,n)},useInsertionEffect:function(t,n){Fu(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(Nr){Tn(!0);try{t()}finally{Tn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var h=r(n);if(Nr){Tn(!0);try{r(n)}finally{Tn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=I1.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=bf(t);var n=t.queue,r=Mg.bind(null,Ae,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:wf,useDeferredValue:function(t,n){var r=tn();return Rf(r,t,n)},useTransition:function(){var t=bf(!1);return t=Ig.bind(null,Ae,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ae,h=tn();if(Ue){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),tt===null)throw Error(a(349));(Oe&127)!==0||ig(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,vg(rg.bind(null,l,f,t),[t]),l.flags|=2048,Ra(9,{destroy:void 0},sg.bind(null,l,f,r,n),null),r},useId:function(){var t=tn(),n=tt.identifierPrefix;if(Ue){var r=yi,l=gi;r=(l&~(1<<32-dt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=T1++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:If,useFormState:mg,useActionState:mg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=xf.bind(null,Ae,!0,r),r.dispatch=n,[t,n]},useMemoCache:vf,useCacheRefresh:function(){return tn().memoizedState=C1.bind(null,Ae)},useEffectEvent:function(t){var n=tn(),r={impl:t};return n.memoizedState=r,function(){if((Ge&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Nf={readContext:qt,use:qu,useCallback:wg,useContext:qt,useEffect:Af,useImperativeHandle:Ag,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Hu,useRef:_g,useState:function(){return Hu(Ui)},useDebugValue:wf,useDeferredValue:function(t,n){var r=gt();return Cg(r,Je.memoizedState,t,n)},useTransition:function(){var t=Hu(Ui)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Ql(t),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:If,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var r=gt();return og(r,Je,t,n)},useMemoCache:vf,useCacheRefresh:Og};Nf.useEffectEvent=Eg;var Lg={readContext:qt,use:qu,useCallback:wg,useContext:qt,useEffect:Af,useImperativeHandle:Ag,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Tf,useRef:_g,useState:function(){return Tf(Ui)},useDebugValue:wf,useDeferredValue:function(t,n){var r=gt();return Je===null?Rf(r,t,n):Cg(r,Je.memoizedState,t,n)},useTransition:function(){var t=Tf(Ui)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Ql(t),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:If,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var r=gt();return Je!==null?og(r,Je,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Og};Lg.useEffectEvent=Eg;function Df(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Of={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=En(),h=Ts(l);h.payload=n,r!=null&&(h.callback=r),n=bs(t,h,l),n!==null&&(un(n,t,l),ql(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=En(),h=Ts(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=bs(t,h,l),n!==null&&(un(n,t,l),ql(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=En(),l=Ts(r);l.tag=2,n!=null&&(l.callback=n),n=bs(t,l,r),n!==null&&(un(n,t,r),ql(n,t,r))}};function Ug(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vl(r,l)||!Vl(h,f):!0}function jg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Of.enqueueReplaceState(n,n.state,null)}function Dr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function zg(t){Au(t)}function Bg(t){console.error(t)}function qg(t){Au(t)}function Ku(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Hg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(t,n,r){return r=Ts(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(t,n)},r}function Fg(t){return t=Ts(t),t.tag=3,t}function Gg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Hg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Hg(n,r,l),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function x1(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&_a(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?rc():r.alternate===null&&ft===0&&(ft=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Vu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),sd(t,l,h)),!1;case 22:return r.flags|=65536,l===Vu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),sd(t,l,h)),!1}throw Error(a(435,r.tag))}return sd(t,l,h),rc(),!1}if(Ue)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zh&&(t=Error(a(422),{cause:l}),Ll(Cn(t,r)))):(l!==Zh&&(n=Error(a(423),{cause:l}),Ll(Cn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,r),h=Mf(t.stateNode,l,h),uf(t,h),ft!==4&&(ft=2)),!1;var f=Error(a(520),{cause:l});if(f=Cn(f,r),no===null?no=[f]:no.push(f),ft!==4&&(ft=2),n===null)return!0;l=Cn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Mf(r.stateNode,l,t),uf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Fg(h),Gg(h,t,r,l),uf(r,h),!1}r=r.return}while(r!==null);return!1}var Vf=Error(a(461)),wt=!1;function Ht(t,n,r,l){n.child=t===null?Xp(n,null,r,l):xr(n,t.child,r,l)}function Qg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return wr(n),l=pf(t,n,r,g,f,h),E=gf(),t!==null&&!wt?(yf(t,n,h),ji(t,n,h)):(Ue&&E&&Xh(n),n.flags|=1,Ht(t,n,l,h),n.child)}function Kg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Yg(t,n,f,l,h)):(t=Iu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Vl,r(g,l)&&t.ref===n.ref)return ji(t,n,h)}return n.flags|=1,t=Mi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Yg(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Vl(f,l)&&t.ref===n.ref)if(wt=!1,n.pendingProps=l=f,qf(t,h))(t.flags&131072)!==0&&(wt=!0);else return n.lanes=t.lanes,ji(t,n,h)}return kf(t,n,r,l,h)}function Xg(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return $g(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Jp(n,f):hf(),Wp(n);else return l=n.lanes=536870912,$g(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Ou(n,f.cachePool),Jp(n,f),As(),n.memoizedState=null):(t!==null&&Ou(n,null),hf(),As());return Ht(t,n,h,r),n.child}function Xl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $g(t,n,r,l,h){var f=rf();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Ou(n,null),hf(),Wp(n),t!==null&&_a(t,n,l,!0),n.childLanes=h,null}function Yu(t,n){return n=$u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Zg(t,n,r){return xr(n,t.child,null,r),t=Yu(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function N1(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Yu(n,l),n.lanes=536870912,Xl(null,t);if(df(n),(t=it)?(t=u_(t,Nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:gs!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Vp(t),r.return=n,n.child=r,Bt=n,it=null)):t=null,t===null)throw _s(n);return n.lanes=536870912,null}return Yu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=Zg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(wt||_a(t,n,r,!1),h=(r&t.childLanes)!==0,wt||h){if(l=tt,l!==null&&(g=gl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Tr(t,g),un(l,t,g),Vf;rc(),n=Zg(t,n,r)}else t=f.treeContext,it=On(g.nextSibling),Bt=n,Ue=!0,ys=null,Nn=!1,t!==null&&Lp(n,t),n=Yu(n,l),n.flags|=4096;return n}return t=Mi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Xu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function kf(t,n,r,l,h){return wr(n),r=pf(t,n,r,l,void 0,h),l=gf(),t!==null&&!wt?(yf(t,n,h),ji(t,n,h)):(Ue&&l&&Xh(n),n.flags|=1,Ht(t,n,r,h),n.child)}function Jg(t,n,r,l,h,f){return wr(n),n.updateQueue=null,r=tg(n,l,r,h),eg(t),l=gf(),t!==null&&!wt?(yf(t,n,f),ji(t,n,f)):(Ue&&l&&Xh(n),n.flags|=1,Ht(t,n,r,f),n.child)}function Wg(t,n,r,l,h){if(wr(n),n.stateNode===null){var f=ma,g=r.contextType;typeof g=="object"&&g!==null&&(f=qt(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?qt(g):ma,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Df(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Of.enqueueReplaceState(f,f.state,null),Fl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,x=Dr(r,E);f.props=x;var j=f.context,G=r.contextType;g=ma,typeof G=="object"&&G!==null&&(g=qt(G));var K=r.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&jg(n,f,l,g),Es=!1;var z=n.memoizedState;f.state=z,Fl(n,l,f,h),Hl(),j=n.memoizedState,E||z!==j||Es?(typeof K=="function"&&(Df(n,r,K,l),j=n.memoizedState),(x=Es||Ug(n,r,x,l,z,j,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,of(t,n),g=n.memoizedProps,G=Dr(r,g),f.props=G,K=n.pendingProps,z=f.context,j=r.contextType,x=ma,typeof j=="object"&&j!==null&&(x=qt(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==x)&&jg(n,f,l,x),Es=!1,z=n.memoizedState,f.state=z,Fl(n,l,f,h),Hl();var H=n.memoizedState;g!==K||z!==H||Es||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof E=="function"&&(Df(n,r,E,l),H=n.memoizedState),(G=Es||Ug(n,r,G,l,z,H,x)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=x,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Xu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=xr(n,t.child,null,h),n.child=xr(n,null,r,h)):Ht(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ji(t,n,h),t}function ey(t,n,r,l){return Sr(),n.flags|=256,Ht(t,n,r,l),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(t){return{baseLanes:t,cachePool:Hp()}}function Uf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=vn),t}function ty(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ue){if(h?Ss(n):As(),(t=it)?(t=u_(t,Nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:gs!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Vp(t),r.return=n,n.child=r,Bt=n,it=null)):t=null,t===null)throw _s(n);return Ed(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(As(),h=n.mode,E=$u({mode:"hidden",children:E},h),l=br(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Lf(r),l.childLanes=Uf(t,g,r),n.memoizedState=Pf,Xl(null,l)):(Ss(n),jf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=zf(t,n,r)):n.memoizedState!==null?(As(),n.child=t.child,n.flags|=128,n=null):(As(),E=l.fallback,h=n.mode,l=$u({mode:"visible",children:l.children},h),E=br(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,xr(n,t.child,null,r),l=n.child,l.memoizedState=Lf(r),l.childLanes=Uf(t,g,r),n.memoizedState=Pf,n=Xl(null,l));else if(Ss(n),Ed(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(a(419)),l.stack="",l.digest=g,Ll({value:l,source:null,stack:null}),n=zf(t,n,r)}else if(wt||_a(t,n,r,!1),g=(r&t.childLanes)!==0,wt||g){if(g=tt,g!==null&&(l=gl(g,r),l!==0&&l!==x.retryLane))throw x.retryLane=l,Tr(t,l),un(g,t,l),Vf;vd(E)||rc(),n=zf(t,n,r)}else vd(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,it=On(E.nextSibling),Bt=n,Ue=!0,ys=null,Nn=!1,t!==null&&Lp(n,t),n=jf(n,l.children),n.flags|=4096);return n}return h?(As(),E=l.fallback,h=n.mode,x=t.child,j=x.sibling,l=Mi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=Mi(j,E):(E=br(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Xl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Lf(r):(h=E.cachePool,h!==null?(x=St._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Hp(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Uf(t,g,r),n.memoizedState=Pf,Xl(t.child,l)):(Ss(n),r=t.child,t=r.sibling,r=Mi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function jf(t,n){return n=$u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $u(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function zf(t,n,r){return xr(n,t.child,null,r),t=jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ny(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ef(t.return,n,r)}function Bf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function iy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=pt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ne(pt,g),Ht(t,n,l,r),l=Ue?Pl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ny(t,r,n);else if(t.tag===19)ny(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Uu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Bf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Uu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Bf(n,!0,r,null,f,l);break;case"together":Bf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Cs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(_a(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Mi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Mi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function D1(t,n,r){switch(n.tag){case 3:xt(n,n.stateNode.containerInfo),vs(n,St,t.memoizedState.cache),Sr();break;case 27:case 5:ir(n);break;case 4:xt(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ss(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ty(t,n,r):(Ss(n),t=ji(t,n,r),t!==null?t.sibling:null);Ss(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(_a(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return iy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(pt,pt.current),l)break;return null;case 22:return n.lanes=0,Xg(t,n,r,n.pendingProps);case 24:vs(n,St,t.memoizedState.cache)}return ji(t,n,r)}function sy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)wt=!0;else{if(!qf(t,r)&&(n.flags&128)===0)return wt=!1,D1(t,n,r);wt=(t.flags&131072)!==0}else wt=!1,Ue&&(n.flags&1048576)!==0&&Pp(n,Pl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Cr(n.elementType),n.type=t,typeof t=="function")Qh(t)?(l=Dr(t,l),n.tag=1,n=Wg(null,n,t,l,r)):(n.tag=0,n=kf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Be){n.tag=11,n=Qg(null,n,t,l,r);break e}else if(h===N){n.tag=14,n=Kg(null,n,t,l,r);break e}}throw n=le(t)||t,Error(a(306,n,""))}}return n;case 0:return kf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Dr(l,n.pendingProps),Wg(t,n,l,h,r);case 3:e:{if(xt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,of(t,n),Fl(n,l,null,r);var g=n.memoizedState;if(l=g.cache,vs(n,St,l),l!==f.cache&&tf(n,[St],r,!0),Hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(t,n,l,r);break e}else if(l!==h){h=Cn(Error(a(424)),n),Ll(h),n=ey(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=On(t.firstChild),Bt=n,Ue=!0,ys=null,Nn=!0,r=Xp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Sr(),l===h){n=ji(t,n,r);break e}Ht(t,n,l,r)}n=n.child}return n;case 26:return Xu(t,n),t===null?(r=p_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ue||(r=n.type,t=n.pendingProps,l=fc(we.current).createElement(r),l[Et]=n,l[Vt]=t,Ft(l,r,t),Tt(l),n.stateNode=l):n.memoizedState=p_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ir(n),t===null&&Ue&&(l=n.stateNode=f_(n.type,n.pendingProps,we.current),Bt=n,Nn=!0,h=it,Os(n.type)?(Td=h,it=On(l.firstChild)):it=h),Ht(t,n,n.pendingProps.children,r),Xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ue&&((h=l=it)&&(l=lb(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,Bt=n,it=On(l.firstChild),Nn=!1,h=!0):h=!1),h||_s(n)),ir(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,gd(h,f)?l=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(t,n,b1,null,null,r),co._currentValue=h),Xu(t,n),Ht(t,n,l,r),n.child;case 6:return t===null&&Ue&&((t=r=it)&&(r=ob(r,n.pendingProps,Nn),r!==null?(n.stateNode=r,Bt=n,it=null,t=!0):t=!1),t||_s(n)),null;case 13:return ty(t,n,r);case 4:return xt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=xr(n,null,l,r):Ht(t,n,l,r),n.child;case 11:return Qg(t,n,n.type,n.pendingProps,r);case 7:return Ht(t,n,n.pendingProps,r),n.child;case 8:return Ht(t,n,n.pendingProps.children,r),n.child;case 12:return Ht(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,vs(n,n.type,l.value),Ht(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,wr(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,r),n.child;case 14:return Kg(t,n,n.type,n.pendingProps,r);case 15:return Yg(t,n,n.type,n.pendingProps,r);case 19:return iy(t,n,r);case 31:return N1(t,n,r);case 22:return Xg(t,n,r,n.pendingProps);case 24:return wr(n),l=qt(St),t===null?(h=rf(),h===null&&(h=tt,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},lf(n),vs(n,St,h)):((t.lanes&r)!==0&&(of(t,n),Fl(n,null,null,r),Hl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,St,l)):(l=f.cache,vs(n,St,l),l!==h.cache&&tf(n,[St],r,!0))),Ht(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function zi(t){t.flags|=4}function Hf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Dy())t.flags|=8192;else throw Ir=Vu,af}else t.flags&=-16777217}function ry(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E_(n))if(Dy())t.flags|=8192;else throw Ir=Vu,af}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?iu():536870912,t.lanes|=n,Na|=n)}function $l(t,n){if(!Ue)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function O1(t,n,r){var l=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(n),null;case 1:return st(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Pi(St),at(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ya(n)?zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),st(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(zi(n),f!==null?(st(n),ry(n,f)):(st(n),Hf(n,h,null,l,r))):f?f!==t.memoizedState?(zi(n),st(n),ry(n,f)):(st(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&zi(n),st(n),Hf(n,h,t,l,r)),null;case 27:if(Xr(n),r=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return st(n),null}t=se.current,ya(n)?Up(n):(t=f_(h,l,r),n.stateNode=t,zi(n))}return st(n),null;case 5:if(Xr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return st(n),null}if(f=se.current,ya(n))Up(n);else{var g=fc(we.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Et]=n,f[Vt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&zi(n)}}return st(n),Hf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=we.current,ya(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||t_(t.nodeValue,r)),t||_s(n,!0)}else t=fc(t).createTextNode(l),t[Et]=n,n.stateNode=t}return st(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=ya(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Et]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),t=!1}else r=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return st(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ya(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Et]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),st(n),null);case 4:return at(),t===null&&hd(n.stateNode.containerInfo),st(n),null;case 10:return Pi(n.type),st(n),null;case 19:if(Y(pt),l=n.memoizedState,l===null)return st(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)$l(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Uu(t),f!==null){for(n.flags|=128,$l(l,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Mp(r,t),r=r.sibling;return ne(pt,pt.current&1|2),Ue&&Vi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Wt()>nc&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304)}else{if(!h)if(t=Uu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),$l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ue)return st(n),null}else 2*Wt()-l.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Wt(),t.sibling=null,r=pt.current,ne(pt,h?r&1|2:r&1),Ue&&Vi(n,l.treeForkCount),t):(st(n),null);case 22:case 23:return yn(n),ff(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(st(n),n.subtreeFlags&6&&(n.flags|=8192)):st(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(Rr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Pi(St),st(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function M1(t,n){switch($h(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Pi(St),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Xr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(pt),null;case 4:return at(),null;case 10:return Pi(n.type),null;case 22:case 23:return yn(n),ff(),t!==null&&Y(Rr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Pi(St),null;case 25:return null;default:return null}}function ay(t,n){switch($h(n),n.tag){case 3:Pi(St),at();break;case 26:case 27:case 5:Xr(n);break;case 4:at();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Y(pt);break;case 10:Pi(n.type);break;case 22:case 23:yn(n),ff(),t!==null&&Y(Rr);break;case 24:Pi(St)}}function Zl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(E){$e(n,n.return,E)}}function ws(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var x=r,j=E;try{j()}catch(G){$e(h,x,G)}}}l=l.next}while(l!==f)}}catch(G){$e(n,n.return,G)}}function ly(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Zp(n,r)}catch(l){$e(t,t.return,l)}}}function oy(t,n,r){r.props=Dr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$e(t,n,l)}}function Jl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){$e(t,n,h)}}function _i(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){$e(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$e(t,n,h)}else r.current=null}function uy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){$e(t,t.return,h)}}function Ff(t,n,r){try{var l=t.stateNode;tb(l,t.type,r,n),l[Vt]=n}catch(h){$e(t,t.return,h)}}function cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Os(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&Os(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Qf(t,n,r),t=t.sibling;t!==null;)Qf(t,n,r),t=t.sibling}function Ju(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Os(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ju(t,n,r),t=t.sibling;t!==null;)Ju(t,n,r),t=t.sibling}function hy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,r),n[Et]=t,n[Vt]=r}catch(f){$e(t,t.return,f)}}var Bi=!1,Rt=!1,Kf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function V1(t,n){if(t=t.containerInfo,md=vc,t=Ap(t),jh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,x=-1,j=0,G=0,K=t,z=null;t:for(;;){for(var H;K!==r||h!==0&&K.nodeType!==3||(E=g+h),K!==f||l!==0&&K.nodeType!==3||(x=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(H=K.firstChild)!==null;)z=K,K=H;for(;;){if(K===t)break t;if(z===r&&++j===h&&(E=g),z===f&&++G===l&&(x=g),(H=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=H}r=E===-1||x===-1?null:{start:E,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(pd={focusedElem:t,selectionRange:r},vc=!1,Pt=n;Pt!==null;)if(n=Pt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pt=t;else for(;Pt!==null;){switch(n=Pt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var re=Dr(r.type,h);t=l.getSnapshotBeforeUpdate(re,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(me){$e(r,r.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)_d(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Pt=t;break}Pt=n.return}}function dy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(t,r),l&4&&Zl(5,r);break;case 1:if(Hi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){$e(r,r.return,g)}else{var h=Dr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){$e(r,r.return,g)}}l&64&&ly(r),l&512&&Jl(r,r.return);break;case 3:if(Hi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Zp(t,n)}catch(g){$e(r,r.return,g)}}break;case 27:n===null&&l&4&&hy(r);case 26:case 5:Hi(t,r),n===null&&l&4&&uy(r),l&512&&Jl(r,r.return);break;case 12:Hi(t,r);break;case 31:Hi(t,r),l&4&&gy(t,r);break;case 13:Hi(t,r),l&4&&yy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=H1.bind(null,r),ub(t,r))));break;case 22:if(l=r.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||Rt,h=Bi;var f=Rt;Bi=l,(Rt=n)&&!f?Fi(t,r,(r.subtreeFlags&8772)!==0):Hi(t,r),Bi=h,Rt=f}break;case 30:break;default:Hi(t,r)}}function my(t){var n=t.alternate;n!==null&&(t.alternate=null,my(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,rn=!1;function qi(t,n,r){for(r=r.child;r!==null;)py(t,n,r),r=r.sibling}function py(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Rt||_i(r,n),qi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Rt||_i(r,n);var l=ot,h=rn;Os(r.type)&&(ot=r.stateNode,rn=!1),qi(t,n,r),lo(r.stateNode),ot=l,rn=h;break;case 5:Rt||_i(r,n);case 6:if(l=ot,h=rn,ot=null,qi(t,n,r),ot=l,rn=h,ot!==null)if(rn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(r.stateNode)}catch(f){$e(r,n,f)}else try{ot.removeChild(r.stateNode)}catch(f){$e(r,n,f)}break;case 18:ot!==null&&(rn?(t=ot,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ua(t)):l_(ot,r.stateNode));break;case 4:l=ot,h=rn,ot=r.stateNode.containerInfo,rn=!0,qi(t,n,r),ot=l,rn=h;break;case 0:case 11:case 14:case 15:ws(2,r,n),Rt||ws(4,r,n),qi(t,n,r);break;case 1:Rt||(_i(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&oy(r,n,l)),qi(t,n,r);break;case 21:qi(t,n,r);break;case 22:Rt=(l=Rt)||r.memoizedState!==null,qi(t,n,r),Rt=l;break;default:qi(t,n,r)}}function gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ua(t)}catch(r){$e(n,n.return,r)}}}function yy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ua(t)}catch(r){$e(n,n.return,r)}}function k1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fy),n;default:throw Error(a(435,t.tag))}}function Wu(t,n){var r=k1(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=F1.bind(null,t,l);l.then(h,h)}})}function an(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){ot=E.stateNode,rn=!1;break e}break;case 5:ot=E.stateNode,rn=!1;break e;case 3:case 4:ot=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(ot===null)throw Error(a(160));py(f,g,h),ot=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,t),n=n.sibling}var Kn=null;function _y(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),ln(t),l&4&&(ws(3,t,t.return),Zl(3,t),ws(5,t,t.return));break;case 1:an(n,t),ln(t),l&512&&(Rt||r===null||_i(r,r.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Kn;if(an(n,t),ln(t),l&512&&(Rt||r===null||_i(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,r),f[Et]=t,Tt(f),l=f;break e;case"link":var g=__("link","href",h).get(l+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),Ft(f,l,r),h.head.appendChild(f);break;case"meta":if(g=__("meta","content",h).get(l+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(l),Ft(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Et]=t,Tt(f),l=f}t.stateNode=l}else v_(h,t.type,t.stateNode);else t.stateNode=y_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?v_(h,t.type,t.stateNode):y_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,r.memoizedProps)}break;case 27:an(n,t),ln(t),l&512&&(Rt||r===null||_i(r,r.return)),r!==null&&l&4&&Ff(t,t.memoizedProps,r.memoizedProps);break;case 5:if(an(n,t),ln(t),l&512&&(Rt||r===null||_i(r,r.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(re){$e(t,t.return,re)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(an(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(re){$e(t,t.return,re)}}break;case 3:if(pc=null,h=Kn,Kn=dc(n.containerInfo),an(n,t),Kn=h,ln(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(re){$e(t,t.return,re)}Kf&&(Kf=!1,vy(t));break;case 4:l=Kn,Kn=dc(t.stateNode.containerInfo),an(n,t),ln(t),Kn=l;break;case 12:an(n,t),ln(t);break;case 31:an(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wu(t,l)));break;case 13:an(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(tc=Wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wu(t,l)));break;case 22:h=t.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,j=Bi,G=Rt;if(Bi=j||h,Rt=G||x,an(n,t),Rt=G,Bi=j,ln(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||x||Bi||Rt||Or(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var K=x.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(re){$e(x,x.return,re)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(re){$e(x,x.return,re)}}}else if(n.tag===18){if(r===null){x=n;try{var H=x.stateNode;h?o_(H,!0):o_(x.stateNode,!1)}catch(re){$e(x,x.return,re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Wu(t,r))));break;case 19:an(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wu(t,l)));break;case 30:break;case 21:break;default:an(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(cy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Gf(t);Ju(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(sn(g,""),r.flags&=-33);var E=Gf(t);Ju(t,E,g);break;case 3:case 4:var x=r.stateNode.containerInfo,j=Gf(t);Qf(t,j,x);break;default:throw Error(a(161))}}catch(G){$e(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Hi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(t,n.alternate,n),n=n.sibling}function Or(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),Or(n);break;case 1:_i(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&oy(n,n.return,r),Or(n);break;case 27:lo(n.stateNode);case 26:case 5:_i(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}t=t.sibling}}function Fi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,r),Zl(4,f);break;case 1:if(Fi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$e(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)$p(x[h],E)}catch(j){$e(l,l.return,j)}}r&&g&64&&ly(f),Jl(f,f.return);break;case 27:hy(f);case 26:case 5:Fi(h,f,r),r&&l===null&&g&4&&uy(f),Jl(f,f.return);break;case 12:Fi(h,f,r);break;case 31:Fi(h,f,r),r&&g&4&&gy(h,f);break;case 13:Fi(h,f,r),r&&g&4&&yy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,r),Jl(f,f.return);break;case 30:break;default:Fi(h,f,r)}n=n.sibling}}function Yf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ul(r))}function Xf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ul(t))}function Yn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(t,n,r,l),n=n.sibling}function Ey(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,r,l),h&2048&&Zl(9,n);break;case 1:Yn(t,n,r,l);break;case 3:Yn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ul(t)));break;case 12:if(h&2048){Yn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){$e(n,n.return,x)}}else Yn(t,n,r,l);break;case 31:Yn(t,n,r,l);break;case 13:Yn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(t,n,r,l):Wl(t,n):f._visibility&2?Yn(t,n,r,l):(f._visibility|=2,Ca(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:Yn(t,n,r,l),h&2048&&Xf(n.alternate,n);break;default:Yn(t,n,r,l)}}function Ca(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,x=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,E,x,h),Zl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ca(f,g,E,x,h):Wl(f,g):(G._visibility|=2,Ca(f,g,E,x,h)),h&&j&2048&&Yf(g.alternate,g);break;case 24:Ca(f,g,E,x,h),h&&j&2048&&Xf(g.alternate,g);break;default:Ca(f,g,E,x,h)}n=n.sibling}}function Wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Wl(r,l),h&2048&&Yf(l.alternate,l);break;case 24:Wl(r,l),h&2048&&Xf(l.alternate,l);break;default:Wl(r,l)}n=n.sibling}}var eo=8192;function Ia(t,n,r){if(t.subtreeFlags&eo)for(t=t.child;t!==null;)Ty(t,n,r),t=t.sibling}function Ty(t,n,r){switch(t.tag){case 26:Ia(t,n,r),t.flags&eo&&t.memoizedState!==null&&Tb(r,Kn,t.memoizedState,t.memoizedProps);break;case 5:Ia(t,n,r);break;case 3:case 4:var l=Kn;Kn=dc(t.stateNode.containerInfo),Ia(t,n,r),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=eo,eo=16777216,Ia(t,n,r),eo=l):Ia(t,n,r));break;default:Ia(t,n,r)}}function by(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function to(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pt=l,Ay(l,t)}by(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sy(t),t=t.sibling}function Sy(t){switch(t.tag){case 0:case 11:case 15:to(t),t.flags&2048&&ws(9,t,t.return);break;case 3:to(t);break;case 12:to(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ec(t)):to(t);break;default:to(t)}}function ec(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pt=l,Ay(l,t)}by(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ws(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}t=t.sibling}}function Ay(t,n){for(;Pt!==null;){var r=Pt;switch(r.tag){case 0:case 11:case 15:ws(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Pt=l;else e:for(r=t;Pt!==null;){l=Pt;var h=l.sibling,f=l.return;if(my(l),l===r){Pt=null;break e}if(h!==null){h.return=f,Pt=h;break e}Pt=f}}}var P1={getCacheForType:function(t){var n=qt(St),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return qt(St).controller.signal}},L1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,xe=null,Oe=0,Xe=0,_n=null,Rs=!1,xa=!1,$f=!1,Gi=0,ft=0,Cs=0,Mr=0,Zf=0,vn=0,Na=0,no=null,on=null,Jf=!1,tc=0,wy=0,nc=1/0,ic=null,Is=null,Dt=0,xs=null,Da=null,Qi=0,Wf=0,ed=null,Ry=null,io=0,td=null;function En(){return(Ge&2)!==0&&Oe!==0?Oe&-Oe:B.T!==null?ld():su()}function Cy(){if(vn===0)if((Oe&536870912)===0||Ue){var t=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),vn=t}else vn=536870912;return t=gn.current,t!==null&&(t.flags|=32),vn}function un(t,n,r){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Oa(t,0),Ns(t,Oe,vn,!1)),lr(t,r),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Mr|=r),ft===4&&Ns(t,Oe,vn,!1)),vi(t))}function Iy(t,n,r){if((Ge&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),h=l?z1(t,n):id(t,n,!0),f=l;do{if(h===0){xa&&!l&&Ns(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!U1(r)){h=id(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=no;var x=E.current.memoizedState.isDehydrated;if(x&&(Oa(E,g).flags|=256),g=id(E,g,!1),g!==2){if($f&&!x){E.errorRecoveryDisabledLanes|=f,Mr|=f,h=4;break e}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(t,0),Ns(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(l,n,vn,!Rs);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-Wt(),10<h)){if(Ns(l,n,vn,!Rs),ti(l,0,!0)!==0)break e;Qi=n,l.timeoutHandle=r_(xy.bind(null,l,r,on,ic,Jf,n,vn,Mr,Na,Rs,f,"Throttled",-0,0),h);break e}xy(l,r,on,ic,Jf,n,vn,Mr,Na,Rs,f,null,-0,0)}}break}while(!0);vi(t)}function xy(t,n,r,l,h,f,g,E,x,j,G,K,z,H){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Ty(n,f,K);var re=(f&62914560)===f?tc-Wt():(f&4194048)===f?wy-Wt():0;if(re=bb(K,re),re!==null){Qi=f,t.cancelPendingCommit=re(Ly.bind(null,t,n,f,r,l,h,g,E,x,G,K,null,z,H)),Ns(t,f,g,!j);return}}Ly(t,n,f,r,l,h,g,E,x)}function U1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(t,n,r,l){n&=~Zf,n&=~Mr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-dt(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&or(t,r,n)}function sc(){return(Ge&6)===0?(so(0),!1):!0}function nd(){if(xe!==null){if(Xe===0)var t=xe.return;else t=xe,ki=Ar=null,_f(t),ba=null,zl=0,t=xe;for(;t!==null;)ay(t.alternate,t),t=t.return;xe=null}}function Oa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Qi=0,nd(),tt=t,xe=r=Mi(t.current,null),Oe=n,Xe=0,_n=null,Rs=!1,xa=Un(t,n),$f=!1,Na=vn=Zf=Mr=Cs=ft=0,on=no=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-dt(l),f=1<<h;n|=t[h],l&=~f}return Gi=n,wu(),r}function Ny(t,n){Ae=null,B.H=Yl,n===Ta||n===Mu?(n=Qp(),Xe=3):n===af?(n=Qp(),Xe=4):Xe=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,xe===null&&(ft=1,Ku(t,Cn(n,t.current)))}function Dy(){var t=gn.current;return t===null?!0:(Oe&4194048)===Oe?Dn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Dn:!1}function Oy(){var t=B.H;return B.H=Yl,t===null?Yl:t}function My(){var t=B.A;return B.A=P1,t}function rc(){ft=4,Rs||(Oe&4194048)!==Oe&&gn.current!==null||(xa=!0),(Cs&134217727)===0&&(Mr&134217727)===0||tt===null||Ns(tt,Oe,vn,!1)}function id(t,n,r){var l=Ge;Ge|=2;var h=Oy(),f=My();(tt!==t||Oe!==n)&&(ic=null,Oa(t,n)),n=!1;var g=ft;e:do try{if(Xe!==0&&xe!==null){var E=xe,x=_n;switch(Xe){case 8:nd(),g=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var j=Xe;if(Xe=0,_n=null,Ma(t,E,x,j),r&&xa){g=0;break e}break;default:j=Xe,Xe=0,_n=null,Ma(t,E,x,j)}}j1(),g=ft;break}catch(G){Ny(t,G)}while(!0);return n&&t.shellSuspendCounter++,ki=Ar=null,Ge=l,B.H=h,B.A=f,xe===null&&(tt=null,Oe=0,wu()),g}function j1(){for(;xe!==null;)Vy(xe)}function z1(t,n){var r=Ge;Ge|=2;var l=Oy(),h=My();tt!==t||Oe!==n?(ic=null,nc=Wt()+500,Oa(t,n)):xa=Un(t,n);e:do try{if(Xe!==0&&xe!==null){n=xe;var f=_n;t:switch(Xe){case 1:Xe=0,_n=null,Ma(t,n,f,1);break;case 2:case 9:if(Fp(f)){Xe=0,_n=null,ky(n);break}n=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),vi(t)},f.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Fp(f)?(Xe=0,_n=null,ky(n)):(Xe=0,_n=null,Ma(t,n,f,7));break;case 5:var g=null;switch(xe.tag){case 26:g=xe.memoizedState;case 5:case 27:var E=xe;if(g?E_(g):E.stateNode.complete){Xe=0,_n=null;var x=E.sibling;if(x!==null)xe=x;else{var j=E.return;j!==null?(xe=j,ac(j)):xe=null}break t}}Xe=0,_n=null,Ma(t,n,f,5);break;case 6:Xe=0,_n=null,Ma(t,n,f,6);break;case 8:nd(),ft=6;break e;default:throw Error(a(462))}}B1();break}catch(G){Ny(t,G)}while(!0);return ki=Ar=null,B.H=l,B.A=h,Ge=r,xe!==null?0:(tt=null,Oe=0,wu(),ft)}function B1(){for(;xe!==null&&!Oh();)Vy(xe)}function Vy(t){var n=sy(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,n===null?ac(t):xe=n}function ky(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Jg(r,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=Jg(r,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:_f(n);default:ay(r,n),n=xe=Mp(n,Gi),n=sy(r,n,Gi)}t.memoizedProps=t.pendingProps,n===null?ac(t):xe=n}function Ma(t,n,r,l){ki=Ar=null,_f(n),ba=null,zl=0;var h=n.return;try{if(x1(t,h,n,r,Oe)){ft=1,Ku(t,Cn(r,t.current)),xe=null;return}}catch(f){if(h!==null)throw xe=h,f;ft=1,Ku(t,Cn(r,t.current)),xe=null;return}n.flags&32768?(Ue||l===1?t=!0:xa||(Oe&536870912)!==0?t=!1:(Rs=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Py(n,t)):ac(n)}function ac(t){var n=t;do{if((n.flags&32768)!==0){Py(n,Rs);return}t=n.return;var r=O1(n.alternate,n,Gi);if(r!==null){xe=r;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=t}while(n!==null);ft===0&&(ft=5)}function Py(t,n){do{var r=M1(t.alternate,t);if(r!==null){r.flags&=32767,xe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){xe=t;return}xe=t=r}while(t!==null);ft=6,xe=null}function Ly(t,n,r,l,h,f,g,E,x){t.cancelPendingCommit=null;do lc();while(Dt!==0);if((Ge&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,kh(t,r,f,g,E,x),t===tt&&(xe=tt=null,Oe=0),Da=n,xs=t,Qi=r,Wf=f,ed=h,Ry=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,G1(as,function(){return qy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=te.p,te.p=2,g=Ge,Ge|=4;try{V1(t,n,r)}finally{Ge=g,te.p=h,B.T=l}}Dt=1,Uy(),jy(),zy()}}function Uy(){if(Dt===1){Dt=0;var t=xs,n=Da,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var l=te.p;te.p=2;var h=Ge;Ge|=4;try{_y(n,t);var f=pd,g=Ap(t.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Sp(E.ownerDocument.documentElement,E)){if(x!==null&&jh(E)){var j=x.start,G=x.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var H=z.getSelection(),re=E.textContent.length,me=Math.min(x.start,re),et=x.end===void 0?me:Math.min(x.end,re);!H.extend&&me>et&&(g=et,et=me,me=g);var k=bp(E,me),D=bp(E,et);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=K.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),me>et?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(K=[],H=E;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}vc=!!md,pd=md=null}finally{Ge=h,te.p=l,B.T=r}}t.current=n,Dt=2}}function jy(){if(Dt===2){Dt=0;var t=xs,n=Da,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var l=te.p;te.p=2;var h=Ge;Ge|=4;try{dy(t,n.alternate,n)}finally{Ge=h,te.p=l,B.T=r}}Dt=3}}function zy(){if(Dt===4||Dt===3){Dt=0,Zo();var t=xs,n=Da,r=Qi,l=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Da=xs=null,By(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Is=null),xi(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=B.T,h=te.p,te.p=2,B.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{B.T=n,te.p=h}}(Qi&3)!==0&&lc(),vi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===td?io++:(io=0,td=t):io=0,so(0)}}function By(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ul(n)))}function lc(){return Uy(),jy(),zy(),qy()}function qy(){if(Dt!==5)return!1;var t=xs,n=Wf;Wf=0;var r=xi(Qi),l=B.T,h=te.p;try{te.p=32>r?32:r,B.T=null,r=ed,ed=null;var f=xs,g=Qi;if(Dt=0,Da=xs=null,Qi=0,(Ge&6)!==0)throw Error(a(331));var E=Ge;if(Ge|=4,Sy(f.current),Ey(f,f.current,g,r),Ge=E,so(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{te.p=h,B.T=l,By(t,n)}}function Hy(t,n,r){n=Cn(r,n),n=Mf(t.stateNode,n,2),t=bs(t,n,2),t!==null&&(lr(t,2),vi(t))}function $e(t,n,r){if(t.tag===3)Hy(t,t,r);else for(;n!==null;){if(n.tag===3){Hy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){t=Cn(r,t),r=Fg(2),l=bs(n,r,2),l!==null&&(Gg(r,l,n,t),lr(l,2),vi(l));break}}n=n.return}}function sd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new L1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||($f=!0,h.add(r),t=q1.bind(null,t,n,r),n.then(t,t))}function q1(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,tt===t&&(Oe&r)===r&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>Wt()-tc?(Ge&2)===0&&Oa(t,0):Zf|=r,Na===Oe&&(Na=0)),vi(t)}function Fy(t,n){n===0&&(n=iu()),t=Tr(t,n),t!==null&&(lr(t,n),vi(t))}function H1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Fy(t,r)}function F1(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Fy(t,r)}function G1(t,n){return Nt(t,n)}var oc=null,Va=null,rd=!1,uc=!1,ad=!1,Ds=0;function vi(t){t!==Va&&t.next===null&&(Va===null?oc=Va=t:Va=Va.next=t),uc=!0,rd||(rd=!0,K1())}function so(t,n){if(!ad&&uc){ad=!0;do for(var r=!1,l=oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Yy(l,f))}else f=Oe,f=ti(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(r=!0,Yy(l,f));l=l.next}while(r);ad=!1}}function Q1(){Gy()}function Gy(){uc=rd=!1;var t=0;Ds!==0&&ib()&&(t=Ds);for(var n=Wt(),r=null,l=oc;l!==null;){var h=l.next,f=Qy(l,n);f===0?(l.next=null,r===null?oc=h:r.next=h,h===null&&(Va=r)):(r=l,(t!==0||(f&3)!==0)&&(uc=!0)),l=h}Dt!==0&&Dt!==5||so(t),Ds!==0&&(Ds=0)}function Qy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-dt(f),E=1<<g,x=h[g];x===-1?((E&r)===0||(E&l)!==0)&&(h[g]=Vh(E,n)):x<=n&&(t.expiredLanes|=E),f&=~E}if(n=tt,r=Oe,r=ti(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Un(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&rs(l),xi(r)){case 2:case 8:r=ml;break;case 32:r=as;break;case 268435456:r=Jo;break;default:r=as}return l=Ky.bind(null,t),r=Nt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&rs(l),t.callbackPriority=2,t.callbackNode=null,2}function Ky(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(lc()&&t.callbackNode!==r)return null;var l=Oe;return l=ti(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iy(t,l,n),Qy(t,Wt()),t.callbackNode!=null&&t.callbackNode===r?Ky.bind(null,t):null)}function Yy(t,n){if(lc())return null;Iy(t,n,!0)}function K1(){rb(function(){(Ge&6)!==0?Nt(dl,Q1):Gy()})}function ld(){if(Ds===0){var t=va;t===0&&(t=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ds=t}return Ds}function Xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function $y(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Y1(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Xy((h[Vt]||null).action),g=l.submitter;g&&(n=(n=g[Vt]||null)?Xy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var x=g?$y(h,g):new FormData(h);Cf(r,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?$y(h,g):new FormData(h),Cf(r,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var od=0;od<Hh.length;od++){var ud=Hh[od],X1=ud.toLowerCase(),$1=ud[0].toUpperCase()+ud.slice(1);Qn(X1,"on"+$1)}Qn(Cp,"onAnimationEnd"),Qn(Ip,"onAnimationIteration"),Qn(xp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(f1,"onTransitionRun"),Qn(d1,"onTransitionStart"),Qn(m1,"onTransitionCancel"),Qn(Np,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Zy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=x}else for(g=0;g<l.length;g++){if(E=l[g],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=x}}}}function Ne(t,n){var r=n[Wr];r===void 0&&(r=n[Wr]=new Set);var l=t+"__bubble";r.has(l)||(Jy(n,t,2,!1),r.add(l))}function cd(t,n,r){var l=0;n&&(l|=4),Jy(r,t,l,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[cc]){t[cc]=!0,yl.forEach(function(r){r!=="selectionchange"&&(Z1.has(r)||cd(r,!1,t),cd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[cc]||(n[cc]=!0,cd("selectionchange",!1,n))}}function Jy(t,n,r,l){switch(C_(n)){case 2:var h=wb;break;case 8:h=Rb;break;default:h=Rd}r=h.bind(null,n,r,t),h=void 0,!dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function fd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){l=f=g;continue e}E=E.parentNode}}l=l.return}fs(function(){var j=f,G=Sn(r),K=[];e:{var z=Dp.get(t);if(z!==void 0){var H=fi,re=t;switch(t){case"keypress":if(pr(r)===0)break e;case"keydown":case"keyup":H=Tu;break;case"focusin":re="focus",H=yr;break;case"focusout":re="blur",H=yr;break;case"beforeblur":case"afterblur":H=yr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Cp:case Ip:case xp:H=mu;break;case Np:H=T;break;case"scroll":case"scrollend":H=xl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Oi;break;case"toggle":case"beforetoggle":H=Se}var me=(n&4)!==0,et=!me&&(t==="scroll"||t==="scrollend"),k=me?z!==null?z+"Capture":null:z;me=[];for(var D=j,U;D!==null;){var Q=D;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||k===null||(Q=qn(D,k),Q!=null&&me.push(ao(D,Q,U))),et)break;D=D.return}0<me.length&&(z=new H(z,re,null,r,G),K.push({event:z,listeners:me}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==Rl&&(re=r.relatedTarget||r.fromElement)&&(ri(re)||re[ii]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(re=r.relatedTarget||r.toElement,H=j,re=re?ri(re):null,re!==null&&(et=c(re),me=re.tag,re!==et||me!==5&&me!==27&&me!==6)&&(re=null)):(H=null,re=j),H!==re)){if(me=Nl,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(me=Oi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),et=H==null?z:fn(H),U=re==null?z:fn(re),z=new me(Q,D+"leave",H,r,G),z.target=et,z.relatedTarget=U,Q=null,ri(G)===j&&(me=new me(k,D+"enter",re,r,G),me.target=U,me.relatedTarget=et,Q=me),et=Q,H&&re)t:{for(me=J1,k=H,D=re,U=0,Q=k;Q;Q=me(Q))U++;Q=0;for(var he=D;he;he=me(he))Q++;for(;0<U-Q;)k=me(k),U--;for(;0<Q-U;)D=me(D),Q--;for(;U--;){if(k===D||D!==null&&k===D.alternate){me=k;break t}k=me(k),D=me(D)}me=null}else me=null;H!==null&&Wy(K,z,H,me,!1),re!==null&&et!==null&&Wy(K,et,re,me,!0)}}e:{if(z=j?fn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var qe=gp;else if(mp(z))if(yp)qe=u1;else{qe=l1;var ae=a1}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ia(j.elementType)&&(qe=gp):qe=o1;if(qe&&(qe=qe(t,j))){pp(K,qe,r,G);break e}ae&&ae(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Sl(z,"number",z.value)}switch(ae=j?fn(j):window,t){case"focusin":(mp(ae)||ae.contentEditable==="true")&&(ha=ae,zh=j,kl=null);break;case"focusout":kl=zh=ha=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,wp(K,r,G);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":wp(K,r,G)}var Re;if(Fe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ca?_r(t,r)&&(Me="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Me="onCompositionStart");Me&&(pi&&r.locale!=="ko"&&(ca||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ca&&(Re=Il()):(hi=G,Cl="value"in hi?hi.value:hi.textContent,ca=!0)),ae=hc(j,Me),0<ae.length&&(Me=new mi(Me,t,null,r,G),K.push({event:Me,listeners:ae}),Re?Me.data=Re:(Re=ua(r),Re!==null&&(Me.data=Re)))),(Re=wn?n1(t,r):i1(t,r))&&(Me=hc(j,"onBeforeInput"),0<Me.length&&(ae=new mi("onBeforeInput","beforeinput",null,r,G),K.push({event:ae,listeners:Me}),ae.data=Re)),Y1(K,t,j,r,G)}Zy(K,n)})}function ao(t,n,r){return{instance:t,listener:n,currentTarget:r}}function hc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(t,r),h!=null&&l.unshift(ao(t,h,f)),h=qn(t,n),h!=null&&l.push(ao(t,h,f))),t.tag===3)return l;t=t.return}return[]}function J1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wy(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var E=r,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===l)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=qn(r,f),j!=null&&g.unshift(ao(r,j,x))):h||(j=qn(r,f),j!=null&&g.push(ao(r,j,x)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var W1=/\r\n?/g,eb=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(W1,`
`).replace(eb,"")}function t_(t,n){return n=e_(n),e_(t)===n}function We(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,r,l);break;case"style":wl(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=sa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&We(t,n,"name",h.name,h,null),We(t,n,"formEncType",h.formEncType,h,null),We(t,n,"formMethod",h.formMethod,h,null),We(t,n,"formTarget",h.formTarget,h,null)):(We(t,n,"encType",h.encType,h,null),We(t,n,"method",h.method,h,null),We(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=sa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ta(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,ta(t,r,l))}}function dd(t,n,r,l,h,f){switch(r){case"style":wl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Vt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ta(t,r,l)}}}function Ft(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(t,n,f,g,r,null)}}h&&We(t,n,"srcSet",r.srcSet,r,null),l&&We(t,n,"src",r.src,r,null);return;case"input":Ne("invalid",t);var E=f=g=h=null,x=null,j=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":x=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:We(t,n,l,G,r,null)}}ou(t,f,E,x,j,g,h,!1);return;case"select":Ne("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:We(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!l,n!=null?os(t,!!l,n,!1):r!=null&&os(t,!!l,r,!0);return;case"textarea":Ne("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:We(t,n,g,E,r,null)}us(t,l,h,f);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(l=r[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,n,x,l,r,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<ro.length;l++)Ne(ro[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(t,n,j,l,r,null)}return;default:if(ia(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&dd(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&We(t,n,E,l,r,null))}function tb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,j=null,G=null;for(H in r){var K=r[H];if(r.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=K;default:l.hasOwnProperty(H)||We(t,n,H,null,l,K)}}for(var z in l){var H=l[z];if(K=r[z],l.hasOwnProperty(z)&&(H!=null||K!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&We(t,n,z,H,l,K)}}na(t,g,E,x,j,G,f,h);return;case"select":H=g=E=z=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:l.hasOwnProperty(f)||We(t,n,f,null,l,x)}for(h in l)if(f=l[h],x=r[h],l.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&We(t,n,h,f,l,x)}n=E,r=g,l=H,z!=null?os(t,!!r,z,!1):!!l!=!!r&&(n!=null?os(t,!!r,n,!0):os(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&We(t,n,g,h,l,f)}uu(t,z,H);return;case"option":for(var re in r)if(z=r[re],r.hasOwnProperty(re)&&z!=null&&!l.hasOwnProperty(re))switch(re){case"selected":t.selected=!1;break;default:We(t,n,re,null,l,z)}for(x in l)if(z=l[x],H=r[x],l.hasOwnProperty(x)&&z!==H&&(z!=null||H!=null))switch(x){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:We(t,n,x,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in r)z=r[me],r.hasOwnProperty(me)&&z!=null&&!l.hasOwnProperty(me)&&We(t,n,me,null,l,z);for(j in l)if(z=l[j],H=r[j],l.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:We(t,n,j,z,l,H)}return;default:if(ia(n)){for(var et in r)z=r[et],r.hasOwnProperty(et)&&z!==void 0&&!l.hasOwnProperty(et)&&dd(t,n,et,void 0,l,z);for(G in l)z=l[G],H=r[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||dd(t,n,G,z,l,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&We(t,n,k,null,l,z);for(K in l)z=l[K],H=r[K],!l.hasOwnProperty(K)||z===H||z==null&&H==null||We(t,n,K,z,l,H)}function n_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&n_(g)){for(g=0,E=h.responseEnd,l+=1;l<r.length;l++){var x=r[l],j=x.startTime;if(j>E)break;var G=x.transferSize,K=x.initiatorType;G&&n_(K)&&(x=x.responseEnd,g+=G*(x<E?1:(E-j)/(x-j)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var md=null,pd=null;function fc(t){return t.nodeType===9?t:t.ownerDocument}function i_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function ib(){var t=window.event;return t&&t.type==="popstate"?t===yd?!1:(yd=t,!0):(yd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(ab)}:r_;function ab(t){setTimeout(function(){throw t})}function Os(t){return t==="head"}function l_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Ua(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")lo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,lo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&lo(t.ownerDocument.body);r=h}while(r);Ua(n)}function o_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function _d(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":_d(r),ea(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function lb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function ob(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function u_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function vd(t){return t.data==="$?"||t.data==="$~"}function Ed(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ub(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Td=null;function c_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return On(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function h_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function f_(t,n,r){switch(n=fc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function lo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ea(t)}var Mn=new Map,d_=new Set;function dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=te.d;te.d={f:cb,r:hb,D:fb,C:db,L:mb,m:pb,X:yb,S:gb,M:_b};function cb(){var t=Ki.f(),n=sc();return t||n}function hb(t){var n=bn(t);n!==null&&n.tag===5&&n.type==="form"?Ng(n):Ki.r(t)}var ka=typeof document>"u"?null:document;function m_(t,n,r){var l=ka;if(l&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),d_.has(h)||(d_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),Tt(n),l.head.appendChild(n)))}}function fb(t){Ki.D(t),m_("dns-prefetch",t,null)}function db(t,n){Ki.C(t,n),m_("preconnect",t,n)}function mb(t,n,r){Ki.L(t,n,r);var l=ka;if(l&&t&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var f=h;switch(n){case"style":f=Pa(t);break;case"script":f=La(t)}Mn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Mn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),Ft(n,"link",t),Tt(n),l.head.appendChild(n)))}}function pb(t,n){Ki.m(t,n);var r=ka;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(t)}if(!Mn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Mn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(uo(f)))return}l=r.createElement("link"),Ft(l,"link",t),Tt(l),r.head.appendChild(l)}}}function gb(t,n,r){Ki.S(t,n,r);var l=ka;if(l&&t){var h=ai(l).hoistableStyles,f=Pa(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(oo(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Mn.get(f))&&bd(t,r);var x=g=l.createElement("link");Tt(x),Ft(x,"link",t),x._p=new Promise(function(j,G){x.onload=j,x.onerror=G}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function yb(t,n){Ki.X(t,n);var r=ka;if(r&&t){var l=ai(r).hoistableScripts,h=La(t),f=l.get(h);f||(f=r.querySelector(uo(h)),f||(t=w({src:t,async:!0},n),(n=Mn.get(h))&&Sd(t,n),f=r.createElement("script"),Tt(f),Ft(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function _b(t,n){Ki.M(t,n);var r=ka;if(r&&t){var l=ai(r).hoistableScripts,h=La(t),f=l.get(h);f||(f=r.querySelector(uo(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Mn.get(h))&&Sd(t,n),f=r.createElement("script"),Tt(f),Ft(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function p_(t,n,r,l){var h=(h=we.current)?dc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Pa(r.href),r=ai(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Pa(r.href);var f=ai(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(oo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(t,r),f||vb(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(r),r=ai(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Pa(t){return'href="'+nn(t)+'"'}function oo(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function vb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",r),Tt(n),t.head.appendChild(n))}function La(t){return'[src="'+nn(t)+'"]'}function uo(t){return"script[async]"+t}function y_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+nn(r.href)+'"]');if(l)return n.instance=l,Tt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Ft(l,"style",h),mc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Pa(r.href);var f=t.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;l=g_(r),(h=Mn.get(h))&&bd(l,h),f=(t.ownerDocument||t).createElement("link"),Tt(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Ft(f,"link",l),n.state.loading|=4,mc(f,r.precedence,t),n.instance=f;case"script":return f=La(r.src),(h=t.querySelector(uo(f)))?(n.instance=h,Tt(h),h):(l=r,(h=Mn.get(f))&&(l=w({},r),Sd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mc(l,r.precedence,t));return n.instance}function mc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var pc=null;function __(t,n,r){if(pc===null){var l=new Map,h=pc=new Map;h.set(r,l)}else h=pc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[si]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function v_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Eb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Tb(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Pa(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=gc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Tt(f);return}f=n.ownerDocument||n,l=g_(l),(h=Mn.get(h))&&bd(l,h),f=f.createElement("link"),Tt(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Ft(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=gc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Ad=0;function bb(t,n){return t.stylesheets&&t.count===0&&_c(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*nb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function _c(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,n.forEach(Sb,t),yc=null,gc.call(t))}function Sb(t,n){if(!(n.state.loading&4)){var r=yc.get(t);if(r)var l=r.get(null);else{r=new Map,yc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var co={$$typeof:fe,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Ab(t,n,r,l,h,f,g,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function T_(t,n,r,l,h,f,g,E,x,j,G,K){return t=new Ab(t,n,r,g,x,j,G,K,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=nf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},lf(f),t}function b_(t){return t?(t=ma,t):ma}function S_(t,n,r,l,h,f){h=b_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ts(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=bs(t,l,n),r!==null&&(un(r,t,n),ql(r,t,n))}function A_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function wd(t,n){A_(t,n),(t=t.alternate)&&A_(t,n)}function w_(t){if(t.tag===13||t.tag===31){var n=Tr(t,67108864);n!==null&&un(n,t,67108864),wd(t,67108864)}}function R_(t){if(t.tag===13||t.tag===31){var n=En();n=ur(n);var r=Tr(t,n);r!==null&&un(r,t,n),wd(t,n)}}var vc=!0;function wb(t,n,r,l){var h=B.T;B.T=null;var f=te.p;try{te.p=2,Rd(t,n,r,l)}finally{te.p=f,B.T=h}}function Rb(t,n,r,l){var h=B.T;B.T=null;var f=te.p;try{te.p=8,Rd(t,n,r,l)}finally{te.p=f,B.T=h}}function Rd(t,n,r,l){if(vc){var h=Cd(l);if(h===null)fd(t,n,l,Ec,r),I_(t,l);else if(Ib(h,t,n,r,l))l.stopPropagation();else if(I_(t,l),n&4&&-1<Cb.indexOf(t)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-dt(g);E.entanglements[1]|=x,g&=~x}vi(f),(Ge&6)===0&&(nc=Wt()+500,so(0))}}break;case 31:case 13:E=Tr(f,2),E!==null&&un(E,f,2),sc(),wd(f,2)}if(f=Cd(l),f===null&&fd(t,n,l,Ec,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else fd(t,n,l,null,r)}}function Cd(t){return t=Sn(t),Id(t)}var Ec=null;function Id(t){if(Ec=null,t=ri(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ec=t,null}function C_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case dl:return 2;case ml:return 8;case as:case Mh:return 32;case Jo:return 268435456;default:return 32}default:return 32}}var xd=!1,Ms=null,Vs=null,ks=null,ho=new Map,fo=new Map,Ps=[],Cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(t,n){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&w_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Ib(t,n,r,l,h){switch(n){case"focusin":return Ms=mo(Ms,t,n,r,l,h),!0;case"dragenter":return Vs=mo(Vs,t,n,r,l,h),!0;case"mouseover":return ks=mo(ks,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,t,n,r,l,h)),!0}return!1}function x_(t){var n=ri(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,jn(t.priority,function(){R_(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,jn(t.priority,function(){R_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Cd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Rl=l,r.target.dispatchEvent(l),Rl=null}else return n=bn(r),n!==null&&w_(n),t.blockedOn=r,!1;n.shift()}return!0}function N_(t,n,r){Tc(t)&&r.delete(n)}function xb(){xd=!1,Ms!==null&&Tc(Ms)&&(Ms=null),Vs!==null&&Tc(Vs)&&(Vs=null),ks!==null&&Tc(ks)&&(ks=null),ho.forEach(N_),fo.forEach(N_)}function bc(t,n){t.blockedOn===n&&(t.blockedOn=null,xd||(xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xb)))}var Sc=null;function D_(t){Sc!==t&&(Sc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===t&&(Sc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Id(l||r)===null)continue;break}var f=bn(r);f!==null&&(t.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Ua(t){function n(x){return bc(x,t)}Ms!==null&&bc(Ms,t),Vs!==null&&bc(Vs,t),ks!==null&&bc(ks,t),ho.forEach(n),fo.forEach(n);for(var r=0;r<Ps.length;r++){var l=Ps[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ps.length&&(r=Ps[0],r.blockedOn===null);)x_(r),r.blockedOn===null&&Ps.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Vt]||null;if(typeof f=="function")g||D_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Vt]||null)E=g.formAction;else if(Id(h)!==null)continue}else E=g.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),D_(r)}}}function O_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(t){this._internalRoot=t}Ac.prototype.render=Nd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=En();S_(r,l,t,n,null,null)},Ac.prototype.unmount=Nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;S_(t.current,2,null,t,null,null),sc(),n[ii]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var n=su();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ps.length&&n!==0&&n<Ps[r].priority;r++);Ps.splice(r,0,t),r===0&&x_(t)}};var M_=e.version;if(M_!=="19.2.0")throw Error(a(527,M_,"19.2.0"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Nb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Ln=wc.inject(Nb),jt=wc}catch{}}return go.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=zg,f=Bg,g=qg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=T_(t,1,!1,null,null,r,l,null,h,f,g,O_),t[ii]=n.current,hd(t),new Nd(n)},go.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=zg,g=Bg,E=qg,x=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),n=T_(t,1,!0,n,r??null,l,h,x,f,g,E,O_),n.context=b_(null),r=n.current,l=En(),l=ur(l),h=Ts(l),h.callback=null,bs(r,h,l),r=l,n.current.lanes=r,lr(n,r),vi(n),t[ii]=n.current,hd(t),new Ac(n)},go.version="19.2.0",go}var H_;function Bb(){if(H_)return Md.exports;H_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Md.exports=zb(),Md.exports}var qb=Bb();const Hb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),F_=s=>{const e=Fb(s);return e.charAt(0).toUpperCase()+e.slice(1)},Rv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),Gb=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Kb=ve.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>ve.createElement("svg",{ref:y,...Qb,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Rv("lucide",o),...!c&&!Gb(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,S])=>ve.createElement(_,S)),...Array.isArray(c)?c:[c]]));const nt=(s,e)=>{const i=ve.forwardRef(({className:a,...o},c)=>ve.createElement(Kb,{ref:c,iconNode:e,className:Rv(`lucide-${Hb(F_(s))}`,`lucide-${s}`,a),...o}));return i.displayName=F_(s),i};const Yb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Xb=nt("activity",Yb);const $b=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],Zb=nt("app-window",$b);const Jb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cv=nt("circle-check-big",Jb);const Wb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eS=nt("download",Wb);const tS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Iv=nt("file-text",tS);const nS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fc=nt("globe",nS);const iS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sS=nt("info",iS);const rS=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xv=nt("key",rS);const aS=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Zd=nt("layout-grid",aS);const lS=[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],oS=nt("link-2-off",lS);const uS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gs=nt("loader-circle",uS);const cS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jd=nt("lock",cS);const hS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],G_=nt("log-out",hS);const fS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],dS=nt("mail",fS);const mS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pS=nt("menu",mS);const gS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gc=nt("plus",gS);const yS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rc=nt("search",yS);const _S=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],vS=nt("server",_S);const ES=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q_=nt("settings",ES);const TS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nv=nt("shield",TS);const bS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],SS=nt("square-check-big",bS);const AS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],wS=nt("square",AS);const RS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],K_=nt("trash-2",RS);const CS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rm=nt("triangle-alert",CS);const IS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dv=nt("user",IS);const xS=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Y_=nt("wifi",xS);const NS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DS=nt("x",NS),OS=()=>{};var X_={};const Ov=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},MS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,S=c>>2,w=(c&3)<<4|p>>4;let P=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(P=64)),a.push(i[S],i[w],i[P],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ov(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):MS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||w==null)throw new VS;const P=c<<2|p>>4;if(a.push(P),_!==64){const F=p<<4&240|_>>2;if(a.push(F),w!==64){const Z=_<<6&192|w;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kS=function(s){const e=Ov(s);return Mv.encodeByteArray(e,!0)},Qc=function(s){return kS(s).replace(/\./g,"")},Vv=function(s){try{return Mv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LS=()=>PS().__FIREBASE_DEFAULTS__,US=()=>{if(typeof process>"u"||typeof X_>"u")return;const s=X_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Vv(s[1]);return e&&JSON.parse(e)},ph=()=>{try{return OS()||LS()||US()||jS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},kv=s=>ph()?.emulatorHosts?.[s],zS=s=>{const e=kv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Pv=()=>ph()?.config,Lv=s=>ph()?.[`_${s}`];class BS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function il(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(s){return(await fetch(s,{credentials:"include"})).ok}function qS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const So={};function HS(){const s={prod:[],emulator:[]};for(const e of Object.keys(So))So[e]?s.emulator.push(e):s.prod.push(e);return s}function FS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let $_=!1;function jv(s,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||So[s]===e||So[s]||$_)return;So[s]=e;function i(P){return`__firebase__banner__${P}`}const a="__firebase__banner",c=HS().prod.length>0;function d(){const P=document.getElementById(a);P&&P.remove()}function p(P){P.style.display="flex",P.style.background="#7faaf0",P.style.position="fixed",P.style.bottom="5px",P.style.left="5px",P.style.padding=".5em",P.style.borderRadius="5px",P.style.alignItems="center"}function y(P,F){P.setAttribute("width","24"),P.setAttribute("id",F),P.setAttribute("height","24"),P.setAttribute("viewBox","0 0 24 24"),P.setAttribute("fill","none"),P.style.marginLeft="-6px"}function _(){const P=document.createElement("span");return P.style.cursor="pointer",P.style.marginLeft="16px",P.style.fontSize="24px",P.innerHTML=" &times;",P.onclick=()=>{$_=!0,d()},P}function S(P,F){P.setAttribute("id",F),P.innerText="Learn more",P.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",P.setAttribute("target","__blank"),P.style.paddingLeft="5px",P.style.textDecoration="underline"}function w(){const P=FS(a),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),W=i("learnmore"),J=document.getElementById(W)||document.createElement("a"),ue=i("preprendIcon"),pe=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(P.created){const fe=P.element;p(fe),S(J,W);const Be=_();y(pe,ue),fe.append(pe,Z,J,Be),document.body.appendChild(fe)}c?(Z.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function QS(){const s=ph()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function XS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $S(){const s=Jt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ZS(){return!QS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JS(){try{return typeof indexedDB=="object"}catch{return!1}}function WS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const eA="FirebaseError";class ns extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=eA,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?tA(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ns(o,p,a)}}function tA(s,e){return s.replace(nA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const nA=/\{\$([^}]+)}/g;function iA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function jr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(Z_(c)&&Z_(d)){if(!jr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Z_(s){return s!==null&&typeof s=="object"}function Bo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function yo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function _o(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function sA(s,e){const i=new rA(s,e);return i.subscribe.bind(i)}class rA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");aA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}function hn(s){return s&&s._delegate?s._delegate:s}class zr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vr="[DEFAULT]";class lA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new BS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uA(e))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vr){return this.instances.has(e)}getOptions(e=Vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Vr){return this.component?this.component.multipleInstances?e:Vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oA(s){return s===Vr?void 0:s}function uA(s){return s.instantiationMode==="EAGER"}class cA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new lA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const hA={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},fA=Ve.INFO,dA={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},mA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=dA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=fA,this._logHandler=mA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const pA=(s,e)=>e.some(i=>s instanceof i);let J_,W_;function gA(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zv=new WeakMap,Wd=new WeakMap,Bv=new WeakMap,Ud=new WeakMap,Im=new WeakMap;function _A(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Qs(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&zv.set(i,s)}).catch(()=>{}),Im.set(e,s),e}function vA(s){if(Wd.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Wd.set(s,e)}let em={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Wd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Bv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function EA(s){em=s(em)}function TA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(jd(this),e,...i);return Bv.set(a,e.sort?e.sort():[e]),Qs(a)}:yA().includes(s)?function(...e){return s.apply(jd(this),e),Qs(zv.get(this))}:function(...e){return Qs(s.apply(jd(this),e))}}function bA(s){return typeof s=="function"?TA(s):(s instanceof IDBTransaction&&vA(s),pA(s,gA())?new Proxy(s,em):s)}function Qs(s){if(s instanceof IDBRequest)return _A(s);if(Ud.has(s))return Ud.get(s);const e=bA(s);return e!==s&&(Ud.set(s,e),Im.set(e,s)),e}const jd=s=>Im.get(s);function SA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=Qs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Qs(d.result),y.oldVersion,y.newVersion,Qs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const AA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],zd=new Map;function e0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=wA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||AA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return zd.set(e,c),c}EA(s=>({...s,get:(e,i,a)=>e0(e,i)||s.get(e,i,a),has:(e,i)=>!!e0(e,i)||s.has(e,i)}));class RA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CA(s){return s.getComponent()?.type==="VERSION"}const tm="@firebase/app",t0="0.14.6";const Ji=new Cm("@firebase/app"),IA="@firebase/app-compat",xA="@firebase/analytics-compat",NA="@firebase/analytics",DA="@firebase/app-check-compat",OA="@firebase/app-check",MA="@firebase/auth",VA="@firebase/auth-compat",kA="@firebase/database",PA="@firebase/data-connect",LA="@firebase/database-compat",UA="@firebase/functions",jA="@firebase/functions-compat",zA="@firebase/installations",BA="@firebase/installations-compat",qA="@firebase/messaging",HA="@firebase/messaging-compat",FA="@firebase/performance",GA="@firebase/performance-compat",QA="@firebase/remote-config",KA="@firebase/remote-config-compat",YA="@firebase/storage",XA="@firebase/storage-compat",$A="@firebase/firestore",ZA="@firebase/ai",JA="@firebase/firestore-compat",WA="firebase",ew="12.6.0";const nm="[DEFAULT]",tw={[tm]:"fire-core",[IA]:"fire-core-compat",[NA]:"fire-analytics",[xA]:"fire-analytics-compat",[OA]:"fire-app-check",[DA]:"fire-app-check-compat",[MA]:"fire-auth",[VA]:"fire-auth-compat",[kA]:"fire-rtdb",[PA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[UA]:"fire-fn",[jA]:"fire-fn-compat",[zA]:"fire-iid",[BA]:"fire-iid-compat",[qA]:"fire-fcm",[HA]:"fire-fcm-compat",[FA]:"fire-perf",[GA]:"fire-perf-compat",[QA]:"fire-rc",[KA]:"fire-rc-compat",[YA]:"fire-gcs",[XA]:"fire-gcs-compat",[$A]:"fire-fst",[JA]:"fire-fst-compat",[ZA]:"fire-vertex","fire-js":"fire-js",[WA]:"fire-js-all"};const Kc=new Map,nw=new Map,im=new Map;function n0(s,e){try{s.container.addComponent(e)}catch(i){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function $a(s){const e=s.name;if(im.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,s);for(const i of Kc.values())n0(i,s);for(const i of nw.values())n0(i,s);return!0}function xm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Vn(s){return s==null?!1:s.settings!==void 0}const iw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new zo("app","Firebase",iw);class sw{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const sl=ew;function qv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ks.create("bad-app-name",{appName:String(o)});if(i||(i=Pv()),!i)throw Ks.create("no-options");const c=Kc.get(o);if(c){if(jr(i,c.options)&&jr(a,c.config))return c;throw Ks.create("duplicate-app",{appName:o})}const d=new cA(o);for(const y of im.values())d.addComponent(y);const p=new sw(i,a,d);return Kc.set(o,p),p}function Hv(s=nm){const e=Kc.get(s);if(!e&&s===nm&&Pv())return qv();if(!e)throw Ks.create("no-app",{appName:s});return e}function Ys(s,e,i){let a=tw[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}$a(new zr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const rw="firebase-heartbeat-database",aw=1,xo="firebase-heartbeat-store";let Bd=null;function Fv(){return Bd||(Bd=SA(rw,aw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(xo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ks.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function lw(s){try{const i=(await Fv()).transaction(xo),a=await i.objectStore(xo).get(Gv(s));return await i.done,a}catch(e){if(e instanceof ns)Ji.warn(e.message);else{const i=Ks.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(i.message)}}}async function i0(s,e){try{const a=(await Fv()).transaction(xo,"readwrite");await a.objectStore(xo).put(e,Gv(s)),await a.done}catch(i){if(i instanceof ns)Ji.warn(i.message);else{const a=Ks.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function Gv(s){return`${s.name}!${s.options.appId}`}const ow=1024,uw=30;class cw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=s0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uw){const o=dw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s0(),{heartbeatsToSend:i,unsentEntries:a}=hw(this._heartbeatsCache.heartbeats),o=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function s0(){return new Date().toISOString().substring(0,10)}function hw(s,e=ow){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),r0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),r0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JS()?WS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function r0(s){return Qc(JSON.stringify({version:2,heartbeats:s})).length}function dw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function mw(s){$a(new zr("platform-logger",e=>new RA(e),"PRIVATE")),$a(new zr("heartbeat",e=>new cw(e),"PRIVATE")),Ys(tm,t0,s),Ys(tm,t0,"esm2020"),Ys("fire-js","")}mw("");var pw="firebase",gw="12.6.0";Ys(pw,gw,"app");function Qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yw=Qv,Kv=new zo("auth","Firebase",Qv());const Yc=new Cm("@firebase/auth");function _w(s,...e){Yc.logLevel<=Ve.WARN&&Yc.warn(`Auth (${sl}): ${s}`,...e)}function Mc(s,...e){Yc.logLevel<=Ve.ERROR&&Yc.error(`Auth (${sl}): ${s}`,...e)}function Zn(s,...e){throw Nm(s,...e)}function Ti(s,...e){return Nm(s,...e)}function Yv(s,e,i){const a={...yw(),[e]:i};return new zo("auth","Firebase",a).create(e,{appName:s.name})}function $i(s){return Yv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Kv.create(s,...e)}function ge(s,e,...i){if(!s)throw Nm(e,...i)}function Yi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Mc(e),new Error(e)}function Wi(s,e){s||Yi(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function vw(){return a0()==="http:"||a0()==="https:"}function a0(){return typeof self<"u"&&self.location?.protocol||null}function Ew(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vw()||YS()||"connection"in navigator)?navigator.onLine:!0}function Tw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class qo{constructor(e,i){this.shortDelay=e,this.longDelay=i,Wi(i>e,"Short delay should be less than long delay!"),this.isMobile=GS()||XS()}get(){return Ew()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(s,e){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Xv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Sw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Aw=new qo(3e4,6e4);function is(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ss(s,e,i,a,o={}){return $v(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Bo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return KS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&il(s.emulatorConfig.host)&&(_.credentials="include"),Xv.fetch()(await Zv(s,s.config.apiHost,i,p),_)})}async function $v(s,e,i){s._canInitEmulator=!1;const a={...bw,...e};try{const o=new Rw(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Cc(s,"user-disabled",d);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Yv(s,S,_);Zn(s,S)}}catch(o){if(o instanceof ns)throw o;Zn(s,"network-request-failed",{message:String(o)})}}async function Ho(s,e,i,a,o={}){const c=await ss(s,e,i,a,o);return"mfaPendingCredential"in c&&Zn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Zv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Dm(s.config,o):`${s.config.apiScheme}://${o}`;return Sw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function ww(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),Aw.get())})}}function Cc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ti(s,e,a);return o.customData._tokenResponse=i,o}function l0(s){return s!==void 0&&s.enterprise!==void 0}class Cw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return ww(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Iw(s,e){return ss(s,"GET","/v2/recaptchaConfig",is(s,e))}async function xw(s,e){return ss(s,"POST","/v1/accounts:delete",e)}async function Xc(s,e){return ss(s,"POST","/v1/accounts:lookup",e)}function Ao(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nw(s,e=!1){const i=hn(s),a=await i.getIdToken(e),o=Om(a);ge(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ao(qd(o.auth_time)),issuedAtTime:Ao(qd(o.iat)),expirationTime:Ao(qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(s){return Number(s)*1e3}function Om(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Vv(i);return o?JSON.parse(o):(Mc("Failed to decode base64 JWT payload"),null)}catch(o){return Mc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function o0(s){const e=Om(s);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function No(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ns&&Dw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Dw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Ow{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(s){const e=s.auth,i=await s.getIdToken(),a=await No(s,Xc(e,{idToken:i}));ge(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Jv(o.providerUserInfo):[],d=Vw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=p?y:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function Mw(s){const e=hn(s);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vw(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Jv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kw(s,e){const i=await $v(s,{},async()=>{const a=Bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Zv(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&il(s.emulatorConfig.host)&&(y.credentials="include"),Xv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Pw(s,e){return ss(s,"POST","/v2/accounts:revokeToken",is(s,e))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const i=o0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await kw(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Fa;return a&&(ge(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(ge(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(ge(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Us(s,e){ge(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Ow(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await No(this,this.stsTokenManager.getToken(this.auth,e));return ge(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Nw(this,e)}reload(){return Mw(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await No(this,xw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:P,isAnonymous:F,providerData:Z,stsTokenManager:W}=i;ge(w&&W,e,"internal-error");const J=Fa.fromJSON(this.name,W);ge(typeof w=="string",e,"internal-error"),Us(a,e.name),Us(o,e.name),ge(typeof P=="boolean",e,"internal-error"),ge(typeof F=="boolean",e,"internal-error"),Us(c,e.name),Us(d,e.name),Us(p,e.name),Us(y,e.name),Us(_,e.name),Us(S,e.name);const ue=new Xn({uid:w,auth:e,email:o,emailVerified:P,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:S});return Z&&Array.isArray(Z)&&(ue.providerData=Z.map(pe=>({...pe}))),y&&(ue._redirectEventId=y),ue}static async _fromIdTokenResponse(e,i,a=!1){const o=new Fa;o.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await $c(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];ge(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Jv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(a);const y=new Xn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const u0=new Map;function Xi(s){Wi(s instanceof Function,"Expected a class definition");let e=u0.get(s);return e?(Wi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,u0.set(s,e),e)}class Wv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Wv.type="NONE";const c0=Wv;function Vc(s,e,i){return`firebase:${s}:${e}:${i}`}class Ga{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Vc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Xc(this.auth,{idToken:e}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ga(Xi(c0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Xi(c0);const d=Vc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let w;if(typeof S=="string"){const P=await Xc(e,{idToken:S}).catch(()=>{});if(!P)break;w=await Xn._fromGetAccountInfoResponse(e,P,S)}else w=Xn._fromJSON(e,S);_!==c&&(p=w),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ga(c,e,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ga(c,e,a))}}function h0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rE(e))return"Blackberry";if(aE(e))return"Webos";if(tE(e))return"Safari";if((e.includes("chrome/")||nE(e))&&!e.includes("edge/"))return"Chrome";if(sE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function eE(s=Jt()){return/firefox\//i.test(s)}function tE(s=Jt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nE(s=Jt()){return/crios\//i.test(s)}function iE(s=Jt()){return/iemobile/i.test(s)}function sE(s=Jt()){return/android/i.test(s)}function rE(s=Jt()){return/blackberry/i.test(s)}function aE(s=Jt()){return/webos/i.test(s)}function Mm(s=Jt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Lw(s=Jt()){return Mm(s)&&!!window.navigator?.standalone}function Uw(){return $S()&&document.documentMode===10}function lE(s=Jt()){return Mm(s)||sE(s)||aE(s)||rE(s)||/windows phone/i.test(s)||iE(s)}function oE(s,e=[]){let i;switch(s){case"Browser":i=h0(Jt());break;case"Worker":i=`${h0(Jt())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class jw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function zw(s,e={}){return ss(s,"GET","/v2/passwordPolicy",is(s,e))}const Bw=6;class qw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Bw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Hw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f0(this),this.idTokenSubscription=new f0(this),this.beforeStateQueue=new jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Xc(this,{idToken:e}),a=await Xn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject($i(this));const i=e?hn(e):null;return i&&ge(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zw(this),i=new qw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Pw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Xi(e)||this._popupRedirectResolver;ge(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_w(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nr(s){return hn(s)}class f0{constructor(e){this.auth=e,this.observer=null,this.addObserver=sA(i=>this.observer=i)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fw(s){gh=s}function uE(s){return gh.loadJS(s)}function Gw(){return gh.recaptchaEnterpriseScript}function Qw(){return gh.gapiScript}function Kw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Yw{constructor(){this.enterprise=new Xw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Xw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const $w="recaptcha-enterprise",cE="NO_RECAPTCHA";class Zw{constructor(e){this.type=$w,this.auth=nr(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Iw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Cw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function o(c,d,p){const y=window.grecaptcha;l0(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(cE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&l0(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Gw();y.length!==0&&(y+=p),uE(y).then(()=>{o(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function d0(s,e,i,a=!1,o=!1){const c=new Zw(s);let d;if(o)d=cE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Zc(s,e,i,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await d0(s,e,i,i==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await d0(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Jw(s,e){const i=xm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(jr(c,e??{}))return o;Zn(o,"already-initialized")}return i.initialize({options:e})}function Ww(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function e2(s,e,i){const a=nr(s);ge(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=hE(e),{host:d,port:p}=t2(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ge(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ge(jr(_,a.config.emulator)&&jr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,il(d)?(Uv(`${c}//${d}${y}`),jv("Auth",!0)):n2()}function hE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function t2(s){const e=hE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:m0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:m0(d)}}}function m0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function n2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Vm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,i){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function i2(s,e){return ss(s,"POST","/v1/accounts:signUp",e)}async function s2(s,e){return Ho(s,"POST","/v1/accounts:signInWithPassword",is(s,e))}async function r2(s,e){return ss(s,"POST","/v1/accounts:sendOobCode",is(s,e))}async function a2(s,e){return r2(s,e)}async function l2(s,e){return Ho(s,"POST","/v1/accounts:signInWithEmailLink",is(s,e))}async function o2(s,e){return Ho(s,"POST","/v1/accounts:signInWithEmailLink",is(s,e))}class Do extends Vm{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Do(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Do(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zc(e,i,"signInWithPassword",s2);case"emailLink":return l2(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zc(e,a,"signUpPassword",i2);case"emailLink":return o2(e,{idToken:i,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qa(s,e){return Ho(s,"POST","/v1/accounts:signInWithIdp",is(s,e))}const u2="http://localhost";class Br extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Br(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Br(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Qa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Qa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Qa(e,i)}buildRequest(){const e={requestUri:u2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Bo(i)}return e}}function c2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h2(s){const e=yo(_o(s)).link,i=e?yo(_o(e)).deep_link_id:null,a=yo(_o(s)).deep_link_id;return(a?yo(_o(a)).link:null)||a||i||e||s}class km{constructor(e){const i=yo(_o(e)),a=i.apiKey??null,o=i.oobCode??null,c=c2(i.mode??null);ge(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=h2(e);try{return new km(i)}catch{return null}}}class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,i){return Do._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=km.parseLink(i);return ge(a,"argument-error"),Do._fromEmailAndCode(e,a.code,a.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class fE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fo extends fE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zs extends Fo{constructor(){super("facebook.com")}static credential(e){return Br._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class Bs extends Fo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Br._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Fo{constructor(){super("github.com")}static credential(e){return Br._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Fo{constructor(){super("twitter.com")}static credential(e,i){return Br._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";async function f2(s,e){return Ho(s,"POST","/v1/accounts:signUp",is(s,e))}class qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Xn._fromIdTokenResponse(e,a,o),d=p0(a);return new qr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=p0(a);return new qr({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function p0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Jc extends ns{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Jc(e,i,a,o)}}function dE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,c,e,a):c})}async function d2(s,e,i=!1){const a=await No(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return qr._forOperation(s,"link",a)}async function m2(s,e,i=!1){const{auth:a}=s;if(Vn(a.app))return Promise.reject($i(a));const o="reauthenticate";try{const c=await No(s,dE(a,o,e,s),i);ge(c.idToken,a,"internal-error");const d=Om(c.idToken);ge(d,a,"internal-error");const{sub:p}=d;return ge(s.uid===p,a,"user-mismatch"),qr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zn(a,"user-mismatch"),c}}async function mE(s,e,i=!1){if(Vn(s.app))return Promise.reject($i(s));const a="signIn",o=await dE(s,a,e),c=await qr._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function p2(s,e){return mE(nr(s),e)}async function pE(s){const e=nr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function g2(s,e,i){const a=nr(s);await Zc(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",a2)}async function y2(s,e,i){if(Vn(s.app))return Promise.reject($i(s));const a=nr(s),d=await Zc(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f2).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&pE(s),y}),p=await qr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function _2(s,e,i){return Vn(s.app)?Promise.reject($i(s)):p2(hn(s),rl.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&pE(s),a})}function v2(s,e,i,a){return hn(s).onIdTokenChanged(e,i,a)}function E2(s,e,i){return hn(s).beforeAuthStateChanged(e,i)}function T2(s,e,i,a){return hn(s).onAuthStateChanged(e,i,a)}function b2(s){return hn(s).signOut()}const Wc="__sak";class gE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const S2=1e3,A2=10;class yE extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Uw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,A2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}yE.type="LOCAL";const w2=yE;class _E extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}_E.type="SESSION";const vE=_E;function R2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new yh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await R2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function Pm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class C2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Pm("",20);o.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const P=w;if(P.data.eventId===_)switch(P.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(P.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bi(){return window}function I2(s){bi().location.href=s}function EE(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function x2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N2(){return navigator?.serviceWorker?.controller||null}function D2(){return EE()?self:null}const TE="firebaseLocalStorageDb",O2=1,eh="firebaseLocalStorage",bE="fbase_key";class Go{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(s,e){return s.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function M2(){const s=indexedDB.deleteDatabase(TE);return new Go(s).toPromise()}function am(){const s=indexedDB.open(TE,O2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eh,{keyPath:bE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eh)?e(a):(a.close(),await M2(),e(await am()))})})}async function g0(s,e,i){const a=_h(s,!0).put({[bE]:e,value:i});return new Go(a).toPromise()}async function V2(s,e){const i=_h(s,!1).get(e),a=await new Go(i).toPromise();return a===void 0?null:a.value}function y0(s,e){const i=_h(s,!0).delete(e);return new Go(i).toPromise()}const k2=800,P2=3;class SE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>P2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(D2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await x2(),!this.activeServiceWorker)return;this.sender=new C2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await g0(e,Wc,"1"),await y0(e,Wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>g0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>V2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>y0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=_h(o,!1).getAll();return new Go(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SE.type="LOCAL";const L2=SE;new qo(3e4,6e4);function U2(s,e){return e?Xi(e):(ge(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Lm extends Vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Qa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function j2(s){return mE(s.auth,new Lm(s),s.bypassAuthState)}function z2(s){const{auth:e,user:i}=s;return ge(i,e,"internal-error"),m2(i,new Lm(s),s.bypassAuthState)}async function B2(s){const{auth:e,user:i}=s;return ge(i,e,"internal-error"),d2(i,new Lm(s),s.bypassAuthState)}class AE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j2;case"linkViaPopup":case"linkViaRedirect":return B2;case"reauthViaPopup":case"reauthViaRedirect":return z2;default:Zn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const q2=new qo(2e3,1e4);class Ha extends AE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q2.get())};e()}}Ha.currentPopupAction=null;const H2="pendingRedirect",kc=new Map;class F2 extends AE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const a=await G2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G2(s,e){const i=Y2(e),a=K2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Q2(s,e){kc.set(s._key(),e)}function K2(s){return Xi(s._redirectPersistence)}function Y2(s){return Vc(H2,s.config.apiKey,s.name)}async function X2(s,e,i=!1){if(Vn(s.app))return Promise.reject($i(s));const a=nr(s),o=U2(a,e),d=await new F2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const $2=600*1e3;class Z2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!wE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$2&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function wE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function J2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(s);default:return!1}}async function W2(s,e={}){return ss(s,"GET","/v1/projects",e)}const eR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tR=/^https?/;async function nR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await W2(s);for(const i of e)try{if(iR(i))return}catch{}Zn(s,"unauthorized-domain")}function iR(s){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!tR.test(i))return!1;if(eR.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const sR=new qo(3e4,6e4);function v0(){const s=bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function rR(s){return new Promise((e,i)=>{function a(){v0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v0(),i(Ti(s,"network-request-failed"))},timeout:sR.get()})}if(bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bi().gapi?.load)a();else{const o=Kw("iframefcb");return bi()[o]=()=>{gapi.load?a():i(Ti(s,"network-request-failed"))},uE(`${Qw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function aR(s){return Pc=Pc||rR(s),Pc}const lR=new qo(5e3,15e3),oR="__/auth/iframe",uR="emulator/auth/iframe",cR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fR(s){const e=s.config;ge(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Dm(e,uR):`https://${s.config.authDomain}/${oR}`,a={apiKey:e.apiKey,appName:s.name,v:sl},o=hR.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bo(a).slice(1)}`}async function dR(s){const e=await aR(s),i=bi().gapi;return ge(i,s,"internal-error"),e.open({where:document.body,url:fR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cR,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(s,"network-request-failed"),p=bi().setTimeout(()=>{c(d)},lR.get());function y(){bi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const mR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pR=500,gR=600,yR="_blank",_R="http://localhost";class E0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vR(s,e,i,a=pR,o=gR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...mR,width:a.toString(),height:o.toString(),top:c,left:d},_=Jt().toLowerCase();i&&(p=nE(_)?yR:i),eE(_)&&(e=e||_R,y.scrollbars="yes");const S=Object.entries(y).reduce((P,[F,Z])=>`${P}${F}=${Z},`,"");if(Lw(_)&&p!=="_self")return ER(e||"",p),new E0(null);const w=window.open(e||"",p,S);ge(w,s,"popup-blocked");try{w.focus()}catch{}return new E0(w)}function ER(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const TR="__/auth/handler",bR="emulator/auth/handler",SR=encodeURIComponent("fac");async function T0(s,e,i,a,o,c){ge(s.config.authDomain,s,"auth-domain-config-required"),ge(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(e instanceof fE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",iA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof Fo){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const y=await s._getAppCheckToken(),_=y?`#${SR}=${encodeURIComponent(y)}`:"";return`${AR(s)}?${Bo(p).slice(1)}${_}`}function AR({config:s}){return s.emulator?Dm(s,bR):`https://${s.authDomain}/${TR}`}const Hd="webStorageSupport";class wR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vE,this._completeRedirectFn=X2,this._overrideRedirectResult=Q2}async _openPopup(e,i,a,o){Wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T0(e,i,a,sm(),o);return vR(e,c,Pm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await T0(e,i,a,sm(),o);return I2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await dR(e),a=new Z2(e);return i.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=nR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return lE()||tE()||Mm()}}const RR=wR;var b0="@firebase/auth",S0="1.11.1";class CR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xR(s){$a(new zr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;ge(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oE(s)},_=new Hw(a,o,c,y);return Ww(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),$a(new zr("auth-internal",e=>{const i=nr(e.getProvider("auth").getImmediate());return(a=>new CR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(b0,S0,IR(s)),Ys(b0,S0,"esm2020")}const NR=300,DR=Lv("authIdTokenMaxAge")||NR;let A0=null;const OR=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>DR)return;const o=i?.token;A0!==o&&(A0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MR(s=Hv()){const e=xm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Jw(s,{popupRedirectResolver:RR,persistence:[L2,w2,vE]}),a=Lv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=OR(c.toString());E2(i,d,()=>d(i.currentUser)),v2(i,p=>d(p))}}const o=kv("auth");return o&&e2(i,`http://${o}`),i}function VR(){return document.getElementsByTagName("head")?.[0]??document}Fw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Ti("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",VR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xR("Browser");var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,RE;(function(){var s;function e(N,R){function I(){}I.prototype=R.prototype,N.F=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,C,M){for(var A=Array(arguments.length-2),le=2;le<arguments.length;le++)A[le-2]=arguments[le];return R.prototype[C].apply(V,A)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,I){I||(I=0);const V=Array(16);if(typeof R=="string")for(var C=0;C<16;++C)V[C]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(C=0;C<16;++C)V[C]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],C=N.g[2];let M=N.g[3],A;A=R+(M^I&(C^M))+V[0]+3614090360&4294967295,R=I+(A<<7&4294967295|A>>>25),A=M+(C^R&(I^C))+V[1]+3905402710&4294967295,M=R+(A<<12&4294967295|A>>>20),A=C+(I^M&(R^I))+V[2]+606105819&4294967295,C=M+(A<<17&4294967295|A>>>15),A=I+(R^C&(M^R))+V[3]+3250441966&4294967295,I=C+(A<<22&4294967295|A>>>10),A=R+(M^I&(C^M))+V[4]+4118548399&4294967295,R=I+(A<<7&4294967295|A>>>25),A=M+(C^R&(I^C))+V[5]+1200080426&4294967295,M=R+(A<<12&4294967295|A>>>20),A=C+(I^M&(R^I))+V[6]+2821735955&4294967295,C=M+(A<<17&4294967295|A>>>15),A=I+(R^C&(M^R))+V[7]+4249261313&4294967295,I=C+(A<<22&4294967295|A>>>10),A=R+(M^I&(C^M))+V[8]+1770035416&4294967295,R=I+(A<<7&4294967295|A>>>25),A=M+(C^R&(I^C))+V[9]+2336552879&4294967295,M=R+(A<<12&4294967295|A>>>20),A=C+(I^M&(R^I))+V[10]+4294925233&4294967295,C=M+(A<<17&4294967295|A>>>15),A=I+(R^C&(M^R))+V[11]+2304563134&4294967295,I=C+(A<<22&4294967295|A>>>10),A=R+(M^I&(C^M))+V[12]+1804603682&4294967295,R=I+(A<<7&4294967295|A>>>25),A=M+(C^R&(I^C))+V[13]+4254626195&4294967295,M=R+(A<<12&4294967295|A>>>20),A=C+(I^M&(R^I))+V[14]+2792965006&4294967295,C=M+(A<<17&4294967295|A>>>15),A=I+(R^C&(M^R))+V[15]+1236535329&4294967295,I=C+(A<<22&4294967295|A>>>10),A=R+(C^M&(I^C))+V[1]+4129170786&4294967295,R=I+(A<<5&4294967295|A>>>27),A=M+(I^C&(R^I))+V[6]+3225465664&4294967295,M=R+(A<<9&4294967295|A>>>23),A=C+(R^I&(M^R))+V[11]+643717713&4294967295,C=M+(A<<14&4294967295|A>>>18),A=I+(M^R&(C^M))+V[0]+3921069994&4294967295,I=C+(A<<20&4294967295|A>>>12),A=R+(C^M&(I^C))+V[5]+3593408605&4294967295,R=I+(A<<5&4294967295|A>>>27),A=M+(I^C&(R^I))+V[10]+38016083&4294967295,M=R+(A<<9&4294967295|A>>>23),A=C+(R^I&(M^R))+V[15]+3634488961&4294967295,C=M+(A<<14&4294967295|A>>>18),A=I+(M^R&(C^M))+V[4]+3889429448&4294967295,I=C+(A<<20&4294967295|A>>>12),A=R+(C^M&(I^C))+V[9]+568446438&4294967295,R=I+(A<<5&4294967295|A>>>27),A=M+(I^C&(R^I))+V[14]+3275163606&4294967295,M=R+(A<<9&4294967295|A>>>23),A=C+(R^I&(M^R))+V[3]+4107603335&4294967295,C=M+(A<<14&4294967295|A>>>18),A=I+(M^R&(C^M))+V[8]+1163531501&4294967295,I=C+(A<<20&4294967295|A>>>12),A=R+(C^M&(I^C))+V[13]+2850285829&4294967295,R=I+(A<<5&4294967295|A>>>27),A=M+(I^C&(R^I))+V[2]+4243563512&4294967295,M=R+(A<<9&4294967295|A>>>23),A=C+(R^I&(M^R))+V[7]+1735328473&4294967295,C=M+(A<<14&4294967295|A>>>18),A=I+(M^R&(C^M))+V[12]+2368359562&4294967295,I=C+(A<<20&4294967295|A>>>12),A=R+(I^C^M)+V[5]+4294588738&4294967295,R=I+(A<<4&4294967295|A>>>28),A=M+(R^I^C)+V[8]+2272392833&4294967295,M=R+(A<<11&4294967295|A>>>21),A=C+(M^R^I)+V[11]+1839030562&4294967295,C=M+(A<<16&4294967295|A>>>16),A=I+(C^M^R)+V[14]+4259657740&4294967295,I=C+(A<<23&4294967295|A>>>9),A=R+(I^C^M)+V[1]+2763975236&4294967295,R=I+(A<<4&4294967295|A>>>28),A=M+(R^I^C)+V[4]+1272893353&4294967295,M=R+(A<<11&4294967295|A>>>21),A=C+(M^R^I)+V[7]+4139469664&4294967295,C=M+(A<<16&4294967295|A>>>16),A=I+(C^M^R)+V[10]+3200236656&4294967295,I=C+(A<<23&4294967295|A>>>9),A=R+(I^C^M)+V[13]+681279174&4294967295,R=I+(A<<4&4294967295|A>>>28),A=M+(R^I^C)+V[0]+3936430074&4294967295,M=R+(A<<11&4294967295|A>>>21),A=C+(M^R^I)+V[3]+3572445317&4294967295,C=M+(A<<16&4294967295|A>>>16),A=I+(C^M^R)+V[6]+76029189&4294967295,I=C+(A<<23&4294967295|A>>>9),A=R+(I^C^M)+V[9]+3654602809&4294967295,R=I+(A<<4&4294967295|A>>>28),A=M+(R^I^C)+V[12]+3873151461&4294967295,M=R+(A<<11&4294967295|A>>>21),A=C+(M^R^I)+V[15]+530742520&4294967295,C=M+(A<<16&4294967295|A>>>16),A=I+(C^M^R)+V[2]+3299628645&4294967295,I=C+(A<<23&4294967295|A>>>9),A=R+(C^(I|~M))+V[0]+4096336452&4294967295,R=I+(A<<6&4294967295|A>>>26),A=M+(I^(R|~C))+V[7]+1126891415&4294967295,M=R+(A<<10&4294967295|A>>>22),A=C+(R^(M|~I))+V[14]+2878612391&4294967295,C=M+(A<<15&4294967295|A>>>17),A=I+(M^(C|~R))+V[5]+4237533241&4294967295,I=C+(A<<21&4294967295|A>>>11),A=R+(C^(I|~M))+V[12]+1700485571&4294967295,R=I+(A<<6&4294967295|A>>>26),A=M+(I^(R|~C))+V[3]+2399980690&4294967295,M=R+(A<<10&4294967295|A>>>22),A=C+(R^(M|~I))+V[10]+4293915773&4294967295,C=M+(A<<15&4294967295|A>>>17),A=I+(M^(C|~R))+V[1]+2240044497&4294967295,I=C+(A<<21&4294967295|A>>>11),A=R+(C^(I|~M))+V[8]+1873313359&4294967295,R=I+(A<<6&4294967295|A>>>26),A=M+(I^(R|~C))+V[15]+4264355552&4294967295,M=R+(A<<10&4294967295|A>>>22),A=C+(R^(M|~I))+V[6]+2734768916&4294967295,C=M+(A<<15&4294967295|A>>>17),A=I+(M^(C|~R))+V[13]+1309151649&4294967295,I=C+(A<<21&4294967295|A>>>11),A=R+(C^(I|~M))+V[4]+4149444226&4294967295,R=I+(A<<6&4294967295|A>>>26),A=M+(I^(R|~C))+V[11]+3174756917&4294967295,M=R+(A<<10&4294967295|A>>>22),A=C+(R^(M|~I))+V[2]+718787259&4294967295,C=M+(A<<15&4294967295|A>>>17),A=I+(M^(C|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(C+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+C&4294967295,N.g[3]=N.g[3]+M&4294967295}a.prototype.v=function(N,R){R===void 0&&(R=N.length);const I=R-this.blockSize,V=this.C;let C=this.h,M=0;for(;M<R;){if(C==0)for(;M<=I;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<R;)if(V[C++]=N.charCodeAt(M++),C==this.blockSize){o(this,V),C=0;break}}else for(;M<R;)if(V[C++]=N[M++],C==this.blockSize){o(this,V),C=0;break}}this.h=C,this.o+=R},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[R++]=this.g[I]>>>V&255;return N};function c(N,R){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function d(N,R){this.h=R;const I=[];let V=!0;for(let C=N.length-1;C>=0;C--){const M=N[C]|0;V&&M==R||(I[C]=M,V=!1)}this.g=I}var p={};function y(N){return-128<=N&&N<128?c(N,function(R){return new d([R|0],R<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return J(_(-N));const R=[];let I=1;for(let V=0;N>=I;V++)R[V]=N/I|0,I*=4294967296;return new d(R,0)}function S(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return J(S(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(R,8));let V=w;for(let M=0;M<N.length;M+=8){var C=Math.min(8,N.length-M);const A=parseInt(N.substring(M,M+C),R);C<8?(C=_(Math.pow(R,C)),V=V.j(C).add(_(A))):(V=V.j(I),V=V.add(_(A)))}return V}var w=y(0),P=y(1),F=y(16777216);s=d.prototype,s.m=function(){if(W(this))return-J(this).m();let N=0,R=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(W(this))return"-"+J(this).toString(N);const R=_(Math.pow(N,6));var I=this;let V="";for(;;){const C=Be(I,R).g;I=ue(I,C.j(R));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=C,Z(I))return M+V;for(;M.length<6;)M="0"+M;V=M+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function W(N){return N.h==-1}s.l=function(N){return N=ue(this,N),W(N)?-1:Z(N)?0:1};function J(N){const R=N.g.length,I=[];for(let V=0;V<R;V++)I[V]=~N.g[V];return new d(I,~N.h).add(P)}s.abs=function(){return W(this)?J(this):this},s.add=function(N){const R=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let C=0;C<=R;C++){let M=V+(this.i(C)&65535)+(N.i(C)&65535),A=(M>>>16)+(this.i(C)>>>16)+(N.i(C)>>>16);V=A>>>16,M&=65535,A&=65535,I[C]=A<<16|M}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ue(N,R){return N.add(J(R))}s.j=function(N){if(Z(this)||Z(N))return w;if(W(this))return W(N)?J(this).j(J(N)):J(J(this).j(N));if(W(N))return J(this.j(J(N)));if(this.l(F)<0&&N.l(F)<0)return _(this.m()*N.m());const R=this.g.length+N.g.length,I=[];for(var V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let C=0;C<N.g.length;C++){const M=this.i(V)>>>16,A=this.i(V)&65535,le=N.i(C)>>>16,Ie=N.i(C)&65535;I[2*V+2*C]+=A*Ie,pe(I,2*V+2*C),I[2*V+2*C+1]+=M*Ie,pe(I,2*V+2*C+1),I[2*V+2*C+1]+=A*le,pe(I,2*V+2*C+1),I[2*V+2*C+2]+=M*le,pe(I,2*V+2*C+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new d(I,0)};function pe(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function fe(N,R){this.g=N,this.h=R}function Be(N,R){if(Z(R))throw Error("division by zero");if(Z(N))return new fe(w,w);if(W(N))return R=Be(J(N),R),new fe(J(R.g),J(R.h));if(W(R))return R=Be(N,J(R)),new fe(J(R.g),R.h);if(N.g.length>30){if(W(N)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var I=P,V=R;V.l(N)<=0;)I=Qe(I),V=Qe(V);var C=Ce(I,1),M=Ce(V,1);for(V=Ce(V,2),I=Ce(I,2);!Z(V);){var A=M.add(V);A.l(N)<=0&&(C=C.add(I),M=A),V=Ce(V,1),I=Ce(I,1)}return R=ue(N,C.j(R)),new fe(C,R)}for(C=w;N.l(R)>=0;){for(I=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),M=_(I),A=M.j(R);W(A)||A.l(N)>0;)I-=V,M=_(I),A=M.j(R);Z(M)&&(M=P),C=C.add(M),N=ue(N,A)}return new fe(C,N)}s.B=function(N){return Be(this,N).h},s.and=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},s.or=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},s.xor=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function Qe(N){const R=N.g.length+1,I=[];for(let V=0;V<R;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Ce(N,R){const I=R>>5;R%=32;const V=N.g.length-I,C=[];for(let M=0;M<V;M++)C[M]=R>0?N.i(M+I)>>>R|N.i(M+I+1)<<32-R:N.i(M+I);return new d(C,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,RE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Xs=d}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CE,vo,IE,Lc,lm,xE,NE,DE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var ee=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ee[Se-2]=arguments[Se];return m.prototype[L].apply(T,ee)}}var P=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let ee=0;ee<q;ee++)u[v+ee]=L[ee]}else u.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ue(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,v){const T=fe.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var fe=new W(()=>new Be,u=>u.reset());class Be{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,Ce=!1,N=new pe,R=()=>{const u=Promise.resolve(void 0);Qe=()=>{u.then(I)}};function I(){for(var u;u=ue();){try{u.h.call(u.g)}catch(v){J(v)}var m=fe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ce=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function le(u,m){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(le,C),le.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),B=0;function te(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++B,this.da=this.fa=!1}function oe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function De(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ee=we(u,m,T,L);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new te(m,this.src,q,!!T,L),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(oe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function we(u,m,v,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return L}return-1}var je="closure_lm_"+(Math.random()*1e6|0),xt={};function at(u,m,v,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)at(u,m[q],v,T,L);return null}return v=fl(v),u&&u[Ie]?u.J(m,v,p(T)?!!T.capture:!1,L):ir(u,m,v,!1,T,L)}function ir(u,m,v,T,L,q){if(!m)throw Error("Invalid event type");const ee=p(L)?!!L.capture:!!L;let Se=sr(u);if(Se||(u[je]=Se=new se(u)),v=Se.add(m,v,T,ee,q),v.proxy)return v;if(T=Xr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)M||(L=ee),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xr(){function u(v){return m.call(u.src,u.listener,v)}const m=cl;return u}function $r(u,m,v,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)$r(u,m[q],v,T,L);else T=p(T)?!!T.capture:!!T,v=fl(v),u&&u[Ie]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=we(m,v,T,L),v>-1&&(oe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=sr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=we(m,v,T,L)),(v=u>-1?m[u]:null)&&Zr(v))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])_e(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=sr(m))?(_e(v,u),v.h==0&&(v.src=null,m[je]=null)):oe(u)}}}function Jn(u){return u in xt?xt[u]:xt[u]="on"+u}function cl(u,m){if(u.da)u=!0;else{m=new le(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Zr(u),u=v.call(T,m)}return u}function sr(u){return u=u[je],u instanceof se?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(m){return u.handleEvent(m)}),u[hl])}function _t(){V.call(this),this.i=new se(this),this.M=this,this.G=null}w(_t,V),_t.prototype[Ie]=!0,_t.prototype.removeEventListener=function(u,m,v,T){$r(this,u,m,v,T)};function Nt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new C(m,u);else if(m instanceof C)m.target=m.target||u;else{var L=m;m=new C(T,u),ne(m,L)}L=!0;let q,ee;if(v)for(ee=v.length-1;ee>=0;ee--)q=m.g=v[ee],L=rs(q,T,!0,m)&&L;if(q=m.g=u,L=rs(q,T,!0,m)&&L,L=rs(q,T,!1,m)&&L,v)for(ee=0;ee<v.length;ee++)q=m.g=v[ee],L=rs(q,T,!1,m)&&L}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)oe(v[T]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_t.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function rs(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==v){const Se=ee.listener,mt=ee.ha||ee.src;ee.fa&&_e(u.i,ee),L=Se.call(mt,T)!==!1&&L}}return L&&!T.defaultPrevented}function Oh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zo(u){u.g=Oh(()=>{u.g=null,u.i&&(u.i=!1,Zo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(u){V.call(this),this.h=u,this.g={}}w(rr,V);var dl=[];function ml(u){Le(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zr(m)},u),u.g={}}rr.prototype.N=function(){rr.Z.N.call(this),ml(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,Mh=d.JSON.parse,Jo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wo(){}function eu(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){C.call(this,"d")}w(jt,C);function Tn(){C.call(this,"c")}w(Tn,C);var dt={},tu=null;function Jr(){return tu=tu||new _t}dt.Ia="serverreachability";function nu(u){C.call(this,dt.Ia,u)}w(nu,C);function Wn(u){const m=Jr();Nt(m,new nu(m))}dt.STAT_EVENT="statevent";function ar(u,m){C.call(this,dt.STAT_EVENT,u),this.stat=m}w(ar,C);function vt(u){const m=Jr();Nt(m,new ar(m,u))}dt.Ja="timingevent";function ei(u,m){C.call(this,dt.Ja,u),this.size=m}w(ei,C);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Vh(u,m,v,T,L,q){u.info(function(){if(u.g)if(q){var ee="",Se=q.split("&");for(let Fe=0;Fe<Se.length;Fe++){var mt=Se[Fe].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const wn=lt.split("_");ee=wn.length>=2&&wn[1]=="type"?ee+(lt+"="+mt+"&"):ee+(lt+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+ee})}function iu(u,m,v,T,L,q,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+ee})}function ni(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(u,v)+(T?" "+T:"")})}function lr(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function kh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ee=1;ee<T.length;ee++)T[ee]=""}}}}return as(q)}catch{return m}}var or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function ur(){}w(ur,Wo),ur.prototype.g=function(){return new XMLHttpRequest},gl=new ur;function xi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var Et={},Vt={};function ii(u,m,v){u.M=1,u.A=cr(bt(m)),u.u=v,u.R=!0,Wr(u,null)}function Wr(u,m){u.F=Date.now(),si(u),u.B=bt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ia(v.i,"t",T),u.C=0,v=u.j.L,u.h=new zn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Wt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(dl[0]=L.toString()),L=dl);for(let q=0;q<L.length;q++){const ee=at(v,L[q],T||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)e:{const Se=Hn(this.g),mt=this.g.ya(),Fe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Se!=4||mt==7||(mt==8||Fe<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var v=Ph(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(T)){var q=T;break t}}q=null}if(u=q)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,vt(12),fn(this),bn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=au(this,v),lt==Vt){Se==4&&(this.m=4,vt(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Et){this.m=4,vt(15),ni(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,lt,null),ai(this,lt);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,vt(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Dl(ee),ee.P=!0,vt(11))}}else ni(this.i,this.l,v,null),ai(this,v);Se==4&&fn(this),this.o&&!this.K&&(Se==4?pu(this.j,this):(this.o=!1,si(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),fn(this),bn(this)}}}catch{}finally{}};function Ph(u){if(!ru(u))return u.g.la();const m=zt(u.g);if(m==="")return"";let v="";const T=m.length,L=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Vt:(v=Number(m.substring(v,T)),isNaN(v)?Et:(T+=1,T+v>m.length?Vt:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(_(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(lr(this.i,this.B),this.M!=2&&(Wn(),vt(17)),fn(this),this.m=2,bn(this)):ea(this,this.T-u)};function bn(u){u.j.I==0||u.K||pu(u.j,u)}function fn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),ms(v);else break e;yr(v),vt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(_(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((u.L||v.g==u)&&oa(v),!A(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Fe=L[m];const lt=Fe[0];if(!(lt<=v.K))if(v.K=lt,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const wn=Fe[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const pi=Fe[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Fn=Fe[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Gn=u.g;if(Gn){const _r=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var q=T.h;q.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(vl(q,q.h),q.h=null))}if(T.G){const ua=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(T.wa=ua,Ye(T.J,T.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ee=u;if(T.na=_u(T,T.L?T.ba:null,T.W),ee.L){El(T.h,ee);var Se=ee,mt=T.O;mt&&(Se.H=mt),Se.D&&(ri(Se),si(Se)),T.g=ee}else du(T);v.i.length>0&&di(v)}else Fe[0]!="stop"&&Fe[0]!="close"||mi(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?mi(v,7):xl(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}Wn(4)}catch{}}var Tt=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,q=null;T>=0?(L=u[v].substring(0,T),q=u[v].substring(T+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,kt(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.u),this.h=u.h,bl(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,kt(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),ls(this,m[4]),this.h=ui(m[5]||"",!0),bl(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(hr(m,na,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hr(m,na,!0),"@"),u.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(hr(v,v.charAt(0)=="/"?Sl:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",hr(v,uu)),u.join("")},dn.prototype.resolve=function(u){const m=bt(this);let v=!!u.j;v?kt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ls(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ee=0;ee<L.length;){const Se=L[ee++];Se=="."?T&&ee==L.length&&q.push(""):Se==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&ee==L.length&&q.push("")):(q.push(Se),T=!0)}T=q.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?bl(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function bt(u){return new dn(u)}function kt(u,m,v){u.j=v?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bl(u,m,v){m instanceof us?(u.i=m,sa(u.i,u.l)):(v||(m=hr(m,os)),u.i=new us(m,u.l))}function Ye(u,m,v){u.i.set(m,v)}function cr(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,ou=/[#\?:]/g,Sl=/[#\?]/g,os=/[#\?@]/g,uu=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=us.prototype,s.add=function(u,m){sn(this),this.i=null,u=cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){sn(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Al(u,m){return sn(u),m=cs(u,m),u.g.has(m)}s.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function wl(u,m){sn(u);let v=[];if(typeof m=="string")Al(u,m)&&(v=v.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return sn(this),this.i=null,u=cs(this,u),Al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=wl(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(cs(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=xi(v);v=wl(this,v);for(let q=0;q<v.length;q++){let ee=L;v[q]!==""&&(ee+="="+xi(v[q])),u.push(ee)}}return this.i=u.join("&")};function hu(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(cu(this,T),ia(this,L,v))},u)),u.j=m}function Bn(u,m){const v=new Un;if(d.Image){const T=new Image;T.onload=S(Sn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Sn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(Sn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Sn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Rl(u,m){const v=new Un,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function hs(){this.g=new Jo}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}w(ci,Wo),ci.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(fr,_t),s=fr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):qn(this),this.readyState==3&&ra(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},s.Na=function(u){this.g&&(this.response=u,fs(this))},s.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Le(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function dr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=An(v),typeof u=="string"?v!=null&&xi(v):Ye(u,m,v))}function Ze(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Ze,_t);var hi=/^https?$/i,Cl=["POST","PUT"];s=Ze.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=P(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){mr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){mr(this,q)}};function mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Il(u),Ni(u)}function Il(u){u.A||(u.A=!0,Nt(u,"complete"),Nt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Nt(this,"complete"),Nt(this,"abort"),Ni(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},s.Xa=function(){pr(this)};function pr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Nt(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let ee=String(u.D).match(lu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),T=!hi.test(ee?ee.toLowerCase():"")}v=T}if(v)Nt(u,"complete"),Nt(u,"success");else{u.o=6;try{var L=Hn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Il(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Nt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(A(u[T]))continue;var v=su(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}De(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ds.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){vt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),di(this)};function xl(u){if(aa(u),u.I==3){var m=u.V++,v=bt(u.J);if(Ye(v,"SID",u.M),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),gr(u,v),m=new jn(u,u.j,m),m.M=2,m.A=cr(bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}yu(u)}function ms(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function aa(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;Qe||R(),Ce||(Qe(),Ce=!0),N.add(m,u),u.D=0}}function la(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(_(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=fu(this,L,m),v=bt(this.J),Ye(v,"RID",u),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),gr(this,v),q&&(this.R?m="headers="+xi(An(q))+"&"+m:this.u&&dr(v,this.u,q)),vl(this.h,L),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",m),Ye(v,"SID","null"),L.U=!0,ii(L,v,null)):ii(L,v,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,m){var v;m?v=m.l:v=u.V++;const T=bt(u.J);Ye(T,"SID",u.M),Ye(T,"RID",v),Ye(T,"AID",u.K),gr(u,T),u.u&&u.o&&dr(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,v),ii(v,T,m)}function gr(u,m){u.H&&Le(u.H,function(v,T){Ye(m,T,v)}),u.l&&Le({},function(v,T){Ye(m,T,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Se=-1;for(;;){const mt=["count="+v];Se==-1?v>0?(Se=L[0].g,mt.push("ofs="+Se)):Se=0:mt.push("ofs="+Se);let Fe=!0;for(let lt=0;lt<v;lt++){var q=L[lt].g;const wn=L[lt].map;if(q-=Se,q<0)Se=Math.max(0,L[lt].g-100),Fe=!1;else try{q="req"+q+"_"||"";try{var ee=wn instanceof Map?wn:Object.entries(wn);for(const[pi,Fn]of ee){let Gn=Fn;p(Fn)&&(Gn=as(Fn)),mt.push(q+pi+"="+encodeURIComponent(Gn))}}catch(pi){throw mt.push(q+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(wn)}}if(Fe){ee=mt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Qe||R(),Ce||(Qe(),Ce=!0),N.add(m,u),u.A=0}}function yr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(_(u.Da,u),gu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),ms(this),mu(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=bt(u.na);Ye(m,"RID","rpc"),Ye(m,"SID",u.M),Ye(m,"AID",u.K),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(m,"TO",u.ia),Ye(m,"TYPE","xmlhttp"),gr(u,m),u.u&&u.o&&dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=cr(bt(m)),v.u=null,v.R=!0,Wr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ms(this),yr(this),vt(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){oa(u),Dl(u),u.g=null;var T=2}else if(oi(u.h,m))v=m.G,El(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Jr(),Nt(T,new ei(T,v)),di(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&la(u,m)||T==2&&yr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||kt(T,"https"),cr(T),L?Bn(T.toString(),v):Rl(T.toString(),v)}else vt(2);u.I=0,u.l&&u.l.pa(m),yu(u),aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var T=v instanceof dn?bt(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ls(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new dn(null);T&&kt(q,T),m&&(q.g=m),L&&ls(q,L),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Ye(T,v,m),Ye(T,"VER",u.ka),gr(u,T),T}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ze(new ci({ab:v})):new Ze(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ps(){}ps.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_t.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!A(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}w(en,_t),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){xl(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=as(u),u=v);m.i.push(new Tt(m.Ya++,u)),m.I==3&&di(m)},en.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,en.Z.N.call(this)};function Tu(u){jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Tu,jt);function bu(){Tn.call(this),this.status=1}w(bu,Tn);function Oi(u){this.g=u}w(Oi,Eu),Oi.prototype.ra=function(){Nt(this.g,"a")},Oi.prototype.qa=function(u){Nt(this.g,new Tu(u))},Oi.prototype.pa=function(u){Nt(this.g,new bu)},Oi.prototype.oa=function(){Nt(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,DE=function(){return new ps},NE=function(){return Jr()},xE=dt,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Lc=or,pl.COMPLETE="complete",IE=pl,eu.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",_t.prototype.listen=_t.prototype.J,vo=eu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,CE=Ze}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const R0="@firebase/firestore",C0="4.9.2";class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let al="12.3.0";const Hr=new Cm("@firebase/firestore");function ja(){return Hr.logLevel}function ie(s,...e){if(Hr.logLevel<=Ve.DEBUG){const i=e.map(Um);Hr.debug(`Firestore (${al}): ${s}`,...i)}}function es(s,...e){if(Hr.logLevel<=Ve.ERROR){const i=e.map(Um);Hr.error(`Firestore (${al}): ${s}`,...i)}}function Za(s,...e){if(Hr.logLevel<=Ve.WARN){const i=e.map(Um);Hr.warn(`Firestore (${al}): ${s}`,...i)}}function Um(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ye(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,OE(s,a,i)}function OE(s,e,i){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw es(a),new Error(a)}function Ke(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||OE(e,o,a)}function be(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ns{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class ME{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class PR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class LR{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ke(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string",31837,{l:a}),new ME(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class UR{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jR{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new UR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ke(this.o===void 0,3512);const a=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ke(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new I0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=BR(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function ke(s,e){return s<e?-1:s>e?1:0}function om(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Fd(o)===Fd(c)?ke(o,c):Fd(o)?1:-1}return ke(s.length,e.length)}const qR=55296,HR=57343;function Fd(s){const e=s.charCodeAt(0);return e>=qR&&e<=HR}function Ja(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const x0="__name__";class Ei{constructor(e,i,a){i===void 0?i=0:i>e.length&&ye(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ye(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ei.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ke(e.length,i.length)}static compareSegments(e,i){const a=Ei.isNumericId(e),o=Ei.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class ut extends Ei{construct(e,i,a){return new ut(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ut(i)}static emptyPath(){return new ut([])}}const FR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ei{construct(e,i,a){return new Qt(e,i,a)}static isValidIdentifier(e){return FR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x0}static keyField(){return new Qt([x0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ce($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ce($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ce($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(ut.fromString(e))}static fromName(e){return new de(ut.fromString(e).popFirst(5))}static empty(){return new de(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ut.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new ut(e.slice()))}}function GR(s,e,i){if(!i)throw new ce($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function QR(s,e,i,a){if(e===!0&&a===!0)throw new ce($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function N0(s){if(!de.isDocumentKey(s))throw new ce($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function VE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function zm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ye(12329,{type:typeof s})}function Ka(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zm(s);throw new ce($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function It(s,e){const i={typeString:s};return e&&(i.value=e),i}function Qo(s,e){if(!VE(s))throw new ce($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce($.INVALID_ARGUMENT,i);return!0}const D0=-62135596800,O0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*O0);return new rt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<D0)throw new ce($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qo(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:It("string",rt._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new rt(0,0))}static max(){return new Ee(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Oo=-1;function KR(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(a===1e9?new rt(i+1,0):new rt(i,a));return new $s(o,de.empty(),e)}function YR(s){return new $s(s.readTime,s.key,Oo)}class $s{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new $s(Ee.min(),de.empty(),Oo)}static max(){return new $s(Ee.max(),de.empty(),Oo)}}function XR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(s.documentKey,e.documentKey),i!==0?i:ke(s.largestBatchId,e.largestBatchId))}const $R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ll(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==$R)throw s;ie("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((S=>{d[_]=S,++p,p===c&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function JR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(s){return s.name==="IndexedDbTransactionError"}class vh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vh.ce=-1;const Bm=-1;function Eh(s){return s==null}function th(s){return s===0&&1/s==-1/0}function WR(s){return typeof s=="number"&&Number.isInteger(s)&&!th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const kE="";function eC(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=M0(e)),e=tC(s.get(i),e);return M0(e)}function tC(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case kE:i+="";break;default:i+=c}}return i}function M0(s){return s+kE+""}function V0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Gr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function PE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ct{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Gt.RED,this.left=o??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Gt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Mt(this.comparator);return i.data=e,i}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new $n([])}unionWith(e){let i=new Mt(Qt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new $n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new LE("Invalid base64 string: "+c):c}})(e);return new Kt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Kt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const nC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const i=nC.exec(s);if(Ke(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Js(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const UE="server_timestamp",jE="__type__",zE="__previous_value__",BE="__local_write_time__";function qm(s){return(s?.mapValue?.fields||{})[jE]?.stringValue===UE}function Th(s){const e=s.mapValue.fields[zE];return qm(e)?Th(e):e}function Mo(s){const e=Zs(s.mapValue.fields[BE].timestampValue);return new rt(e.seconds,e.nanos)}class iC{constructor(e,i,a,o,c,d,p,y,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const nh="(default)";class Vo{constructor(e,i){this.projectId=e,this.database=i||nh}static empty(){return new Vo("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}const qE="__type__",sC="__max__",Nc={mapValue:{}},HE="__vector__",ih="value";function Ws(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qm(s)?4:aC(s)?9007199254740991:rC(s)?10:11:ye(28295,{value:s})}function Ci(s,e){if(s===e)return!0;const i=Ws(s);if(i!==Ws(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Mo(s).isEqual(Mo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Zs(o.timestampValue),p=Zs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Js(o.bytesValue).isEqual(Js(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return yt(o.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return yt(o.integerValue)===yt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=yt(o.doubleValue),p=yt(c.doubleValue);return d===p?th(d)===th(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Ja(s.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(V0(d)!==V0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ci(d[y],p[y])))return!1;return!0})(s,e);default:return ye(52216,{left:s})}}function ko(s,e){return(s.values||[]).find((i=>Ci(i,e)))!==void 0}function Wa(s,e){if(s===e)return 0;const i=Ws(s),a=Ws(e);if(i!==a)return ke(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ke(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=yt(c.integerValue||c.doubleValue),y=yt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return P0(s.timestampValue,e.timestampValue);case 4:return P0(Mo(s),Mo(e));case 5:return om(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Js(c),y=Js(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const S=ke(p[_],y[_]);if(S!==0)return S}return ke(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ke(yt(c.latitude),yt(d.latitude));return p!==0?p:ke(yt(c.longitude),yt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return L0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[ih]?.arrayValue,S=y[ih]?.arrayValue,w=ke(_?.values?.length||0,S?.values?.length||0);return w!==0?w:L0(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let w=0;w<y.length&&w<S.length;++w){const P=om(y[w],S[w]);if(P!==0)return P;const F=Wa(p[y[w]],_[S[w]]);if(F!==0)return F}return ke(y.length,S.length)})(s.mapValue,e.mapValue);default:throw ye(23264,{he:i})}}function P0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ke(s,e);const i=Zs(s),a=Zs(e),o=ke(i.seconds,a.seconds);return o!==0?o:ke(i.nanos,a.nanos)}function L0(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Wa(i[o],a[o]);if(c)return c}return ke(i.length,a.length)}function el(s){return um(s)}function um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Zs(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Js(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return de.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=um(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${um(i.fields[d])}`;return o+"}"})(s.mapValue):ye(61005,{value:s})}function Uc(s){switch(Ws(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(s);return e?16+Uc(e):16;case 5:return 2*s.stringValue.length;case 6:return Js(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Gr(a.fields,((c,d)=>{o+=c.length+Uc(d)})),o})(s.mapValue);default:throw ye(13486,{value:s})}}function cm(s){return!!s&&"integerValue"in s}function Hm(s){return!!s&&"arrayValue"in s}function U0(s){return!!s&&"nullValue"in s}function j0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function rC(s){return(s?.mapValue?.fields||{})[qE]?.stringValue===HE}function wo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Gr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=wo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=wo(s.arrayValue.values[i]);return e}return{...s}}function aC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sC}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=wo(i)}setAll(e){let i=Qt.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=wo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Gr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new kn(wo(this.value))}}function FE(s){const e=[];return Gr(s.fields,((i,a)=>{const o=new Qt([i]);if(jc(a)){const c=FE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new $n(e)}class Zt{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Zt(e,0,Ee.min(),Ee.min(),Ee.min(),kn.empty(),0)}static newFoundDocument(e,i,a,o){return new Zt(e,1,i,Ee.min(),a,o,0)}static newNoDocument(e,i){return new Zt(e,2,i,Ee.min(),Ee.min(),kn.empty(),0)}static newUnknownDocument(e,i){return new Zt(e,3,i,Ee.min(),Ee.min(),kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,i){this.position=e,this.inclusive=i}}function z0(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=de.comparator(de.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function B0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],e.position[i]))return!1;return!0}class rh{constructor(e,i="asc"){this.field=e,this.dir=i}}function lC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class GE{}class Ot extends GE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new uC(e,i,a):i==="array-contains"?new fC(e,a):i==="in"?new dC(e,a):i==="not-in"?new mC(e,a):i==="array-contains-any"?new pC(e,a):new Ot(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new cC(e,a):new hC(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends GE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ii(e,i)}matches(e){return QE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QE(s){return s.op==="and"}function KE(s){return oC(s)&&QE(s)}function oC(s){for(const e of s.filters)if(e instanceof Ii)return!1;return!0}function hm(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+el(s.value);if(KE(s))return s.filters.map((e=>hm(e))).join(",");{const e=s.filters.map((i=>hm(i))).join(",");return`${s.op}(${e})`}}function YE(s,e){return s instanceof Ot?(function(a,o){return o instanceof Ot&&a.op===o.op&&a.field.isEqual(o.field)&&Ci(a.value,o.value)})(s,e):s instanceof Ii?(function(a,o){return o instanceof Ii&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&YE(d,o.filters[p])),!0):!1})(s,e):void ye(19439)}function XE(s){return s instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${el(i.value)}`})(s):s instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(XE).join(" ,")+"}"})(s):"Filter"}class uC extends Ot{constructor(e,i,a){super(e,i,a),this.key=de.fromName(a.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class cC extends Ot{constructor(e,i){super(e,"in",i),this.keys=$E("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class hC extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=$E("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function $E(s,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class fC extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Hm(i)&&ko(i.arrayValue,this.value)}}class dC extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ko(this.value.arrayValue,i)}}class mC extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ko(this.value.arrayValue,i)}}class pC extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ko(this.value.arrayValue,a)))}}class gC{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function q0(s,e=null,i=[],a=[],o=null,c=null,d=null){return new gC(s,e,i,a,o,c,d)}function Fm(s){const e=be(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Eh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>el(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>el(a))).join(",")),e.Te=i}return e.Te}function Gm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!lC(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!YE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!B0(s.startAt,e.startAt)&&B0(s.endAt,e.endAt)}function fm(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bh{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yC(s,e,i,a,o,c,d,p){return new bh(s,e,i,a,o,c,d,p)}function Qm(s){return new bh(s)}function H0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _C(s){return s.collectionGroup!==null}function Ro(s){const e=be(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Mt(Qt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new rh(c,a))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new rh(Qt.keyField(),a))}return e.Ie}function Si(s){const e=be(s);return e.Ee||(e.Ee=vC(e,Ro(s))),e.Ee}function vC(s,e){if(s.limitType==="F")return q0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new rh(o.field,c)}));const i=s.endAt?new sh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new sh(s.startAt.position,s.startAt.inclusive):null;return q0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function dm(s,e,i){return new bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Sh(s,e){return Gm(Si(s),Si(e))&&s.limitType===e.limitType}function ZE(s){return`${Fm(Si(s))}|lt:${s.limitType}`}function za(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>XE(o))).join(", ")}]`),Eh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>el(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>el(o))).join(",")),`Target(${a})`})(Si(s))}; limitType=${s.limitType})`}function Ah(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):de.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Ro(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=z0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Ro(a),o)||a.endAt&&!(function(d,p,y){const _=z0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Ro(a),o))})(s,e)}function EC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function JE(s){return(e,i)=>{let a=!1;for(const o of Ro(s)){const c=TC(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function TC(s,e,i){const a=s.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Wa(y,_):ye(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ye(19790,{direction:s.dir})}}class Qr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}const bC=new ct(de.comparator);function ts(){return bC}const WE=new ct(de.comparator);function Eo(...s){let e=WE;for(const i of s)e=e.insert(i.key,i);return e}function eT(s){let e=WE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function kr(){return Co()}function tT(){return Co()}function Co(){return new Qr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const SC=new ct(de.comparator),AC=new Mt(de.comparator);function Pe(...s){let e=AC;for(const i of s)e=e.add(i);return e}const wC=new Mt(ke);function RC(){return wC}function Km(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function nT(s){return{integerValue:""+s}}function CC(s,e){return WR(e)?nT(e):Km(s,e)}class wh{constructor(){this._=void 0}}function IC(s,e,i){return s instanceof ah?(function(o,c){const d={fields:{[jE]:{stringValue:UE},[BE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&qm(c)&&(c=Th(c)),c&&(d.fields[zE]=c),{mapValue:d}})(i,e):s instanceof Po?sT(s,e):s instanceof Lo?rT(s,e):(function(o,c){const d=iT(o,c),p=F0(d)+F0(o.Ae);return cm(d)&&cm(o.Ae)?nT(p):Km(o.serializer,p)})(s,e)}function xC(s,e,i){return s instanceof Po?sT(s,e):s instanceof Lo?rT(s,e):i}function iT(s,e){return s instanceof lh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ah extends wh{}class Po extends wh{constructor(e){super(),this.elements=e}}function sT(s,e){const i=aT(e);for(const a of s.elements)i.some((o=>Ci(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Lo extends wh{constructor(e){super(),this.elements=e}}function rT(s,e){let i=aT(e);for(const a of s.elements)i=i.filter((o=>!Ci(o,a)));return{arrayValue:{values:i}}}class lh extends wh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function F0(s){return yt(s.integerValue||s.doubleValue)}function aT(s){return Hm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function NC(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Po&&o instanceof Po||a instanceof Lo&&o instanceof Lo?Ja(a.elements,o.elements,Ci):a instanceof lh&&o instanceof lh?Ci(a.Ae,o.Ae):a instanceof ah&&o instanceof ah})(s.transform,e.transform)}class DC{constructor(e,i){this.version=e,this.transformResults=i}}class Zi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Zi}static exists(e){return new Zi(void 0,e)}static updateTime(e){return new Zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Rh{}function lT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new uT(s.key,Zi.none()):new Ko(s.key,s.data,Zi.none());{const i=s.data,a=kn.empty();let o=new Mt(Qt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Kr(s.key,a,new $n(o.toArray()),Zi.none())}}function OC(s,e,i){s instanceof Ko?(function(o,c,d){const p=o.value.clone(),y=Q0(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Kr?(function(o,c,d){if(!zc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Q0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(oT(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Io(s,e,i,a){return s instanceof Ko?(function(c,d,p,y){if(!zc(c.precondition,d))return p;const _=c.value.clone(),S=K0(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Kr?(function(c,d,p,y){if(!zc(c.precondition,d))return p;const _=K0(c.fieldTransforms,y,d),S=d.data;return S.setAll(oT(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,p){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function MC(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=iT(a.transform,o||null);c!=null&&(i===null&&(i=kn.empty()),i.set(a.field,c))}return i||null}function G0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ja(a,o,((c,d)=>NC(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ko extends Rh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Kr extends Rh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function oT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Q0(s,e,i){const a=new Map;Ke(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,xC(d,p,i[o]))}return a}function K0(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,IC(c,d,e))}return a}class uT extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VC extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kC{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&OC(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Io(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Io(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=tT();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=lT(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,((i,a)=>G0(i,a)))&&Ja(this.baseMutations,e.baseMutations,((i,a)=>G0(i,a)))}}class Ym{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ke(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return SC})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Ym(e,i,a,o)}}class PC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class LC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ct,ze;function UC(s){switch(s){case $.OK:return ye(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ye(15467,{code:s})}}function cT(s){if(s===void 0)return es("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ct.OK:return $.OK;case Ct.CANCELLED:return $.CANCELLED;case Ct.UNKNOWN:return $.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return $.INTERNAL;case Ct.UNAVAILABLE:return $.UNAVAILABLE;case Ct.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ct.NOT_FOUND:return $.NOT_FOUND;case Ct.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ct.ABORTED:return $.ABORTED;case Ct.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ct.DATA_LOSS:return $.DATA_LOSS;default:return ye(39323,{code:s})}}(ze=Ct||(Ct={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function jC(){return new TextEncoder}const zC=new Xs([4294967295,4294967295],0);function Y0(s){const e=jC().encode(s),i=new RE;return i.update(e),new Uint8Array(i.digest())}function X0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Xs([i,a],0),new Xs([o,c],0)]}class Xm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new To(`Invalid padding: ${i}`);if(a<0)throw new To(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new To(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Xs.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Xs.fromNumber(a)));return o.compare(zC)===1&&(o=new Xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Y0(e),[a,o]=X0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Xm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Y0(e),[a,o]=X0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Yo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ch(Ee.min(),o,new ct(ke),ts(),Pe())}}class Yo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Yo(a,i,Pe(),Pe(),Pe())}}class Bc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class hT{constructor(e,i){this.targetId=e,this.Ce=i}}class fT{constructor(e,i,a=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class $0{constructor(){this.ve=0,this.Fe=Z0(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),a=Pe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ye(38017,{changeType:c})}})),new Yo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Z0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.Je=Dc(),this.He=Dc(),this.Ye=new ct(ke)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(fm(c))if(a===0){const d=new de(c.path);this.et(i,d,Zt.newNoDocument(d,Ee.min()))}else Ke(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Js(a).toUint8Array()}catch(y){if(y instanceof LE)return Za("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Xm(d,o,c)}catch(y){return Za(y instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&fm(p.target)){const y=new de(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Zt.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Pe();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ch(e,i,this.Ye,this.je,a);return this.je=ts(),this.Je=Dc(),this.He=Dc(),this.Ye=new ct(ke),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Mt(ke),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Mt(ke),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ie("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Dc(){return new ct(de.comparator)}function Z0(){return new ct(de.comparator)}const qC={asc:"ASCENDING",desc:"DESCENDING"},HC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FC={and:"AND",or:"OR"};class GC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(s,e){return s.useProto3Json||Eh(e)?e:{value:e}}function oh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function QC(s,e){return oh(s,e.toTimestamp())}function Ai(s){return Ke(!!s,49232),Ee.fromTimestamp((function(i){const a=Zs(i);return new rt(a.seconds,a.nanos)})(s))}function $m(s,e){return pm(s,e).canonicalString()}function pm(s,e){const i=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function mT(s){const e=ut.fromString(s);return Ke(vT(e),10190,{key:e.toString()}),e}function gm(s,e){return $m(s.databaseId,e.path)}function Gd(s,e){const i=mT(e);if(i.get(1)!==s.databaseId.projectId)throw new ce($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new de(gT(i))}function pT(s,e){return $m(s.databaseId,e)}function KC(s){const e=mT(s);return e.length===4?ut.emptyPath():gT(e)}function ym(s){return new ut(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function gT(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function J0(s,e,i){return{name:gm(s,e),fields:i.value.mapValue.fields}}function YC(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ye(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Ke(S===void 0||typeof S=="string",58123),Kt.fromBase64String(S||"")):(Ke(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Kt.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:cT(_.code);return new ce(S,_.message||"")})(d);i=new fT(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(s,a.document.name),c=Ai(a.document.updateTime),d=a.document.createTime?Ai(a.document.createTime):Ee.min(),p=new kn({mapValue:{fields:a.document.fields}}),y=Zt.newFoundDocument(o,c,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Bc(_,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Gd(s,a.document),c=a.readTime?Ai(a.readTime):Ee.min(),d=Zt.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Bc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Gd(s,a.document),c=a.removedTargetIds||[];i=new Bc([],c,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new LC(o,c),p=a.targetId;i=new hT(p,d)}}return i}function XC(s,e){let i;if(e instanceof Ko)i={update:J0(s,e.key,e.value)};else if(e instanceof uT)i={delete:gm(s,e.key)};else if(e instanceof Kr)i={update:J0(s,e.key,e.data),updateMask:sI(e.fieldMask)};else{if(!(e instanceof VC))return ye(16599,{Vt:e.type});i={verify:gm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Po)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ye(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:QC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(s,e.precondition)),i}function $C(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ai(o.updateTime):Ai(c);return d.isEqual(Ee.min())&&(d=Ai(c)),new DC(d,o.transformResults||[])})(i,e)))):[]}function ZC(s,e){return{documents:[pT(s,e.path)]}}function JC(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=pT(s,o);const c=(function(_){if(_.length!==0)return _T(Ii.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(P){return{field:Ba(P.field),direction:tI(P.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=mm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function WC(s){let e=KC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ke(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const P=yT(w);return P instanceof Ii&&KE(P)?P.getFilters():[P]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((P=>(function(Z){return new rh(qa(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(P)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let P;return P=typeof w=="object"?w.value:w,Eh(P)?null:P})(i.limit));let y=null;i.startAt&&(y=(function(w){const P=!!w.before,F=w.values||[];return new sh(F,P)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const P=!w.before,F=w.values||[];return new sh(F,P)})(i.endAt)),yC(e,o,d,c,p,"F",y,_)}function eI(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function yT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(i.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ot.create(qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>yT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(i.compositeFilter.op))})(s):ye(30097,{filter:s})}function tI(s){return qC[s]}function nI(s){return HC[s]}function iI(s){return FC[s]}function Ba(s){return{fieldPath:s.canonicalString()}}function qa(s){return Qt.fromServerFormat(s.fieldPath)}function _T(s){return s instanceof Ot?(function(i){if(i.op==="=="){if(j0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(U0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(j0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(U0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:nI(i.op),value:i.value}}})(s):s instanceof Ii?(function(i){const a=i.getFilters().map((o=>_T(o)));return a.length===1?a[0]:{compositeFilter:{op:iI(i.op),filters:a}}})(s):ye(54877,{filter:s})}function sI(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function vT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Fs{constructor(e,i,a,o,c=Ee.min(),d=Ee.min(),p=Kt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rI{constructor(e){this.yt=e}}function aI(s){const e=WC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?dm(e,e.limit,"L"):e}class lI{constructor(){this.Cn=new oI}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve($s.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve($s.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class oI{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Mt(ut.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Mt(ut.comparator)).toArray()}}const W0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ET=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(ET,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}const ev="LruGarbageCollector",uI=1048576;function tv([s,e],[i,a]){const o=ke(s,i);return o===0?ke(e,a):o}class cI{constructor(e){this.Ir=e,this.buffer=new Mt(tv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hI{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?ie(ev,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Vr(3e5)}))}}class fI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(vh.ce);const a=new cI(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(W0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,p,y,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),ja()<=Ve.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function dI(s,e){return new fI(s,e)}class mI{constructor(){this.changes=new Qr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class gI{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Io(a.mutation,o,$n.empty(),rt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Pe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Pe()){const o=kr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Eo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=kr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Pe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=ts();const d=Co(),p=(function(){return Co()})();return i.forEach(((y,_)=>{const S=a.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Kr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Io(S.mutation,_,S.mutation.getFieldMask(),rt.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new pI(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Co();let o=new ct(((d,p)=>d-p)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=a.get(y)||$n.empty();S=p.applyToLocalView(_,S),a.set(y,S);const w=(o.get(p.batchId)||Pe()).add(y);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,S=y.value,w=tT();S.forEach((P=>{if(!c.has(P)){const F=lT(i.get(P),a.get(P));F!==null&&w.set(P,F),c=c.add(P)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return de.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):_C(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(kr());let p=Oo,y=c;return d.next((_=>X.forEach(_,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((P=>{y=y.insert(S,P)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Pe()))).next((S=>({batchId:p,changes:eT(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((a=>{let o=Eo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Eo();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(y=>{const _=(function(w,P){return new bh(P,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((S=>{S.forEach(((w,P)=>{d=d.insert(w,P)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Zt.newInvalidDocument(S)))}));let p=Eo();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&Io(S.mutation,_,$n.empty(),rt.now()),Ah(i,_)&&(p=p.insert(y,_))})),p}))}}class yI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:aI(o.bundledQuery),readTime:Ai(o.readTime)}})(i)),X.resolve()}}class _I{constructor(){this.overlays=new ct(de.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=kr();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=kr(),c=i.length+1,d=new de(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new ct(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=kr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=kr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=o)););return X.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new PC(i,a));let c=this.qr.get(i);c===void 0&&(c=Pe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class vI{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Zm{constructor(){this.Qr=new Mt(Lt.$r),this.Ur=new Mt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Lt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Lt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new de(new ut([])),a=new Lt(i,e),o=new Lt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new de(new ut([])),a=new Lt(i,e),o=new Lt(i,e+1);let c=Pe();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Lt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Lt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return de.comparator(e.key,i.key)||ke(e.Yr,i.Yr)}static Kr(e,i){return ke(e.Yr,i.Yr)||de.comparator(e.key,i.key)}}class EI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Lt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kC(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Lt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Lt(i,0),o=new Lt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Mt(ke);return i.forEach((o=>{const c=new Lt(o,0),d=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;de.isDocumentKey(c)||(c=c.child(""));const d=new Lt(new de(c),0);let p=new Mt(ke);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ke(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Lt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Lt(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class TI{constructor(e){this.ri=e,this.docs=(function(){return new ct(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Zt.newInvalidDocument(i))}getEntries(e,i){let a=ts();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Zt.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ts();const d=i.path,p=new de(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||XR(YR(S),a)<=0||(o.has(S.key)||Ah(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ye(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new bI(this)}getSize(e){return X.resolve(this.size)}}class bI extends mI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class SI{constructor(e){this.persistence=e,this.si=new Qr((i=>Fm(i)),Gm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=tl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new tl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class TT{constructor(e,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new vI,this.referenceDelegate=e(this),this.Pi=new SI(this),this.indexManager=new lI,this.remoteDocumentCache=(function(o){return new TI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new rI(i),this.Ii=new yI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new _I,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new EI(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ie("MemoryPersistence","Starting transaction:",e);const o=new AI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class AI extends ZR{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new Jm(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=de.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class uh{constructor(e,i){this.persistence=e,this.pi=new Qr((a=>eC(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=dI(this,i)}static mi(e,i){return new uh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Ee.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Pe(),o=Pe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Wm(e,i.fromCache,a,o)}}class wI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZS()?8:JR(Jt())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new wI;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(ja()<=Ve.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ja()<=Ve.DEBUG&&ie("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ja()<=Ve.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(i))):X.resolve())}ys(e,i){if(H0(i))return X.resolve(null);let a=Si(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=dm(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Pe(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return H0(i)||o.isEqual(Ee.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(ja()<=Ve.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(i)),this.vs(e,d,i,KR(o,Oo)).next((p=>p)))}))}Ds(e,i){let a=new Mt(JE(e));return i.forEach(((o,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return ja()<=Ve.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(e,i,$s.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ep="LocalStore",CI=3e8;class II{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ct(ke),this.xs=new Qr((c=>Fm(c)),Gm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function xI(s,e,i,a){return new II(s,e,i,a)}async function bT(s,e){const i=be(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Pe();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function NI(s,e){const i=be(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,S){const w=_.batch,P=w.keys();let F=X.resolve();return P.forEach((Z=>{F=F.next((()=>S.getEntry(y,Z))).next((W=>{const J=_.docVersions.get(Z);Ke(J!==null,48541),W.version.compareTo(J)<0&&(w.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),S.addEntry(W)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Pe();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function ST(s){const e=be(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function DI(s,e){const i=be(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((S,w)=>{const P=o.get(w);if(!P)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,w))));let F=P.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?F=F.withResumeToken(Kt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,a)),o=o.insert(w,F),(function(W,J,ue){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=CI?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(P,F,S)&&p.push(i.Pi.updateTargetData(c,F))}));let y=ts(),_=Pe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(OI(c,d,e.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!a.isEqual(Ee.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function OI(s,e,i){let a=Pe(),o=Pe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ts();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Ee.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ie(ep,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function MI(s,e){const i=be(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function VI(s,e){const i=be(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Fs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function _m(s,e,i){const a=be(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;ie(ep,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function nv(s,e,i){const a=be(s);let o=Ee.min(),c=Pe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const w=be(y),P=w.xs.get(S);return P!==void 0?X.resolve(w.Ms.get(P)):w.Pi.getTargetData(_,S)})(a,d,Si(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Ee.min(),i?c:Pe()))).next((p=>(kI(a,EC(e),p),{documents:p,Qs:c})))))}function kI(s,e,i){let a=s.Os.get(e)||Ee.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class iv{constructor(){this.activeTargetIds=RC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PI{constructor(){this.Mo=new iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class LI{Oo(e){}shutdown(){}}const sv="ConnectivityMonitor";class rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function vm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Qd="RestConnection",UI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===nh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=vm(),p=this.zo(e,i.toUriEncodedString());ie(Qd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),S=il(_);return this.Jo(e,p,y,a,S).then((w=>(ie(Qd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Za(Qd,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=UI[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class zI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class BI extends jI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=vm();return new Promise(((p,y)=>{const _=new CE;_.setWithCredentials(!0),_.listenOnce(IE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const w=_.getResponseJson();ie(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Lc.TIMEOUT:ie(Xt,`RPC '${e}' ${d} timed out`),y(new ce($.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const P=_.getStatus();if(ie(Xt,`RPC '${e}' ${d} failed with status:`,P,"response text:",_.getResponseText()),P>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const W=(function(ue){const pe=ue.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(pe)>=0?pe:$.UNKNOWN})(Z.status);y(new ce(W,Z.message))}else y(new ce($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ce($.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ie(Xt,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ie(Xt,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=DE(),p=NE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const S=c.join("");ie(Xt,`Creating RPC '${e}' stream ${o}: ${S}`,y);const w=d.createWebChannel(S,y);this.I_(w);let P=!1,F=!1;const Z=new zI({Yo:J=>{F?ie(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(P||(ie(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),P=!0),ie(Xt,`RPC '${e}' stream ${o} sending:`,J),w.send(J))},Zo:()=>w.close()}),W=(J,ue,pe)=>{J.listen(ue,(fe=>{try{pe(fe)}catch(Be){setTimeout((()=>{throw Be}),0)}}))};return W(w,vo.EventType.OPEN,(()=>{F||(ie(Xt,`RPC '${e}' stream ${o} transport opened.`),Z.o_())})),W(w,vo.EventType.CLOSE,(()=>{F||(F=!0,ie(Xt,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(w))})),W(w,vo.EventType.ERROR,(J=>{F||(F=!0,Za(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new ce($.UNAVAILABLE,"The operation could not be completed")))})),W(w,vo.EventType.MESSAGE,(J=>{if(!F){const ue=J.data[0];Ke(!!ue,16349);const pe=ue,fe=pe?.error||pe[0]?.error;if(fe){ie(Xt,`RPC '${e}' stream ${o} received error:`,fe);const Be=fe.status;let Qe=(function(R){const I=Ct[R];if(I!==void 0)return cT(I)})(Be),Ce=fe.message;Qe===void 0&&(Qe=$.INTERNAL,Ce="Unknown error status: "+Be+" with message "+fe.message),F=!0,Z.a_(new ce(Qe,Ce)),w.close()}else ie(Xt,`RPC '${e}' stream ${o} received:`,ue),Z.u_(ue)}})),W(p,xE.STAT_EVENT,(J=>{J.stat===lm.PROXY?ie(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===lm.NOPROXY&&ie(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Kd(){return typeof document<"u"?document:null}function Ih(s){return new GC(s,!0)}class AT{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const av="PersistentStream";class wT{constructor(e,i,a,o,c,d,p,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(es(i.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ce($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ie(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qI extends wT{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=YC(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ee.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Ai(d.readTime):Ee.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=fm(y)?{documents:ZC(c,y)}:{query:JC(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=dT(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ee.min())>0){p.readTime=oh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=eI(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class HI extends wT{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=$C(e.writeResults,e.commitTime),a=Ai(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>XC(this.serializer,a)))};this.q_(i)}}class FI{}class GI extends FI{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,pm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(i),this.aa=!1):ie("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fr="RemoteStore";class KI{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Yr(this)&&(ie(Fr,"Restarting streams for network reachability change."),await(async function(y){const _=be(y);_.Ea.add(4),await Xo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await xh(_)})(this))}))})),this.Ra=new QI(a,o)}}async function xh(s){if(Yr(s))for(const e of s.da)await e(!0)}async function Xo(s){for(const e of s.da)await e(!1)}function RT(s,e){const i=be(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),sp(i)?ip(i):ul(i).O_()&&np(i,e))}function tp(s,e){const i=be(s),a=ul(i);i.Ia.delete(e),a.O_()&&CT(i,e),i.Ia.size===0&&(a.O_()?a.L_():Yr(i)&&i.Ra.set("Unknown"))}function np(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ul(s).Y_(e)}function CT(s,e){s.Va.Ue(e),ul(s).Z_(e)}function ip(s){s.Va=new BC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ul(s).start(),s.Ra.ua()}function sp(s){return Yr(s)&&!ul(s).x_()&&s.Ia.size>0}function Yr(s){return be(s).Ea.size===0}function IT(s){s.Va=void 0}async function YI(s){s.Ra.set("Online")}async function XI(s){s.Ia.forEach(((e,i)=>{np(s,e)}))}async function $I(s,e){IT(s),sp(s)?(s.Ra.ha(e),ip(s)):s.Ra.set("Unknown")}async function ZI(s,e,i){if(s.Ra.set("Online"),e instanceof fT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(a){ie(Fr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ch(s,a)}else if(e instanceof Bc?s.Va.Ze(e):e instanceof hT?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ee.min()))try{const a=await ST(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Kt.EMPTY_BYTE_STRING,S.snapshotVersion)),CT(c,y);const w=new Fs(S.target,y,_,S.sequenceNumber);np(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ie(Fr,"Failed to raise snapshot:",a),await ch(s,a)}}async function ch(s,e,i){if(!ol(e))throw e;s.Ea.add(1),await Xo(s),s.Ra.set("Offline"),i||(i=()=>ST(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ie(Fr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await xh(s)}))}function xT(s,e){return e().catch((i=>ch(s,i,e)))}async function Nh(s){const e=be(s),i=er(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;JI(e);)try{const o=await MI(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,WI(e,o)}catch(o){await ch(e,o)}NT(e)&&DT(e)}function JI(s){return Yr(s)&&s.Ta.length<10}function WI(s,e){s.Ta.push(e);const i=er(s);i.O_()&&i.X_&&i.ea(e.mutations)}function NT(s){return Yr(s)&&!er(s).x_()&&s.Ta.length>0}function DT(s){er(s).start()}async function ex(s){er(s).ra()}async function tx(s){const e=er(s);for(const i of s.Ta)e.ea(i.mutations)}async function nx(s,e,i){const a=s.Ta.shift(),o=Ym.from(a,e,i);await xT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Nh(s)}async function ix(s,e){e&&er(s).X_&&await(async function(a,o){if((function(d){return UC(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();er(a).B_(),await xT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Nh(a)}})(s,e),NT(s)&&DT(s)}async function lv(s,e){const i=be(s);i.asyncQueue.verifyOperationInProgress(),ie(Fr,"RemoteStore received new credentials");const a=Yr(i);i.Ea.add(3),await Xo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await xh(i)}async function sx(s,e){const i=be(s);e?(i.Ea.delete(2),await xh(i)):e||(i.Ea.add(2),await Xo(i),i.Ra.set("Unknown"))}function ul(s){return s.ma||(s.ma=(function(i,a,o){const c=be(i);return c.sa(),new qI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:YI.bind(null,s),t_:XI.bind(null,s),r_:$I.bind(null,s),H_:ZI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),sp(s)?ip(s):s.Ra.set("Unknown")):(await s.ma.stop(),IT(s))}))),s.ma}function er(s){return s.fa||(s.fa=(function(i,a,o){const c=be(i);return c.sa(),new HI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:ex.bind(null,s),r_:ix.bind(null,s),ta:tx.bind(null,s),na:nx.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Nh(s)):(await s.fa.stop(),s.Ta.length>0&&(ie(Fr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class rp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new rp(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(s,e){if(es("AsyncQueue",`${e}: ${s}`),ol(s))return new ce($.UNAVAILABLE,`${e}: ${s}`);throw s}class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||de.comparator(i.key,a.key):(i,a)=>de.comparator(i.key,a.key),this.keyedMap=Eo(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ya;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class ov{constructor(){this.ga=new ct(de.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class nl{constructor(e,i,a,o,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new nl(e,i,Ya.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class rx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ax{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=be(i),c=o.queries;o.queries=uv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ce($.ABORTED,"Firestore shutting down"))}}function uv(){return new Qr((s=>ZE(s)),Sh)}async function lx(s,e){const i=be(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new rx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=ap(d,`Initialization of query '${za(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&lp(i)}async function ox(s,e){const i=be(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ux(s,e){const i=be(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&lp(i)}function cx(s,e,i){const a=be(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function lp(s){s.Ca.forEach((e=>{e.next()}))}var Em,cv;(cv=Em||(Em={})).Ma="default",cv.Cache="cache";class hx{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new nl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class OT{constructor(e){this.key=e}}class MT{constructor(e){this.key=e}}class fx{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=JE(e),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new ov,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const P=o.get(S),F=Ah(this.query,w)?w:null,Z=!!P&&this.mutatedKeys.has(P.key),W=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;P&&F?P.data.isEqual(F.data)?Z!==W&&(a.track({type:3,doc:F}),J=!0):this.su(P,F)||(a.track({type:2,doc:F}),J=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!P&&F?(a.track({type:0,doc:F}),J=!0):P&&!F&&(a.track({type:1,doc:P}),J=!0,(y||_)&&(p=!0)),J&&(F?(d=d.add(F),c=W?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(F,Z){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:J})}};return W(F)-W(Z)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new nl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new MT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new OT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const op="SyncEngine";class dx{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class mx{constructor(e){this.key=e,this.hu=!1}}class px{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qr((p=>ZE(p)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(de.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gx(s,e,i=!0){const a=jT(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await VT(a,e,i,!0),o}async function yx(s,e){const i=jT(s);await VT(i,e,!0,!1)}async function VT(s,e,i,a){const o=await VI(s.localStore,Si(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await _x(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&RT(s.remoteStore,o),p}async function _x(s,e,i,a,o){s.pu=(w,P,F)=>(async function(W,J,ue,pe){let fe=J.view.ru(ue);fe.Cs&&(fe=await nv(W.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,fe))));const Be=pe&&pe.targetChanges.get(J.targetId),Qe=pe&&pe.targetMismatches.get(J.targetId)!=null,Ce=J.view.applyChanges(fe,W.isPrimaryClient,Be,Qe);return fv(W,J.targetId,Ce.au),Ce.snapshot})(s,w,P,F);const c=await nv(s.localStore,e,!0),d=new fx(e,c.Qs),p=d.ru(c.documents),y=Yo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,y);fv(s,i,_.au);const S=new dx(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function vx(s,e,i){const a=be(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Sh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&tp(a.remoteStore,o.targetId),Tm(a,o.targetId)})).catch(ll)):(Tm(a,o.targetId),await _m(a.localStore,o.targetId,!0))}async function Ex(s,e){const i=be(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),tp(i.remoteStore,a.targetId))}async function Tx(s,e,i){const a=Ix(s);try{const o=await(function(d,p){const y=be(d),_=rt.now(),S=p.reduce(((F,Z)=>F.add(Z.key)),Pe());let w,P;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=ts(),W=Pe();return y.Ns.getEntries(F,S).next((J=>{Z=J,Z.forEach(((ue,pe)=>{pe.isValidDocument()||(W=W.add(ue))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,Z))).next((J=>{w=J;const ue=[];for(const pe of p){const fe=MC(pe,w.get(pe.key).overlayedDocument);fe!=null&&ue.push(new Kr(pe.key,fe,FE(fe.value.mapValue),Zi.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,ue,p)})).next((J=>{P=J;const ue=J.applyToLocalDocumentSet(w,W);return y.documentOverlayCache.saveOverlays(F,J.batchId,ue)}))})).then((()=>({batchId:P.batchId,changes:eT(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ct(ke)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await $o(a,o.changes),await Nh(a.remoteStore)}catch(o){const c=ap(o,"Failed to persist write");i.reject(c)}}async function kT(s,e){const i=be(s);try{const a=await DI(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ke(d.hu,14607):o.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await $o(i,a,e)}catch(a){await ll(a)}}function hv(s,e,i){const a=be(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=be(d);y.onlineState=p;let _=!1;y.queries.forEach(((S,w)=>{for(const P of w.Sa)P.va(p)&&(_=!0)})),_&&lp(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function bx(s,e,i){const a=be(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new ct(de.comparator);d=d.insert(c,Zt.newNoDocument(c,Ee.min()));const p=Pe().add(c),y=new Ch(Ee.min(),new Map,new ct(ke),d,p);await kT(a,y),a.du=a.du.remove(c),a.Au.delete(e),up(a)}else await _m(a.localStore,e,!1).then((()=>Tm(a,e,i))).catch(ll)}async function Sx(s,e){const i=be(s),a=e.batch.batchId;try{const o=await NI(i.localStore,e);LT(i,a,null),PT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $o(i,o)}catch(o){await ll(o)}}async function Ax(s,e,i){const a=be(s);try{const o=await(function(d,p){const y=be(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,p).next((w=>(Ke(w!==null,37113),S=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);LT(a,e,i),PT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $o(a,o)}catch(o){await ll(o)}}function PT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function LT(s,e,i){const a=be(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Tm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||UT(s,a)}))}function UT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(tp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),up(s))}function fv(s,e,i){for(const a of i)a instanceof OT?(s.Ru.addReference(a.key,e),wx(s,a)):a instanceof MT?(ie(op,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||UT(s,a.key)):ye(19791,{wu:a})}function wx(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ie(op,"New document in limbo: "+i),s.Eu.add(a),up(s))}function up(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new de(ut.fromString(e)),a=s.fu.next();s.Au.set(a,new mx(i)),s.du=s.du.insert(i,a),RT(s.remoteStore,new Fs(Si(Qm(i.path)),a,"TargetPurposeLimboResolution",vh.ce))}}async function $o(s,e,i){const a=be(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Wm.As(y.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const S=be(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(P=>X.forEach(P.Es,(F=>S.persistence.referenceDelegate.addReference(w,P.targetId,F))).next((()=>X.forEach(P.ds,(F=>S.persistence.referenceDelegate.removeReference(w,P.targetId,F)))))))))}catch(w){if(!ol(w))throw w;ie(ep,"Failed to update sequence numbers: "+w)}for(const w of _){const P=w.targetId;if(!w.fromCache){const F=S.Ms.get(P),Z=F.snapshotVersion,W=F.withLastLimboFreeSnapshotVersion(Z);S.Ms=S.Ms.insert(P,W)}}})(a.localStore,c))}async function Rx(s,e){const i=be(s);if(!i.currentUser.isEqual(e)){ie(op,"User change. New user:",e.toKey());const a=await bT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ce($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $o(i,a.Ls)}}function Cx(s,e){const i=be(s),a=i.Au.get(e);if(a&&a.hu)return Pe().add(a.key);{let o=Pe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function jT(s){const e=be(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=kT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bx.bind(null,e),e.Pu.H_=ux.bind(null,e.eventManager),e.Pu.yu=cx.bind(null,e.eventManager),e}function Ix(s){const e=be(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ax.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return xI(this.persistence,new RI,e.initialUser,this.serializer)}Cu(e){return new TT(Jm.mi,this.serializer)}Du(e){return new PI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class xx extends hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ke(this.persistence.referenceDelegate instanceof uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new hI(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new TT((a=>uh.mi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rx.bind(null,this.syncEngine),await sx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ax})()}createDatastore(e){const i=Ih(e.databaseInfo.databaseId),a=(function(c){return new BI(c)})(e.databaseInfo);return(function(c,d,p,y){return new GI(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new KI(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>hv(this.syncEngine,i,0)),(function(){return rv.v()?new rv:new LI})())}createSyncEngine(e,i){return(function(o,c,d,p,y,_,S){const w=new px(o,c,d,p,y,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=be(i);ie(Fr,"RemoteStore shutting down."),a.Ea.add(5),await Xo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class Nx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const tr="FirestoreClient";class Dx{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ie(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ie(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ap(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Yd(s,e){s.asyncQueue.verifyOperationInProgress(),ie(tr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await bT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function dv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Ox(s);ie(tr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>lv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>lv(e.remoteStore,o))),s._onlineComponents=e}async function Ox(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ie(tr,"Using user provided OfflineComponentProvider");try{await Yd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Yd(s,new hh)}}else ie(tr,"Using default OfflineComponentProvider"),await Yd(s,new xx(void 0));return s._offlineComponents}async function zT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ie(tr,"Using user provided OnlineComponentProvider"),await dv(s,s._uninitializedComponentsProvider._online)):(ie(tr,"Using default OnlineComponentProvider"),await dv(s,new bm))),s._onlineComponents}function Mx(s){return zT(s).then((e=>e.syncEngine))}async function mv(s){const e=await zT(s),i=e.eventManager;return i.onListen=gx.bind(null,e.syncEngine),i.onUnlisten=vx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=yx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Ex.bind(null,e.syncEngine),i}function BT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const pv=new Map;const qT="firestore.googleapis.com",gv=!0;class yv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=gv}else this.host=e.host,this.ssl=e.ssl??gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ET;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uI)throw new ce($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new kR;switch(a.type){case"firstParty":return new jR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=pv.get(i);a&&(ie("ComponentProvider","Removing Datastore"),pv.delete(i),a.terminate())})(this),Promise.resolve()}}function Vx(s,e,i,a={}){s=Ka(s,cp);const o=il(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(Uv(`https://${p}`),jv("Firestore",!0)),c.host!==qT&&c.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!jr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=$t.MOCK_USER;else{_=qS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ce($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $t(w)}s._authCredentials=new PR(new ME(_,S))}}class Dh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Dh(this.firestore,e,this._query)}}class Ut{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Qo(i,Ut._jsonSchema))return new Ut(e,a||null,new de(ut.fromString(i.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:It("string",Ut._jsonSchemaVersion),referencePath:It("string")};class Uo extends Dh{constructor(e,i,a){super(e,i,Qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new de(e))}withConverter(e){return new Uo(this.firestore,e,this._path)}}function Xd(s,e,...i){if(s=hn(s),arguments.length===1&&(e=jm.newId()),GR("doc","path",e),s instanceof cp){const a=ut.fromString(e,...i);return N0(a),new Ut(s,null,new de(a))}{if(!(s instanceof Ut||s instanceof Uo))throw new ce($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ut.fromString(e,...i));return N0(a),new Ut(s.firestore,s instanceof Uo?s.converter:null,new de(a))}}const _v="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AT(this,"async_queue_retry"),this._c=()=>{const a=Kd();a&&ie(_v,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;ie(_v,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",Ev(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=rp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:Ev(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Ev(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Tv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class fh extends cp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new vv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function kx(s,e){const i=typeof s=="object"?s:Hv(),a=typeof s=="string"?s:nh,o=xm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=zS("firestore");c&&Vx(o,...c)}return o}function HT(s){if(s._terminated)throw new ce($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Px(s),s._firestoreClient}function Px(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new iC(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,BT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Dx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Kt.fromBase64String(e))}catch(i){throw new ce($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Pn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qo(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:It("string",Pn._jsonSchemaVersion),bytes:It("string")};class hp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class FT{constructor(e){this._methodName=e}}class wi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(Qo(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:It("string",wi._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class Ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qo(e,Ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ri(e.vectorValues);throw new ce($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:It("string",Ri._jsonSchemaVersion),vectorValues:It("object")};const Lx=/^__.*__$/;class Ux{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ko(e,this.data,i,this.fieldTransforms)}}function GT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:s})}}class fp{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GT(this.Ac)&&Lx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jx{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ih(e)}Cc(e,i,a,o=!1){return new fp({Ac:e,methodName:i,Dc:a,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zx(s){const e=s._freezeSettings(),i=Ih(s._databaseId);return new jx(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Bx(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);XT("Data must be an object, but it was:",d,a);const p=KT(a,d);let y,_;if(c.merge)y=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const P=qx(e,w,i);if(!d.contains(P))throw new ce($.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);Fx(S,P)||S.push(P)}y=new $n(S),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new Ux(new kn(p),y,_)}function QT(s,e){if(YT(s=hn(s)))return XT("Unsupported field value:",e,s),KT(s,e);if(s instanceof FT)return(function(a,o){if(!GT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=QT(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return CC(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=rt.fromDate(a);return{timestampValue:oh(o.serializer,c)}}if(a instanceof rt){const c=new rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(o.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:dT(o.serializer,a._byteString)};if(a instanceof Ut){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ri)return(function(d,p){return{mapValue:{fields:{[qE]:{stringValue:HE},[ih]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Km(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${zm(a)}`)})(s,e)}function KT(s,e){const i={};return PE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(s,((a,o)=>{const c=QT(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function YT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof rt||s instanceof wi||s instanceof Pn||s instanceof Ut||s instanceof FT||s instanceof Ri)}function XT(s,e,i){if(!YT(i)||!VE(i)){const a=zm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function qx(s,e,i){if((e=hn(e))instanceof hp)return e._internalPath;if(typeof e=="string")return $T(s,e);throw dh("Field path arguments must be of type string or ",s,!1,void 0,i)}const Hx=new RegExp("[~\\*/\\[\\]]");function $T(s,e,i){if(e.search(Hx)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new hp(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ce($.INVALID_ARGUMENT,p+s+y)}function Fx(s,e){return s.some((i=>i.isEqual(e)))}class ZT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(JT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Gx extends ZT{data(){return super.data()}}function JT(s,e){return typeof e=="string"?$T(s,e):e instanceof hp?e._internalPath:e._delegate._internalPath}function Qx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kx{convertValue(e,i="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Gr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ih].arrayValue?.values?.map((a=>yt(a.doubleValue)));return new Ri(i)}convertGeoPoint(e){return new wi(yt(e.latitude),yt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Th(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Mo(e));default:return null}}convertTimestamp(e){const i=Zs(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ut.fromString(e);Ke(vT(a),9688,{name:e});const o=new Vo(a.get(1),a.get(3)),c=new de(a.popFirst(5));return o.isEqual(i)||es(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Yx(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class bo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ur extends ZT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(JT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:It("string",Ur._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class qc extends Ur{data(e={}){return super.data(e)}}class Xa{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new qc(this._firestore,this._userDataWriter,a.key,a,new bo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new qc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new qc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:Xx(p.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Xx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:s})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:It("string",Xa._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class WT extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,i)}}function bv(s,e,i){s=Ka(s,Ut);const a=Ka(s.firestore,fh),o=Yx(s.converter,e,i);return Zx(a,[Bx(zx(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Zi.none())])}function $x(s,...e){s=hn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Tv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Tv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Ut)d=Ka(s.firestore,fh),p=Qm(s._key.path),c={next:y=>{e[a]&&e[a](Jx(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=Ka(s,Dh);d=Ka(y.firestore,fh),p=y._query;const _=new WT(d);c={next:S=>{e[a]&&e[a](new Xa(d,_,y,S))},error:e[a+1],complete:e[a+2]},Qx(s._query)}return(function(_,S,w,P){const F=new Nx(P),Z=new hx(S,F,w);return _.asyncQueue.enqueueAndForget((async()=>lx(await mv(_),Z))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>ox(await mv(_),Z)))}})(HT(d),p,o,c)}function Zx(s,e){return(function(a,o){const c=new Lr;return a.asyncQueue.enqueueAndForget((async()=>Tx(await Mx(a),o,c))),c.promise})(HT(s),e)}function Jx(s,e,i){const a=i.docs.get(e._key),o=new WT(s);return new Ur(s,o,e._key,a,new bo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){al=o})(sl),$a(new zr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new fh(new LR(a.getProvider("auth-internal")),new zR(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ce($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(_.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ys(R0,C0,e),Ys(R0,C0,"esm2020")})();const Wx={apiKey:"AIzaSyC9cqkStoTD-qXH8NCZeNKkti4ayfREE-Q",authDomain:"efaqa-life.firebaseapp.com",projectId:"efaqa-life",storageBucket:"efaqa-life.firebasestorage.app",messagingSenderId:"525492331370",appId:"1:525492331370:web:020ac74f445b1e19febb13"},e1=qv(Wx),jo=MR(e1),$d=kx(e1),Hc=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{var e=Math.random()*16|0,i=s=="x"?e:e&3|8;return i.toString(16)}),Sv=s=>s?s.toString().replace(/[<>&'"]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return e}}):"",eN=(s,e)=>{const i=Hc(),a=Hc(),o=Hc(),c=`com.techguard.profile.${e.stableId}`,d=(e.blockedSites||[]).filter(F=>F&&F.trim().length>0).map(F=>`          <string>${Sv(F.trim())}</string>`).join(`
`),y=(e.blockedApps||[]).map(F=>{if(!F||!F.bundleId)return null;const Z=F.bundleId.replace(/[^a-zA-Z0-9.-]/g,"");return Z.length>0?Z:null}).filter(F=>F!==null).map(F=>`          <string>${F}</string>`).join(`
`),_=e.adultFilterEnabled?"<true/>":"<false/>",S=e.vpnBlockEnabled?"<false/>":null,w=[];y&&w.push(`        <key>blacklistedAppBundleIDs</key>
        <array>
${y}
        </array>`),S&&w.push(`        <key>allowVPNCreation</key>
        ${S}`);const P=w.length>0?`
      <dict>
        <key>PayloadDisplayName</key>
        <string>App Restrictions</string>
        <key>PayloadIdentifier</key>
        <string>com.efaqa.restrictions.${a}</string>
        <key>PayloadUUID</key>
        <string>${a}</string>
        <key>PayloadType</key>
        <string>com.apple.applicationaccess</string>
        <key>PayloadVersion</key>
        <integer>1</integer>
${w.join(`
`)}
      </dict>
      `:"";return`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>PayloadType</key>
    <string>Configuration</string>
    <key>PayloadDisplayName</key>
    <string>Efaqa Profile (${Sv(s.email)})</string>
    <key>PayloadIdentifier</key>
    <string>${c}</string>
    <key>PayloadOrganization</key>
    <string>Efaqa Life</string>
    <key>PayloadUUID</key>
    <string>${o}</string>
    <key>PayloadVersion</key>
    <integer>1</integer>
    <key>TargetDeviceType</key>
    <integer>1</integer>
    <key>PayloadRemovalDisallowed</key>
    <true/>
    <key>PayloadContent</key>
    <array>
      <dict>
        <key>PayloadDisplayName</key>
        <string>Web Content Filter</string>
        <key>PayloadIdentifier</key>
        <string>com.efaqa.webfilter.${i}</string>
        <key>PayloadUUID</key>
        <string>${i}</string>
        <key>PayloadType</key>
        <string>com.apple.webcontent-filter</string>
        <key>PayloadVersion</key>
        <integer>1</integer>
        <key>FilterType</key>
        <string>BuiltIn</string>
        <key>AutoFilterEnabled</key>
        ${_}
        <key>UserDefinedName</key>
        <string>Efaqa Web Filter</string>
        ${d?`<key>DenyListURLs</key>
        <array>
${d}
        </array>`:""}
      </dict>
      ${P}
    </array>
  </dict>
</plist>`},t1=wv.createContext(),tN=({children:s})=>{const[e,i]=ve.useState([]),a=ve.useCallback((o,c="success")=>{const d=Date.now();i(p=>[...p,{id:d,message:o,type:c}]),setTimeout(()=>{i(p=>p.filter(y=>y.id!==d))},3e3)},[]);return b.jsxs(t1.Provider,{value:{addToast:a},children:[s,b.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 pointer-events-none",children:e.map(o=>b.jsxs("div",{className:`flex items-center gap-3 px-5 py-3 rounded-lg shadow-2xl border animate-slideUp pointer-events-auto min-w-[300px] justify-center backdrop-blur-xl ${o.type==="success"?"bg-[#0F172A]/90 border-cyan-500/30 text-cyan-400":"bg-[#0F172A]/90 border-red-500/30 text-red-400"}`,children:[o.type==="success"?b.jsx(Cv,{className:"w-5 h-5"}):b.jsx(Rm,{className:"w-5 h-5"}),b.jsx("span",{className:"text-sm font-bold",children:o.message})]},o.id))})]})},dp=()=>wv.useContext(t1),nN=({onComplete:s})=>{const[e,i]=ve.useState("tension"),a="https://i.postimg.cc/5X3VhCkn/11111.jpg",o="https://i.postimg.cc/680XkvmJ/222.jpg";return ve.useEffect(()=>{const c=setTimeout(()=>i("break"),1800),d=setTimeout(()=>i("glow"),1900),p=setTimeout(()=>s(),4500);return()=>{clearTimeout(c),clearTimeout(d),clearTimeout(p)}},[s]),b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-[#050b14]/95 backdrop-blur-lg transition-all duration-500",children:[b.jsxs("div",{className:"relative flex flex-col items-center justify-center p-4",children:[b.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80px] h-[40px] bg-cyan-500/30 rounded-full blur-[20px] transition-all duration-1000 ${e==="glow"?"opacity-100 scale-150":"opacity-0 scale-0"}`}),b.jsxs("div",{className:"relative w-24 h-12 flex items-center justify-center mb-3",children:[e==="tension"&&b.jsx("img",{src:a,alt:"Closed Chain",className:"h-full object-contain animate-shake filter drop-shadow-[0_0_5px_rgba(0,0,0,0.8)]"}),(e==="break"||e==="glow")&&b.jsxs("div",{className:"relative animate-scaleUp h-full flex justify-center",children:[b.jsx("img",{src:o,alt:"Broken Chain",className:"h-full object-contain filter drop-shadow-[0_0_10px_rgba(34,211,238,0.5)]"}),b.jsx("div",{className:`absolute inset-0 bg-white mix-blend-overlay transition-opacity duration-300 ${e==="break"?"opacity-100":"opacity-0"}`})]})]}),b.jsxs("div",{className:`flex flex-col items-center transition-all duration-1000 ${e==="glow"?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,children:[b.jsx("h2",{className:"text-sm font-bold text-white tracking-tight mb-1 drop-shadow-lg",children:"  "}),b.jsxs("div",{className:"flex items-center gap-1.5 text-cyan-300 text-[10px] font-mono bg-cyan-950/50 px-3 py-1 rounded-full border border-cyan-500/30 shadow-[0_0_5px_rgba(34,211,238,0.1)]",children:[b.jsx(Gs,{className:"w-2.5 h-2.5 animate-spin"})," ..."]})]})]}),b.jsx("style",{children:`
        @keyframes shake { 
            0% { transform: translate(0.5px, 0.5px) rotate(0deg); }
            10% { transform: translate(-0.5px, -1px) rotate(-1deg); }
            20% { transform: translate(-1.5px, 0px) rotate(1deg); }
            30% { transform: translate(1.5px, 1px) rotate(0deg); }
            40% { transform: translate(0.5px, -0.5px) rotate(1deg); }
            50% { transform: translate(-0.5px, 1px) rotate(-1deg); }
            60% { transform: translate(-1.5px, 0.5px) rotate(0deg); }
            70% { transform: translate(1.5px, 0.5px) rotate(-1deg); }
            80% { transform: translate(-0.5px, -0.5px) rotate(1deg); }
            90% { transform: translate(0.5px, 1px) rotate(0deg); }
            100% { transform: translate(0.5px, -1px) rotate(-1deg); }
        }
        @keyframes scaleUp {
            0% { transform: scale(0.95); opacity: 0; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        .animate-shake { animation: shake 0.08s infinite; }
        .animate-scaleUp { animation: scaleUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
      `})]})},Sm=({size:s="normal"})=>{const e="https://i.postimg.cc/CdywmBwL/logo-(1).png",i=s==="large"?"w-64 h-32 mb-8":"w-32 h-10";return b.jsxs("div",{className:`relative ${i} flex items-center justify-center`,children:[b.jsx("img",{src:e,alt:"Efaqa",className:"w-full h-full object-contain opacity-90 hover:opacity-100 transition-opacity drop-shadow-[0_0_15px_rgba(34,211,238,0.2)]",onError:a=>{a.target.style.display="none",a.target.nextSibling.style.display="flex"}}),b.jsxs("div",{className:"hidden w-full h-full items-center justify-center gap-2 bg-slate-900 rounded-lg border border-slate-800",children:[b.jsx(Nv,{className:"w-6 h-6 text-cyan-400"}),b.jsx("span",{className:"font-bold text-white tracking-wide",children:"EFAQA"})]})]})},mh=({children:s,onClick:e,disabled:i,icon:a,className:o="",variant:c="primary"})=>{const d="relative w-full flex items-center justify-center gap-2.5 font-bold text-sm py-3 px-5 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]",p={primary:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white shadow-lg shadow-cyan-900/30 border border-cyan-400/20 hover:border-cyan-400/40",secondary:"bg-[#1E293B] hover:bg-[#334155] text-slate-300 hover:text-white border border-slate-700 hover:border-slate-600",danger:"bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 hover:border-red-500/40"};return b.jsxs("button",{onClick:e,disabled:i,className:`${d} ${p[c]} ${o}`,children:[a&&b.jsx(a,{className:"w-4 h-4"}),b.jsx("span",{children:s})]})},Pr=({children:s,className:e="",title:i,icon:a,headerAction:o})=>b.jsxs("div",{className:`bg-gradient-to-br from-[#0F172A] to-[#1a2332] border border-slate-700/50 rounded-xl overflow-hidden shadow-2xl shadow-cyan-900/5 hover:shadow-cyan-900/10 transition-all duration-300 ${e}`,children:[(i||a)&&b.jsxs("div",{className:"px-6 py-4 border-b border-slate-700/50 flex items-center justify-between bg-gradient-to-r from-[#131C31] to-[#1a2538]",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[a&&b.jsx("div",{className:"text-cyan-400 flex-shrink-0 drop-shadow-[0_0_8px_rgba(34,211,238,0.3)]",children:a}),b.jsx("h3",{className:"text-base font-bold text-white tracking-wide",children:i})]}),o&&b.jsx("div",{children:o})]}),b.jsx("div",{className:"p-0",children:s})]}),Am=({checked:s,onChange:e})=>b.jsx("button",{onClick:e,className:`w-11 h-6 rounded-full relative transition-colors duration-300 focus:outline-none ${s?"bg-cyan-600":"bg-slate-700"}`,children:b.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all duration-300 shadow-sm ${s?"left-[calc(100%-1.25rem)]":"left-1"}`})}),iN=()=>{const[s,e]=ve.useState(!0),[i,a]=ve.useState(""),[o,c]=ve.useState(""),[d,p]=ve.useState(!1),{addToast:y}=dp(),_=async S=>{S.preventDefault(),p(!0);try{s?(await _2(jo,i,o),y("   ","success")):(await y2(jo,i,o),y("   ","success"))}catch(w){y(w.message.replace("Firebase: ",""),"error")}finally{p(!1)}};return b.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[#020617] relative overflow-hidden",dir:"rtl",children:[b.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[400px] h-[400px] bg-cyan-600/10 rounded-full blur-[100px] pointer-events-none"}),b.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[400px] h-[400px] bg-blue-600/10 rounded-full blur-[100px] pointer-events-none"}),b.jsxs("div",{className:"w-full max-w-md bg-[#0F172A]/80 backdrop-blur-xl border border-slate-800 rounded-2xl p-8 shadow-2xl relative z-10",children:[b.jsxs("div",{className:"flex flex-col items-center mb-8",children:[b.jsx(Sm,{size:"large"}),b.jsx("h2",{className:"text-xl font-bold text-white",children:s?" ":" "}),b.jsx("p",{className:"text-slate-400 text-xs mt-2",children:"    "})]}),b.jsxs("form",{onSubmit:_,className:"space-y-5",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:" "}),b.jsxs("div",{className:"relative",children:[b.jsx(Dv,{className:"absolute right-3 top-3 w-4 h-4 text-slate-500"}),b.jsx("input",{type:"email",required:!0,value:i,onChange:S=>a(S.target.value),className:"w-full bg-[#1E293B] border border-slate-700 focus:border-cyan-500 rounded-lg pr-10 pl-4 py-2.5 text-sm text-white placeholder-slate-500 focus:outline-none transition-all",placeholder:"name@example.com"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:" "}),b.jsxs("div",{className:"relative",children:[b.jsx(xv,{className:"absolute right-3 top-3 w-4 h-4 text-slate-500"}),b.jsx("input",{type:"password",required:!0,value:o,onChange:S=>c(S.target.value),className:"w-full bg-[#1E293B] border border-slate-700 focus:border-cyan-500 rounded-lg pr-10 pl-4 py-2.5 text-sm text-white placeholder-slate-500 focus:outline-none transition-all",placeholder:"",minLength:6})]})]}),b.jsx(mh,{type:"submit",disabled:d,icon:d?Gs:s?Jd:Gc,className:d?"cursor-wait":"mt-4",children:d?" ...":s?" ":" "})]}),b.jsx("div",{className:"mt-8 pt-6 border-t border-slate-800 text-center",children:b.jsx("button",{onClick:()=>e(!s),className:"text-xs text-slate-400 hover:text-cyan-400 transition-colors font-medium",children:s?"     ":"    "})})]})]})},sN=({user:s,lockEnabled:e,lockSeconds:i,onToggleLock:a})=>{const{addToast:o}=dp(),[c,d]=ve.useState(!1),p=async()=>{d(!0);try{await g2(jo,s.email),o("   ","success")}catch{o("  ","error")}finally{d(!1)}};return b.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[b.jsx(Pr,{title:" ",icon:b.jsx(Dv,{className:"w-4 h-4"}),children:b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1E293B]/50 rounded-lg border border-slate-700/50",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"bg-slate-800 p-2.5 rounded-lg text-slate-300",children:b.jsx(dS,{className:"w-5 h-5"})}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold mb-1",children:" "}),b.jsx("div",{className:"text-sm text-white font-mono",children:s.email})]})]}),b.jsx("span",{className:"text-xs bg-emerald-500/10 text-emerald-400 px-3 py-1.5 rounded border border-emerald-500/20 font-bold",children:""})]}),b.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1E293B]/50 rounded-lg border border-slate-700/50",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"bg-slate-800 p-2.5 rounded-lg text-slate-300",children:b.jsx(xv,{className:"w-5 h-5"})}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold mb-1",children:""}),b.jsx("div",{className:"text-sm text-white",children:"**********"})]})]}),b.jsx("button",{onClick:p,disabled:c,className:"text-sm text-cyan-400 hover:text-cyan-300 font-bold disabled:opacity-50 px-3 py-1.5 rounded-lg hover:bg-cyan-500/10 transition-colors",children:c?" ...":" "})]})]})}),b.jsx(Pr,{title:" ",icon:b.jsx(sS,{className:"w-4 h-4"}),children:b.jsxs("div",{className:"p-6",children:[b.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:"         .      ."}),b.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-800 flex gap-4 text-xs text-slate-500 font-mono",children:[b.jsx("span",{children:"Version 2.2.0 (Pro)"}),b.jsx("span",{children:""}),b.jsx("span",{children:"Secure Connection"})]})]})}),b.jsx(Pr,{title:" ",icon:b.jsx(Jd,{className:"w-4 h-4"}),className:"border-amber-500/20",children:b.jsxs("div",{className:"p-6 space-y-4 bg-[#1E293B]/30",children:[b.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:"          (  VPN    )     .      ."}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-slate-900/40 border border-slate-700/60",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center ${e?"bg-amber-500/20 text-amber-400":"bg-slate-800 text-slate-400"}`,children:b.jsx(Jd,{className:"w-4 h-4"})}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-bold text-white",children:e?"  ":"   "}),b.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:e?"           .":"       ."})]})]}),b.jsx(Am,{checked:e,onChange:a})]}),e&&b.jsx("div",{className:"p-4 rounded-lg bg-slate-900/60 border border-slate-700/70 flex items-center justify-between",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Gs,{className:"w-4 h-4 text-amber-400 animate-spin"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-xs text-slate-400",children:"           ."}),b.jsxs("div",{className:"text-xs text-amber-400 font-mono mt-1",children:["  :"," ",(()=>{const y=Math.max(0,3600-(i||0)),_=Math.floor(y/60),S=y%60;return`${String(_).padStart(2,"0")}:${String(S).padStart(2,"0")}`})()]})]})]})})]})})]})},rN=({user:s,onLogout:e,children:i,activeTab:a,setActiveTab:o})=>{const[c,d]=ve.useState(!1);return b.jsxs("div",{className:"flex min-h-screen bg-[#020617] text-slate-200 font-sans selection:bg-cyan-500/30 relative overflow-hidden",dir:"rtl",children:[b.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[b.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-cyan-600/5 rounded-full blur-[120px]"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-blue-600/5 rounded-full blur-[100px]"}),b.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-purple-600/3 rounded-full blur-[150px]"})]}),b.jsxs("div",{className:"relative z-10 flex w-full",children:[b.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-[#0F172A] border-l border-slate-800 fixed h-full right-0 z-20",children:[b.jsx("div",{className:"h-20 flex items-center justify-center border-b border-slate-800",children:b.jsx(Sm,{})}),b.jsxs("div",{className:"flex-1 py-6 px-4 space-y-2 overflow-y-auto",children:[b.jsx("div",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider px-2 mb-2",children:" "}),b.jsx(js,{active:a==="web",onClick:()=>o("web"),icon:Fc,label:" "}),b.jsx(js,{active:a==="apps",onClick:()=>o("apps"),icon:Zd,label:" "}),b.jsx(js,{active:a==="network",onClick:()=>o("network"),icon:Y_,label:""}),b.jsx("div",{className:"my-6 border-t border-slate-800"}),b.jsx("div",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider px-2 mb-2",children:""}),b.jsx(js,{active:a==="settings",onClick:()=>o("settings"),icon:Q_,label:""})]}),b.jsxs("div",{className:"p-4 border-t border-slate-800 bg-[#0B1120]",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3 px-2",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-cyan-500 to-blue-600 flex items-center justify-center text-sm font-bold text-white",children:s.email[0].toUpperCase()}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:"text-sm font-bold text-white truncate",children:s.email.split("@")[0]}),b.jsx("div",{className:"text-xs text-slate-500 truncate",children:"Pro Plan"})]})]}),b.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg bg-slate-800 hover:bg-red-900/20 hover:text-red-400 text-slate-400 text-sm font-bold transition-all",children:[b.jsx(G_,{className:"w-4 h-4"}),"  "]})]})]}),b.jsxs("div",{className:"md:hidden fixed top-0 w-full bg-[#0F172A] border-b border-slate-800 z-30 h-16 flex items-center justify-between px-4",children:[b.jsx(Sm,{size:"normal"}),b.jsx("button",{onClick:()=>d(!c),className:"p-2 text-slate-400 hover:text-white",children:c?b.jsx(DS,{}):b.jsx(pS,{})})]}),c&&b.jsxs("div",{className:"md:hidden fixed inset-0 bg-[#020617] z-20 pt-20 px-4 space-y-2",children:[b.jsx(js,{active:a==="web",onClick:()=>{o("web"),d(!1)},icon:Fc,label:" "}),b.jsx(js,{active:a==="apps",onClick:()=>{o("apps"),d(!1)},icon:Zd,label:" "}),b.jsx(js,{active:a==="network",onClick:()=>{o("network"),d(!1)},icon:Y_,label:""}),b.jsx(js,{active:a==="settings",onClick:()=>{o("settings"),d(!1)},icon:Q_,label:""}),b.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-4 py-3 mt-4 text-red-400 font-bold bg-red-900/10 rounded-lg",children:[b.jsx(G_,{className:"w-5 h-5"}),"  "]})]}),b.jsxs("main",{className:"flex-1 md:mr-64 p-4 md:p-8 pt-20 md:pt-8 max-w-6xl mx-auto w-full",children:[i,b.jsx("footer",{className:"mt-12 py-6 border-t border-slate-800 text-center",children:b.jsx("p",{className:"text-xs text-slate-500 font-mono uppercase",children:" 2025 EFAQA PROJECT. ALL RIGHTS RESERVED."})})]})]})]})},js=({active:s,onClick:e,label:i,icon:a})=>a?b.jsxs("button",{onClick:e,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 relative group ${s?"bg-gradient-to-r from-cyan-900/30 via-cyan-900/20 to-transparent text-cyan-400 border-r-2 border-cyan-500 shadow-[0_0_15px_rgba(34,211,238,0.15)]":"text-slate-400 hover:text-white hover:bg-slate-800/60 hover:translate-x-[-2px]"}`,children:[b.jsx(a,{className:`w-5 h-5 transition-all duration-200 ${s?"text-cyan-400 drop-shadow-[0_0_8px_rgba(34,211,238,0.4)]":"text-slate-500 group-hover:text-cyan-400/70"}`,strokeWidth:s?2.5:2}),b.jsx("span",{className:s?"font-semibold":"",children:i}),s&&b.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-cyan-500 rounded-l-full shadow-[0_0_10px_rgba(34,211,238,0.5)]"})]}):null;function aN(){return b.jsx(tN,{children:b.jsx(lN,{})})}function lN(){const[s,e]=ve.useState(null),[i,a]=ve.useState(!0),[o,c]=ve.useState("web"),[d,p]=ve.useState(null),[y,_]=ve.useState(!1),[S,w]=ve.useState(!1),[P,F]=ve.useState(0),Z=ve.useRef(null),{addToast:W}=dp();ve.useEffect(()=>{const A=T2(jo,le=>{e(le),a(!1)});return()=>A()},[]),ve.useEffect(()=>{if(!s)return;const A=$x(Xd($d,"profiles",s.uid),le=>{if(le.exists())p(le.data());else{const Ie={stableId:Hc(),adultFilterEnabled:!0,blockedSites:[],blockedApps:[],vpnBlockEnabled:!1,protectionLockEnabled:!1};bv(Xd($d,"profiles",s.uid),Ie),p(Ie)}});return()=>A()},[s]);const J=async A=>{if(s){_(!0),p(A);try{await bv(Xd($d,"profiles",s.uid),A,{merge:!0})}catch{W("     ","error")}finally{setTimeout(()=>_(!1),800)}}},ue=d?.protectionLockEnabled;ve.useEffect(()=>{if(!d?.protectionLockEnabled){F(0),Z.current=null;return}const A=()=>{document.visibilityState!=="visible"&&(Z.current=Date.now(),F(0))};return Z.current||(Z.current=Date.now(),F(0)),window.addEventListener("blur",A),document.addEventListener("visibilitychange",A),()=>{window.removeEventListener("blur",A),document.removeEventListener("visibilitychange",A)}},[d?.protectionLockEnabled]),ve.useEffect(()=>{if(!d?.protectionLockEnabled||document.visibilityState!=="visible")return;Z.current||(Z.current=Date.now(),F(0));const A=setInterval(()=>{const le=Math.floor((Date.now()-Z.current)/1e3);F(Math.min(le,3600))},1e3);return()=>clearInterval(A)},[d?.protectionLockEnabled,Z]);const pe=()=>{const A=!d.adultFilterEnabled;if(ue&&!A){W("        ","error");return}J({...d,adultFilterEnabled:A}),W("  ","success")},fe=()=>{const A=!d.vpnBlockEnabled;if(ue&&!A){W("       VPN ","error");return}J({...d,vpnBlockEnabled:A}),W(A?"   VPN":"   VPN","success")},Be=A=>{const Ie=(Array.isArray(A)?A:[A]).filter(B=>B&&!d.blockedSites.includes(B));Ie.length>0&&(J({...d,blockedSites:[...d.blockedSites,...Ie]}),W(`  ${Ie.length} `,"success"))},Qe=A=>{if(ue){W("         ","error");return}J({...d,blockedSites:d.blockedSites.filter(le=>le!==A)})},Ce=()=>{if(!d.blockedSites)return;const A=[...new Set(d.blockedSites)];A.length<d.blockedSites.length?(J({...d,blockedSites:A}),W("  ","success")):W(" ","success")},N=A=>{const le=Array.isArray(A)?A:[A],Ie=d.blockedApps||[],B=le.filter(te=>!Ie.find(oe=>oe.bundleId===te.bundleId));B.length>0&&(J({...d,blockedApps:[...Ie,...B]}),W(`  ${B.length} `,"success"))},R=A=>{if(ue){W("         ","error");return}const le=d.blockedApps||[];J({...d,blockedApps:le.filter(Ie=>Ie.bundleId!==A)})},I=()=>{const A=d.blockedApps||[],le=[],Ie=new Map;for(const B of A)Ie.has(B.bundleId)||(Ie.set(B.bundleId,!0),le.push(B));le.length<A.length?(J({...d,blockedApps:le}),W("  ","success")):W(" ","success")},V=()=>w(!0),C=()=>{const A=eN({email:s.email},d),le=document.createElement("a");le.href=URL.createObjectURL(new Blob([A],{type:"application/x-apple-aspen-config; charset=utf-8"})),le.download=`Efaqa_${s.email.split("@")[0]}.mobileconfig`,le.click(),w(!1),W("  ","success")},M=()=>{const A=!!d.protectionLockEnabled;if(A&&P<3600){W("           ","error");return}const le=!A;F(0),Z.current=le?Date.now():null,J({...d,protectionLockEnabled:le}),W(le?"   ":"   ","success")};return i?b.jsx("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center",children:b.jsx(Gs,{className:"w-8 h-8 text-cyan-500 animate-spin"})}):s?d?b.jsxs(b.Fragment,{children:[S&&b.jsx(nN,{onComplete:C}),b.jsxs(rN,{user:s,onLogout:()=>b2(jo),activeTab:o,setActiveTab:c,children:[b.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:" "}),b.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[b.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-green-900/20 border border-green-500/30 text-green-400 text-xs font-bold relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-green-500/20 animate-pulse rounded-full"}),b.jsxs("div",{className:"relative flex items-center gap-2",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]"}),b.jsx(Xb,{className:"w-3.5 h-3.5 relative z-10"}),b.jsx("span",{className:"relative z-10",children:" "})]})]}),y&&b.jsxs("span",{className:"text-cyan-400 flex items-center gap-1.5 text-xs animate-pulse",children:[b.jsx(Gs,{className:"w-3.5 h-3.5 animate-spin"}),"  ..."]})]})]}),b.jsx("div",{className:"flex gap-3 w-full md:w-auto",children:b.jsx(mh,{onClick:V,icon:eS,className:"shadow-lg shadow-cyan-900/30 hover:shadow-cyan-900/50 hover:scale-[1.02] transition-all duration-300",children:"  "})})]}),b.jsxs("div",{className:"space-y-6",children:[o==="web"&&b.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[b.jsx(Pr,{title:" ",icon:b.jsx(Nv,{className:"w-4 h-4"}),headerAction:b.jsx(Am,{checked:d.adultFilterEnabled,onChange:pe}),children:b.jsx("div",{className:"p-6 bg-[#1E293B]/20",children:b.jsx("p",{className:"text-sm text-slate-400 leading-relaxed mt-2",children:"              .      ."})})}),b.jsxs(Pr,{title:" ",icon:b.jsx(oS,{className:"w-4 h-4"}),headerAction:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:Ce,className:"text-xs text-slate-500 hover:text-cyan-400 transition-colors px-2 py-1 rounded hover:bg-slate-800/50",children:" "}),b.jsx("span",{className:"text-xs text-slate-300 bg-slate-800 px-3 py-1.5 rounded font-mono border border-slate-700",children:d.blockedSites.length})]}),children:[b.jsx("div",{className:"p-6 border-b border-slate-800/60 bg-[#1E293B]/30",children:b.jsx(uN,{onAdd:Be})}),b.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar p-0 bg-[#0F172A]",children:d.blockedSites.length===0?b.jsxs("div",{className:"py-16 text-center",children:[b.jsx("div",{className:"bg-slate-800/50 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:b.jsx(Fc,{className:"w-6 h-6 text-slate-600"})}),b.jsx("p",{className:"text-slate-400 text-sm",children:" "})]}):b.jsx("div",{className:"divide-y divide-slate-800/60",children:d.blockedSites.map((A,le)=>b.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-800/30 transition-colors group",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500/50"}),b.jsx("span",{className:"text-sm text-slate-300 font-mono",children:A})]}),b.jsx("button",{onClick:()=>Qe(A),className:"text-slate-500 hover:text-red-400 transition-all duration-200 p-2 rounded-lg hover:bg-red-900/20 hover:scale-110 group/delete",children:b.jsx(K_,{className:"w-4 h-4 group-hover/delete:drop-shadow-[0_0_8px_rgba(239,68,68,0.5)] transition-all",strokeWidth:2})})]},le))})})]})]}),o==="apps"&&b.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[b.jsx(oN,{onAddApp:N}),b.jsx(Pr,{title:" ",icon:b.jsx(Zb,{className:"w-4 h-4"}),headerAction:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:I,className:"text-xs text-slate-500 hover:text-cyan-400 transition-colors px-2 py-1 rounded hover:bg-slate-800/50",children:" "}),b.jsx("span",{className:"text-xs text-slate-300 bg-slate-800 px-2.5 py-1 rounded font-mono border border-slate-700",children:d.blockedApps?d.blockedApps.length:0})]}),children:b.jsx("div",{className:"max-h-[500px] overflow-y-auto custom-scrollbar bg-[#0F172A]",children:!d.blockedApps||d.blockedApps.length===0?b.jsxs("div",{className:"py-16 text-center",children:[b.jsx("div",{className:"bg-slate-800/50 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:b.jsx(Zd,{className:"w-6 h-6 text-slate-600"})}),b.jsx("p",{className:"text-slate-400 text-sm",children:"    "})]}):b.jsx("div",{className:"divide-y divide-slate-800/60",children:d.blockedApps.map((A,le)=>b.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-slate-800/30 transition-colors group",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("img",{src:A.icon,alt:"",className:"w-10 h-10 rounded-lg bg-slate-800 border border-slate-700 shadow-sm"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm text-slate-200 font-bold",children:A.name}),b.jsx("div",{className:"text-xs text-slate-500 font-mono mt-0.5",children:A.bundleId})]})]}),b.jsx("button",{onClick:()=>R(A.bundleId),className:"text-slate-500 hover:text-red-400 transition-all duration-200 p-2 rounded-lg hover:bg-red-900/20 hover:scale-110 group/delete",children:b.jsx(K_,{className:"w-4 h-4 group-hover/delete:drop-shadow-[0_0_8px_rgba(239,68,68,0.5)] transition-all",strokeWidth:2})})]},le))})})})]}),o==="settings"&&b.jsx(sN,{user:s,lockEnabled:!!d.protectionLockEnabled,lockSeconds:P,onToggleLock:M}),o==="network"&&b.jsx("div",{className:"space-y-6 animate-fadeIn",children:b.jsx(Pr,{title:"  VPN",icon:b.jsx(vS,{className:"w-4 h-4"}),headerAction:b.jsx(Am,{checked:d.vpnBlockEnabled||!1,onChange:fe}),children:b.jsxs("div",{className:"p-6 bg-[#1E293B]/20",children:[b.jsx("p",{className:"text-sm text-slate-400 leading-relaxed mb-4",children:"         VPN   .           VPN."}),b.jsx("div",{className:`p-4 rounded-lg border ${d.vpnBlockEnabled?"bg-red-900/10 border-red-500/30":"bg-slate-800/30 border-slate-700/50"}`,children:b.jsx("div",{className:"flex items-center gap-3",children:d.vpnBlockEnabled?b.jsxs(b.Fragment,{children:[b.jsx(Rm,{className:"w-5 h-5 text-red-400"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-bold text-red-400",children:" VPN "}),b.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:"    VPN "})]})]}):b.jsxs(b.Fragment,{children:[b.jsx(Cv,{className:"w-5 h-5 text-slate-500"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-bold text-slate-400",children:" VPN  "}),b.jsx("div",{className:"text-xs text-slate-600 mt-0.5",children:"   VPN"})]})]})})})]})})})]})]})]}):b.jsx("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center text-slate-500 text-sm",children:" ..."}):b.jsx(iN,{})}const Av=async(s,e=5)=>{const i=`https://itunes.apple.com/search?term=${encodeURIComponent(s)}&entity=software&limit=${e}`,a=async c=>{try{const d=await fetch(c);if(d.status===429)throw new Error("429");if(!d.ok)return null;const p=await d.text();if(!p)return null;try{return JSON.parse(p)}catch{return null}}catch{return null}};let o=await a(`https://corsproxy.io/?${encodeURIComponent(i)}`);return o||(await new Promise(c=>setTimeout(c,1e3)),o=await a(`https://api.allorigins.win/raw?url=${encodeURIComponent(i)}`)),o?o.results||[]:[]},oN=({onAddApp:s})=>{const[e,i]=ve.useState(""),[a,o]=ve.useState([]),[c,d]=ve.useState(!1),[p,y]=ve.useState(null),[_,S]=ve.useState(!1),[w,P]=ve.useState(!1),[F,Z]=ve.useState(""),[W,J]=ve.useState([]),[ue,pe]=ve.useState(!1),[fe,Be]=ve.useState({}),[Qe,Ce]=ve.useState({current:0,total:0}),N=ve.useRef(null);ve.useEffect(()=>{if(w)return;const C=setTimeout(async()=>{if(e.length>2){d(!0),y(null);try{const M=await Av(e,5);o(M),S(!0),y(null)}catch{y("  .    ."),o([])}finally{d(!1)}}else o([]),S(!1),y(null)},500);return()=>clearTimeout(C)},[e,w]),ve.useEffect(()=>{const C=M=>{N.current&&!N.current.contains(M.target)&&S(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const R=async()=>{if(!F.trim())return;d(!0);const C=F.split(/\n/).map(B=>B.trim()).filter(B=>B.length>0),M=[],A=5;Ce({current:0,total:C.length});for(let B=0;B<C.length;B+=A){const oe=C.slice(B,B+A).map(async De=>{const O=await Av(De,1);return{term:De,result:O.length>0?O[0]:null}}),Le=await Promise.all(oe);M.push(...Le),Ce(De=>({...De,current:Math.min(B+A,C.length)})),B+A<C.length&&await new Promise(De=>setTimeout(De,2e4))}const le=M.filter(B=>B.result!==null);J(le);const Ie={};le.forEach((B,te)=>{Ie[te]=!0}),Be(Ie),pe(!0),d(!1)},I=()=>{const C=W.filter((M,A)=>fe[A]).map(M=>({name:M.result.trackName,icon:M.result.artworkUrl60,bundleId:M.result.bundleId}));C.length>0&&s(C),P(!1),pe(!1),Z(""),J([])},V=C=>{Be(M=>({...M,[C]:!M[C]}))};return b.jsxs("div",{className:"w-full mb-6",children:[b.jsxs("div",{className:"flex justify-between items-end mb-3",children:[b.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[b.jsx(Rc,{className:"w-4 h-4 text-cyan-500"}),"   "]}),b.jsx("button",{onClick:()=>{P(!w),i(""),Z(""),pe(!1)},className:"text-xs text-slate-500 hover:text-cyan-400 transition-colors flex items-center gap-1 px-2 py-1 rounded hover:bg-slate-800/50",children:w?" ":b.jsxs(b.Fragment,{children:[b.jsx(Iv,{className:"w-3 h-3"}),"  "]})})]}),w?b.jsx("div",{className:"bg-[#0F172A] border border-slate-800 rounded-xl p-5 shadow-lg",children:ue?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-slate-800 pb-2",children:[b.jsxs("span",{className:"text-xs text-white font-bold",children:[" (",W.length,")"]}),b.jsx("button",{onClick:()=>pe(!1),className:"text-xs text-slate-500 hover:text-white px-2 py-1 rounded hover:bg-slate-800/50",children:""})]}),b.jsx("div",{className:"max-h-[250px] overflow-y-auto custom-scrollbar mb-4 space-y-1 pr-1",children:W.map((C,M)=>b.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-slate-800/30 border border-slate-800/50",children:[b.jsx("button",{onClick:()=>V(M),className:"text-cyan-500",children:fe[M]?b.jsx(SS,{className:"w-4 h-4"}):b.jsx(wS,{className:"w-4 h-4 text-slate-600"})}),b.jsx("img",{src:C.result.artworkUrl60,alt:"",className:"w-8 h-8 rounded bg-slate-900"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:"text-xs text-white truncate font-bold",children:C.result.trackName}),b.jsxs("div",{className:"text-xs text-slate-500",children:[" : ",C.term]})]})]},M))}),b.jsx(mh,{onClick:I,disabled:W.length===0,icon:Gc,children:" "})]}):b.jsxs(b.Fragment,{children:[b.jsx("textarea",{value:F,onChange:C=>Z(C.target.value),placeholder:`PUBG
TikTok
Snapchat`,className:"w-full bg-[#020617] border border-slate-800 rounded-lg py-3 px-4 text-white placeholder-slate-600 focus:outline-none focus:border-cyan-500/50 text-xs min-h-[120px] resize-y mb-4 font-mono",dir:"ltr"}),b.jsx(mh,{onClick:R,disabled:c||!F.trim(),icon:c?Gs:Rc,className:c?"cursor-wait":"",children:c?`  (${Qe.current}/${Qe.total})...`:"  ( 100%)"})]})}):b.jsxs("div",{className:"relative",ref:N,children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:c?b.jsx(Gs,{className:"h-4 w-4 text-cyan-500 animate-spin"}):b.jsx(Rc,{className:"h-4 w-4 text-slate-500"})}),b.jsx("input",{type:"text",value:e,onChange:C=>{i(C.target.value),C.target.value.length>2&&S(!0)},onFocus:()=>{e.length>2&&a.length>0&&S(!0)},placeholder:"  (: Instagram)...",className:"w-full bg-[#0F172A] border border-slate-800 rounded-lg py-3.5 pr-10 pl-4 text-white placeholder-slate-600 focus:outline-none focus:border-cyan-500/50 text-sm shadow-sm"})]}),_&&e.length>2&&!w&&b.jsx("div",{className:"absolute top-full mt-2 w-full bg-[#0F172A] border border-slate-800 rounded-xl shadow-2xl z-50 overflow-hidden max-h-[400px] overflow-y-auto",children:c?b.jsxs("div",{className:"p-8 text-center",children:[b.jsx(Gs,{className:"w-6 h-6 text-cyan-500 animate-spin mx-auto mb-2"}),b.jsx("p",{className:"text-xs text-slate-400",children:" ..."})]}):p?b.jsxs("div",{className:"p-6 text-center",children:[b.jsx(Rm,{className:"w-6 h-6 text-red-400 mx-auto mb-2"}),b.jsx("p",{className:"text-sm text-red-400 font-bold",children:p}),b.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"   "})]}):a.length>0?a.map(C=>b.jsxs("button",{onClick:()=>{s({name:C.trackName,icon:C.artworkUrl60,bundleId:C.bundleId}),i(""),o([]),S(!1)},className:"w-full flex items-center gap-3 p-3 hover:bg-slate-800 transition-colors text-right group border-b border-slate-800/50 last:border-0",children:[b.jsx("img",{src:C.artworkUrl60,alt:C.trackName,className:"w-10 h-10 rounded-lg bg-slate-900 border border-slate-700",onError:M=>{M.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"%3E%3Crect fill="%231e293b" width="40" height="40" rx="8"/%3E%3Ctext x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" fill="%23475569" font-size="20" font-weight="bold"%3EApp%3C/text%3E%3C/svg%3E'}}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:"text-sm text-white font-bold truncate",children:C.trackName}),b.jsx("div",{className:"text-xs text-slate-500 font-mono truncate",children:C.bundleId})]}),b.jsx(Gc,{className:"w-4 h-4 text-slate-600 group-hover:text-cyan-500 transition-colors flex-shrink-0"})]},C.trackId)):b.jsxs("div",{className:"p-8 text-center",children:[b.jsx(Rc,{className:"w-8 h-8 text-slate-600 mx-auto mb-3 opacity-50"}),b.jsx("p",{className:"text-sm text-slate-400 font-bold",children:"  "}),b.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"   "})]})})]})]})},uN=({onAdd:s})=>{const[e,i]=ve.useState(""),[a,o]=ve.useState(!1),c=d=>{if(d.preventDefault(),!e.trim())return;const p=y=>{let _=y.trim().toLowerCase().replace(/^(?:https?:\/\/)?/i,"").replace(/^(?:www\.)?/i,"").split("/")[0];return _&&_.length>3&&_.includes(".")?_:null};if(a){const y=e.split(/\n/).map(p).filter(Boolean);y.length>0&&s(y)}else{const y=p(e);y&&s(y)}i(""),o(!1)};return b.jsxs("div",{className:"w-full",children:[b.jsx("div",{className:"flex justify-end mb-2",children:b.jsx("button",{type:"button",onClick:()=>{o(!a),i("")},className:"text-xs text-slate-500 hover:text-white transition-colors flex items-center gap-1 px-2 py-1 rounded hover:bg-slate-800/50",children:a?" ":b.jsxs(b.Fragment,{children:[b.jsx(Iv,{className:"w-3 h-3"}),"  "]})})}),b.jsxs("form",{onSubmit:c,className:"relative",children:[a?b.jsx("textarea",{value:e,onChange:d=>i(d.target.value),placeholder:`facebook.com
tiktok.com`,className:"w-full bg-[#020617] border border-slate-800 rounded-lg py-3 px-4 text-white placeholder-slate-600 focus:outline-none focus:border-cyan-500/50 text-sm min-h-[100px] font-mono",dir:"ltr"}):b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:b.jsx(Fc,{className:"h-4 w-4 text-slate-500 group-focus-within:text-cyan-400 transition-colors"})}),b.jsx("input",{type:"text",value:e,onChange:d=>i(d.target.value),placeholder:"  (facebook.com)",className:"w-full bg-[#0a0f1a] border border-slate-700/50 rounded-lg py-2.5 pr-10 pl-20 text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500/60 focus:ring-2 focus:ring-cyan-500/20 focus:bg-[#0d1117] text-sm font-mono transition-all duration-200"})]}),b.jsxs("button",{type:"submit",disabled:!e.trim(),className:`absolute left-1.5 ${a?"bottom-3":"top-1.5 bottom-1.5"} bg-slate-800 hover:bg-slate-700 disabled:opacity-0 text-white px-3 rounded-md text-xs font-bold transition-all flex items-center gap-1 border border-slate-700`,children:[b.jsx(Gc,{className:"w-3 h-3"})," "]})]})]})};qb.createRoot(document.getElementById("root")).render(b.jsx(ve.StrictMode,{children:b.jsx(aN,{})}));
